<?xml version="1.0" encoding="UTF-8"?><diffreport><diff><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">class:MemorySegment [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="class:MemorySegment"/> <section class="class-description" id="class-description"> <hr/><div class="type-signature"> <span class="modifiers">public sealed interface    </span><span class="element-name type-name-label">MemorySegment</span> </div><div class="preview-block" id="preview-java.lang.foreign.MemorySegment"> <span class="preview-label"><code>MemorySegment</code> is a preview API of the Java platform.        </span><div class="preview-comment"> Programs can only use <code>MemorySegment</code> when preview features are enabled.          </div><div class="preview-comment">Preview features may be removed in a future release, or upgraded to permanent features of the Java platform.                 </div> </div><div class="block"> A memory segment provides access to a contiguous region of memory.<p> There are two kinds of memory segments:<ul><li> A <em>heap segment </em> is backed by, and provides access to, a region of memory inside the Java heap (an "on-heap" region).                    </li><li> A <em>native segment </em> is backed by, and provides access to, a region of memory outside the Java heap (an "off-heap" region).                    </li></ul> Heap segments can be obtained by calling one of the <a href="#ofArray(int%5B%5D)"><code>ofArray(int[])</code></a> factory methods. These methods return a memory segment backed by the on-heap region that holds the specified Java array.                                     </p><p> Native segments can be obtained by calling one of the <a href="Arena.html#allocate(long,long)"><code><span class="diff-html-removed">allocateNative</span><span class="diff-html-added">Arena.allocate</span>(long, long<span class="diff-html-removed">,</span> <span class="diff-html-removed">SegmentScope)</span><span class="diff-html-added">)</span>  </code></a><sup><a href="Arena.html#preview-java.lang.foreign.Arena"><span class="diff-html-added">PREVIEW</span></a></sup> factory methods, which return a memory segment backed by a newly allocated off-heap region with the given size and aligned to the given alignment constraint. Alternatively, native segments can be obtained by <a href="../../nio/channels/FileChannel.html#map(java.nio.channels.FileChannel.MapMode,long,long,java.lang.foreign.Arena)"><code>mapping</code></a><sup><a href="../../nio/channels/FileChannel.html#preview-map(java.nio.channels.FileChannel.MapMode,long,long,java.lang.foreign.Arena)">PREVIEW</a></sup> a file into a new off-heap region (in some systems, this operation is sometimes referred to as <code>mmap</code>). Segments obtained in this way are called <em>mapped</em> segments, and their contents can be <a href="#force()">persisted</a> and <a href="#load()">loaded</a> to and from the underlying memory-mapped file.                                                                                      </p><p> Both kinds of segments are read and written using the same methods, known as <a href="#segment-deref">access operations </a>. An access operation on a memory segment always and only provides access to the region for which the segment was obtained.                                    </p><h2 id="segment-characteristics">Characteristics of memory segments   </h2> Every memory segment has an <a href="#address()">address</a>, expressed as a <code>long</code> value. The nature of a segment's address depends on the kind of the segment:<ul><li> The address of a heap segment is not a physical address, but rather an offset within the region of memory which backs the segment. The region is inside the Java heap, so garbage collection might cause the region to be relocated in physical memory over time, but this is not exposed to clients of the <code>MemorySegment</code> API who see a stable <em>virtualized</em> address for a heap segment backed by the region. A heap segment obtained from one of the <a href="#ofArray(int%5B%5D)"><code>ofArray(int[])</code></a> factory methods has an address of zero.                                                                                       </li><li>The address of a native segment (including mapped segments) denotes the physical address of the region of memory which backs the segment.                     </li></ul><p> Every memory segment has a <a href="#byteSize()">size</a>. The size of a heap segment is derived from the Java array from which it is obtained. This size is predictable across Java runtimes. The size of a native segment is either passed explicitly (as in <a href="Arena.html#allocate(long,long)"><code><span class="diff-html-removed">allocateNative</span><span class="diff-html-added">Arena.allocate</span>(long, <span class="diff-html-removed">SegmentScope)</span><span class="diff-html-added">long)</span> </code></a><sup><a href="Arena.html#preview-java.lang.foreign.Arena"><span class="diff-html-added">PREVIEW</span></a></sup>) or derived from a <a href="MemoryLayout.html" title="interface in java.lang.foreign"><code>MemoryLayout</code></a><sup><a href="MemoryLayout.html#preview-java.lang.foreign.MemoryLayout">PREVIEW</a></sup> (as in <a href="SegmentAllocator.html#allocate(java.lang.foreign.MemoryLayout)"><code><span class="diff-html-removed">allocateNative</span><span class="diff-html-added">SegmentAllocator.allocate</span>(MemoryLayout<span class="diff-html-removed">,</span> <span class="diff-html-removed">SegmentScope)</span><span class="diff-html-added">)</span> </code></a><sup><a href="SegmentAllocator.html#preview-java.lang.foreign.SegmentAllocator"><span class="diff-html-added">PREVIEW</span></a></sup>). The size of a memory segment is typically a positive number but may be <a href="#wrapping-addresses">zero</a>, but never negative.                                                                     </p><p> The address and size of a memory segment jointly ensure that access operations on the segment cannot fall <em>outside</em> the boundaries of the region of memory which backs the segment. That is, a memory segment has <em>spatial bounds </em>.                                     </p><p> Every memory segment is associated with a <a href="MemorySegment.Scope.html" title="interface in java.lang.foreign">scope</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>. This ensures that access operations on a memory segment cannot occur when the region of memory which backs the memory segment is no longer available (e.g., after the scope associated with the accessed memory segment is no longer <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>). That is, a memory segment has <em>temporal bounds </em>.                                                      </p><p> Finally, access operations on a memory segment <span class="diff-html-removed">are</span><span class="diff-html-added">can</span> <span class="diff-html-added">be</span> subject to <span class="diff-html-removed">the</span><span class="diff-html-added">additional</span> thread-confinement checks <span class="diff-html-removed">enforced</span> <span class="diff-html-removed">by</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">associated</span> <span class="diff-html-removed">scope;</span> <span class="diff-html-removed">that</span> <span class="diff-html-removed">is,</span> <span class="diff-html-removed">if</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">the</span> <a href="SegmentScope.html#global()" changeType="diff-removed-tag"><span class="diff-html-removed">global</span> <span class="diff-html-removed">scope</span> </a><sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup> <span class="diff-html-removed">or</span> <span class="diff-html-removed">an</span> <a href="SegmentScope.html#auto()" changeType="diff-removed-tag"><span class="diff-html-removed">automatic</span> <span class="diff-html-removed">scope</span> </a><sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed">,</span> <span class="diff-html-removed">it</span><span class="diff-html-added">.</span> <span class="diff-html-added">Heap</span> <span class="diff-html-added">segments</span> can be accessed <span class="diff-html-removed">by</span> <span class="diff-html-removed">multiple</span> <span class="diff-html-removed">threads.</span> <span class="diff-html-removed">If</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">an</span> <span class="diff-html-removed">arena</span> <span class="diff-html-removed">scope,</span> <span class="diff-html-removed">then</span> <span class="diff-html-removed">it</span><span class="diff-html-added">from</span> <span class="diff-html-added">any</span> <span class="diff-html-added">thread.</span> <span class="diff-html-added">Conversely,</span> <span class="diff-html-added">native</span> <span class="diff-html-added">segments</span> can only be accessed compatibly with the <a href="ScopedArena.html#thread-confinement"><span class="diff-html-removed">arena</span>confinement characteristics </a> <span class="diff-html-added">of</span> <span class="diff-html-added">the</span> <span class="diff-html-added">arena</span> <span class="diff-html-added">used</span> <span class="diff-html-added">to</span> <span class="diff-html-added">obtain</span> <span class="diff-html-added">them</span>.                                                                        </p><h2 id="segment-deref">Accessing memory segments  </h2> A memory segment can be read or written using various access operations provided in this class (e.g. <a href="#get(java.lang.foreign.ValueLayout.OfInt,long)"><code>get(ValueLayout.OfInt, long) </code></a>). Each access operation takes a <a href="ValueLayout.html" title="interface in java.lang.foreign">value layout </a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup>, which specifies the size and shape of the value, and an offset, expressed in bytes. For instance, to read an int from a segment, using <a href="../../nio/ByteOrder.html#nativeOrder()">default endianness </a>, the following code can be used:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java">MemorySegment segment = ...
int value = segment.get(ValueLayout.JAVA_INT, 0);
</code>
                                </pre> </div> If the value to be read is stored in memory using <a href="../../nio/ByteOrder.html#BIG_ENDIAN">big-endian</a> encoding, the access operation can be expressed as follows:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java">MemorySegment segment = ...
int value = segment.get(ValueLayout.JAVA_INT.withOrder(BIG_ENDIAN), 0);
</code>
                                </pre> </div> For more complex access operations (e.g. structured memory access), clients can obtain a <a href="../invoke/MethodHandles.html#memorySegmentViewVarHandle(java.lang.foreign.ValueLayout)">var handle </a><sup><a href="../invoke/MethodHandles.html#preview-memorySegmentViewVarHandle(java.lang.foreign.ValueLayout)">PREVIEW</a></sup> that accepts a segment and a <code>long</code> offset. More complex var handles can be obtained by adapting a segment var handle view using the var handle combinator functions defined in the <a href="../invoke/MethodHandles.html" title="class in java.lang.invoke"><code>MethodHandles</code></a> class:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java">MemorySegment segment = ...
VarHandle intHandle = MethodHandles.memorySegmentViewVarHandle(ValueLayout.JAVA_INT);
MethodHandle multiplyExact = MethodHandles.lookup()
                                          .findStatic(Math.class, "multiplyExact",
                                                                  MethodType.methodType(long.class, long.class, long.class));
intHandle = MethodHandles.filterCoordinates(intHandle, 1,
                                            MethodHandles.insertArguments(multiplyExact, 0, 4L));
intHandle.get(segment, 3L); // get int element at offset 3 * 4 = 12
</code>
                                </pre> </div> Alternatively, complex var handles can can be obtained from <a href="MemoryLayout.html#varHandle(java.lang.foreign.MemoryLayout.PathElement...)">memory layouts </a><sup><a href="MemoryLayout.html#preview-java.lang.foreign.MemoryLayout">PREVIEW</a></sup> by providing a so called <a href="MemoryLayout.html#layout-paths"><em>layout path </em></a>:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java">MemorySegment segment = ...
VarHandle intHandle = ValueLayout.JAVA_INT.arrayElementVarHandle();
intHandle.get(segment, 3L); // get int element at offset 3 * 4 = 12
</code>
                                </pre> </div><h2 id="slicing">Slicing memory segments  </h2> Memory segments support <a href="#asSlice(long,long)">slicing</a>. Slicing a memory segment returns a new memory segment that is backed by the same region of memory as the original. The address of the sliced segment is derived from the address of the original segment, by adding an offset (expressed in bytes). The size of the sliced segment is either derived implicitly (by subtracting the specified offset from the size of the original segment), or provided explicitly. In other words, a sliced segment has <em>stricter</em> spatial bounds than those of the original segment:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java"> Arena arena = ...
 MemorySegment segment = arena.allocate(100);
 MemorySegment slice = segment.asSlice(50, 10);
 slice.get(ValueLayout.JAVA_INT, 20); // Out of bounds!
 arena.close();
 slice.get(ValueLayout.JAVA_INT, 0); // Already closed!
</code>
                                </pre> </div> The above code creates a native segment that is 100 bytes long; then, it creates a slice that starts at offset 50 of <code>segment</code>, and is 10 bytes long. That is, the address of the <code>slice</code> is <code>segment.address() + 50  </code>, and its size is 10. As a result, attempting to read an int value at offset 20 of the <code>slice</code> segment will result in an exception. The <a href="Arena.html" title="interface in java.lang.foreign">temporal bounds </a><sup><a href="Arena.html#preview-java.lang.foreign.Arena">PREVIEW</a></sup> of the original segment is inherited by its slices; that is, when the scope associated with <code>segment</code> is no longer <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>, <code>slice</code> will also be become inaccessible.<p> A client might obtain a <a href="../../util/stream/Stream.html" title="interface in java.util.stream"><code>Stream</code></a> from a segment, which can then be used to slice the segment (according to a given element layout) and even allow multiple threads to work in parallel on disjoint segment slices (to do this, the segment has to be <a href="#isAccessibleBy(java.lang.Thread)"> <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">scope</span> <span class="diff-html-removed">that</span> <span class="diff-html-removed">allows</span> <a href="SegmentScope.html#isAccessibleBy(java.lang.Thread)" changeType="diff-removed-tag"><span class="diff-html-removed">access</span></a><sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-added">accessible</span>       </a> from multiple threads). The following code can be used to sum all int values in a memory segment in parallel:                                                                  </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java"> try (Arena arena = Arena.<span class="diff-html-removed">openShared</span><span class="diff-html-added">ofShared</span>()) {
     SequenceLayout SEQUENCE_LAYOUT = MemoryLayout.sequenceLayout(1024, ValueLayout.JAVA_INT);
     MemorySegment segment = arena.allocate(SEQUENCE_LAYOUT);
     int sum = segment.elements(ValueLayout.JAVA_INT).parallel()
                      .mapToInt(s -&gt; s.get(ValueLayout.JAVA_INT, 0))
                      .sum();
 }
</code>
                                </pre> </div><h2 id="segment-alignment">Alignment</h2> Access operations on a memory segment are constrained not only by the spatial and temporal bounds of the segment, but also by the <em>alignment constraint </em> of the value layout specified to the operation. An access operation can access only those offsets in the segment that denote addresses in physical memory which are <em>aligned</em> according to the layout. An address in physical memory is <em>aligned</em> according to a layout if the address is an integer multiple of the layout's alignment constraint. For example, the address 1000 is aligned according to an 8-byte alignment constraint (because 1000 is an integer multiple of 8), and to a 4-byte alignment constraint, and to a 2-byte alignment constraint; in contrast, the address 1004 is aligned according to a 4-byte alignment constraint, and to a 2-byte alignment constraint, but not to an 8-byte alignment constraint. Access operations are required to respect alignment because it can impact the performance of access operations, and can also determine which access operations are available at a given physical address. For instance, <a href="../invoke/VarHandle.html#compareAndSet(java.lang.Object...)">atomic access operations  </a> operations using <a href="../invoke/VarHandle.html" title="class in java.lang.invoke"><code>VarHandle</code></a> are only permitted at aligned addresses. In addition, alignment applies to an access operation whether the segment being accessed is a native segment or a heap segment.<p> If the segment being accessed is a native segment, then its <a href="#address()">address</a> in physical memory can be combined with the offset to obtain the <em>target address </em> in physical memory. The pseudo-function below demonstrates this:                                 </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java">boolean isAligned(MemorySegment segment, long offset, MemoryLayout layout) {
  return ((segment.address() + offset) % layout.byteAlignment()) == 0;
}
</code>
                                </pre> </div> For example:<ul><li>A native segment with address 1000 can be accessed at offsets 0, 8, 16, 24, etc under an 8-byte alignment constraint, because the target addresses (1000, 1008, 1016, 1024) are 8-byte aligned. Access at offsets 1-7 or 9-15 or 17-23 is disallowed because the target addresses would not be 8-byte aligned.                                                  </li><li>A native segment with address 1000 can be accessed at offsets 0, 4, 8, 12, etc under a 4-byte alignment constraint, because the target addresses (1000, 1004, 1008, 1012) are 4-byte aligned. Access at offsets 1-3 or 5-7 or 9-11 is disallowed because the target addresses would not be 4-byte aligned.                                                  </li><li>A native segment with address 1000 can be accessed at offsets 0, 2, 4, 6, etc under a 2-byte alignment constraint, because the target addresses (1000, 1002, 1004, 1006) are 2-byte aligned. Access at offsets 1 or 3 or 5 is disallowed because the target addresses would not be 2-byte aligned.                                                  </li><li>A native segment with address 1004 can be accessed at offsets 0, 4, 8, 12, etc under a 4-byte alignment constraint, and at offsets 0, 2, 4, 6, etc under a 2-byte alignment constraint. Under an 8-byte alignment constraint, it can be accessed at offsets 4, 12, 20, 28, etc.                                                 </li><li>A native segment with address 1006 can be accessed at offsets 0, 2, 4, 6, etc under a 2-byte alignment constraint. Under a 4-byte alignment constraint, it can be accessed at offsets 2, 6, 10, 14, etc. Under an 8-byte alignment constraint, it can be accessed at offsets 2, 10, 18, 26, etc.                                                    </li><li>A native segment with address 1007 can be accessed at offsets 0, 1, 2, 3, etc under a 1-byte alignment constraint. Under a 2-byte alignment constraint, it can be accessed at offsets 1, 3, 5, 7, etc. Under a 4-byte alignment constraint, it can be accessed at offsets 1, 5, 9, 13, etc. Under an 8-byte alignment constraint, it can be accessed at offsets 1, 9, 17, 25, etc.                                                                    </li></ul><p> The alignment constraint used to access a segment is typically dictated by the shape of the data structure stored in the segment. For example, if the programmer wishes to store a sequence of 8-byte values in a native segment, then the segment should be allocated by specifying a 8-byte alignment constraint, either via <a href="Arena.html#allocate(long,long)"><code><span class="diff-html-removed">allocateNative</span><span class="diff-html-added">Arena.allocate</span>(long, long<span class="diff-html-removed">,</span> <span class="diff-html-removed">SegmentScope)</span><span class="diff-html-added">)</span>  </code></a><sup><a href="Arena.html#preview-java.lang.foreign.Arena"><span class="diff-html-added">PREVIEW</span></a></sup> or <a href="SegmentAllocator.html#allocate(java.lang.foreign.MemoryLayout)"><code><span class="diff-html-removed">allocateNative</span><span class="diff-html-added">SegmentAllocator.allocate</span>(MemoryLayout<span class="diff-html-removed">,</span> <span class="diff-html-removed">SegmentScope)</span><span class="diff-html-added">)</span> </code></a><sup><a href="SegmentAllocator.html#preview-java.lang.foreign.SegmentAllocator"><span class="diff-html-added">PREVIEW</span></a></sup>. These factories ensure that the off-heap region of memory backing the returned segment has a starting address that is 8-byte aligned. Subsequently, the programmer can access the segment at the offsets of interest -- 0, 8, 16, 24, etc -- in the knowledge that every such access is aligned.                                                                                                         </p><p> If the segment being accessed is a heap segment, then determining whether access is aligned is more complex. The address of the segment in physical memory is not known, and is not even fixed (it may change when the segment is relocated during garbage collection). This means that the address cannot be combined with the specified offset to determine a target address in physical memory. Since the alignment constraint <em>always</em> refers to alignment of addresses in physical memory, it is not possible in principle to determine if any offset in a heap segment is aligned. For example, suppose the programmer chooses a 8-byte alignment constraint and tries to access offset 16 in a heap segment. If the heap segment's address 0 corresponds to physical address 1000, then the target address (1016) would be aligned, but if address 0 corresponds to physical address 1004, then the target address (1020) would not be aligned. It is undesirable to allow access to target addresses that are aligned according to the programmer's chosen alignment constraint, but might not be predictably aligned in physical memory (e.g. because of platform considerations and/or garbage collection behavior).                                                                                                                                                                                             </p><p> In practice, the Java runtime lays out arrays in memory so that each n-byte element occurs at an n-byte aligned physical address. The runtime preserves this invariant even if the array is relocated during garbage collection. Access operations rely on this invariant to determine if the specified offset in a heap segment refers to an aligned address in physical memory. For example:<ul><li> The starting physical address of a <code>long[]</code> array will be 8-byte aligned (e.g. 1000), so that successive long elements occur at 8-byte aligned addresses (e.g., 1000, 1008, 1016, 1024, etc.) A heap segment backed by a <code>long[]</code> array can be accessed at offsets 0, 8, 16, 24, etc under an 8-byte alignment constraint. In addition, the segment can be accessed at offsets 0, 4, 8, 12, etc under a 4-byte alignment constraint, because the target addresses (1000, 1004, 1008, 1012) are 4-byte aligned. And, the segment can be accessed at offsets 0, 2, 4, 6, etc under a 2-byte alignment constraint, because the target addresses (e.g. 1000, 1002, 1004, 1006) are 2-byte aligned.                                                                                                                 </li><li> The starting physical address of a <code>short[]</code> array will be 2-byte aligned (e.g. 1006) so that successive short elements occur at 2-byte aligned addresses (e.g. 1006, 1008, 1010, 1012, etc). A heap segment backed by a <code>short[]</code> array can be accessed at offsets 0, 2, 4, 6, etc under a 2-byte alignment constraint. The segment cannot be accessed at <em>any</em> offset under a 4-byte alignment constraint, because there is no guarantee that the target address would be 4-byte aligned, e.g., offset 0 would correspond to physical address 1006 while offset 1 would correspond to physical address 1007. Similarly, the segment cannot be accessed at any offset under an 8-byte alignment constraint, because because there is no guarantee that the target address would be 8-byte aligned, e.g., offset 2 would correspond to physical address 1008 but offset 4 would correspond to physical address 1010.                                                                                                                                               </li></ul>                                                              </p><p> In other words, heap segments feature a <em>maximum</em> alignment which is derived from the size of the elements of the Java array backing the segment, as shown in the following table:                               </p><blockquote><table class="plain"> <caption style="display:none">Maximum alignment of heap segments    </caption> <thead><tr><th scope="col">Array type (of backing region)    </th><th scope="col">Maximum supported alignment (in bytes)    </th></tr>  </thead><tbody><tr><th scope="row" style="font-weight:normal"><code>boolean[]</code></th><td style="text-align:center;"><code>1</code></td></tr><tr><th scope="row" style="font-weight:normal"><code>byte[]</code></th><td style="text-align:center;"><code>1</code></td></tr><tr><th scope="row" style="font-weight:normal"><code>char[]</code></th><td style="text-align:center;"><code>2</code></td></tr><tr><th scope="row" style="font-weight:normal"><code>short[]</code></th><td style="text-align:center;"><code>2</code></td></tr><tr><th scope="row" style="font-weight:normal"><code>int[]</code></th><td style="text-align:center;"><code>4</code></td></tr><tr><th scope="row" style="font-weight:normal"><code>float[]</code></th><td style="text-align:center;"><code>4</code></td></tr><tr><th scope="row" style="font-weight:normal"><code>long[]</code></th><td style="text-align:center;"><code>8</code></td></tr><tr><th scope="row" style="font-weight:normal"><code>double[]</code></th><td style="text-align:center;"><code>8</code></td></tr></tbody>  </table></blockquote> Heap segments can only be accessed using a layout whose alignment is smaller or equal to the maximum alignment associated with the heap segment. Attempting to access a heap segment using a layout whose alignment is greater than the maximum alignment associated with the heap segment will fail, as demonstrated in the following example:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java">MemorySegment byteSegment = MemorySegment.ofArray(new byte[10]);
byteSegment.get(ValueLayout.JAVA_INT, 0); // fails: layout alignment is 4, segment max alignment is 1
</code>
                                </pre> </div> In such circumstances, clients have two options. They can use a heap segment backed by a different array type (e.g. <code>long[]</code>), capable of supporting greater maximum alignment:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java">MemorySegment longSegment = MemorySegment.ofArray(new long[10]);
longSegment.get(ValueLayout.JAVA_INT, 0); // ok: layout alignment is 4, segment max alignment is 8
</code>
                                </pre> </div> Alternatively, they can invoke the access operation with an <em>unaligned layout </em>. All unaligned layout constants (e.g. <a href="ValueLayout.html#JAVA_INT_UNALIGNED"><code>ValueLayout.JAVA_INT_UNALIGNED</code></a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup>) have their alignment constraint set to 1:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java">MemorySegment byteSegment = MemorySegment.ofArray(new byte[10]);
byteSegment.get(ValueLayout.JAVA_INT_UNALIGNED, 0); // ok: layout alignment is 1, segment max alignment is 1
</code>
                                </pre> </div><h2 id="wrapping-addresses">Zero-length memory segments  </h2> When interacting with <a href="package-summary.html#ffa">foreign functions </a>, it is common for those functions to allocate a region of memory and return a pointer to that region. Modeling the region of memory with a memory segment is challenging because the Java runtime has no insight into the size of the region. Only the address of the start of the region, stored in the pointer, is available. For example, a C function with return type <code>char*</code> might return a pointer to a region containing a single <code>char</code> value, or to a region containing an array of <code>char</code> values, where the size of the array might be provided in a separate parameter. The size of the array is not readily apparent to the code calling the foreign function and hoping to use its result. <span class="diff-html-removed">The</span> <a href="Linker.html" title="interface in java.lang.foreign" changeType="diff-removed-tag"><code><span class="diff-html-removed">Linker</span></code><span class="diff-html-removed"/></a><sup changeType="diff-removed-tag"><a href="Linker.html#preview-java.lang.foreign.Linker"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup> <span class="diff-html-removed">represents</span><span class="diff-html-added">In</span> <span class="diff-html-added">addition</span> <span class="diff-html-added">to</span> <span class="diff-html-added">having</span> <span class="diff-html-added">no</span> <span class="diff-html-added">insight</span> <span class="diff-html-added">into</span> <span class="diff-html-added">the</span> <span class="diff-html-added">size</span> <span class="diff-html-added">of</span> <span class="diff-html-added">the</span> <span class="diff-html-added">region</span> <span class="diff-html-added">of</span> <span class="diff-html-added">memory</span> <span class="diff-html-added">backing</span> a pointer returned from a foreign function <span class="diff-html-removed">with</span> <span class="diff-html-removed">a</span><span class="diff-html-added">,</span> <span class="diff-html-added">it</span> <span class="diff-html-added">also</span> <span class="diff-html-added">has</span> <span class="diff-html-added">no</span> <span class="diff-html-added">insight</span> <span class="diff-html-added">into</span> <span class="diff-html-added">the</span> <span class="diff-html-added">lifetime</span> <span class="diff-html-added">intended</span> <span class="diff-html-added">for</span> <span class="diff-html-added">said</span> <span class="diff-html-added">region</span> <span class="diff-html-added">of</span> <span class="diff-html-added">memory</span> <span class="diff-html-added">by</span> <span class="diff-html-added">the</span> <span class="diff-html-added">foreign</span> <span class="diff-html-added">function</span> <span class="diff-html-added">that</span> <span class="diff-html-added">allocated</span> <span class="diff-html-added">it.</span><p> <span class="diff-html-added">The</span> <code><span class="diff-html-added">MemorySegment</span></code> <span class="diff-html-added">API</span> <span class="diff-html-added">uses</span> <em>zero-length <span class="diff-html-added">memory</span> <span class="diff-html-added">segments</span>  </em> <span class="diff-html-added">to</span> <span class="diff-html-added">represent:</span><ul><li><span class="diff-html-added">pointers</span> <span class="diff-html-added">returned</span> <span class="diff-html-added">from</span> <span class="diff-html-added">a</span> <span class="diff-html-added">foreign</span> <span class="diff-html-added">function;</span>     </li><li> <span class="diff-html-added">pointers</span> <span class="diff-html-added">passed</span> <span class="diff-html-added">by</span> <span class="diff-html-added">a</span> <span class="diff-html-added">foreign</span> <span class="diff-html-added">function</span> <span class="diff-html-added">to</span> <span class="diff-html-added">an</span> <a href="Linker.html#upcallStub(java.lang.invoke.MethodHandle,java.lang.foreign.FunctionDescriptor,java.lang.foreign.Arena,java.lang.foreign.Linker.Option...)"><span class="diff-html-added">upcall</span> <span class="diff-html-added">stub</span> </a><sup><a href="Linker.html#preview-java.lang.foreign.Linker"><span class="diff-html-added">PREVIEW</span></a></sup><span class="diff-html-added">;</span> <span class="diff-html-added">and</span>          </li><li> <span class="diff-html-added">pointers</span> <a href="#get(java.lang.foreign.ValueLayout.OfAddress,long)"><span class="diff-html-added">read</span></a> <span class="diff-html-added">from</span> <span class="diff-html-added">a</span> memory segment.      </li></ul> The address of the <span class="diff-html-added">zero-length</span> segment is the address stored in the pointer. The <span class="diff-html-removed">size</span><span class="diff-html-added">spatial</span> <span class="diff-html-added">and</span> <span class="diff-html-added">temporal</span> <span class="diff-html-added">bounds</span> of the <span class="diff-html-removed">segment</span> <span class="diff-html-removed">is</span>zero<span class="diff-html-removed">.</span> <span class="diff-html-removed">Similarly,</span> <span class="diff-html-removed">when</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">client</span> <span class="diff-html-removed">reads</span> <span class="diff-html-removed">an</span> <em changeType="diff-removed-tag"><span class="diff-html-removed">address</span></em> <span class="diff-html-removed">from</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">segment,</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">zero</span>-length <span class="diff-html-removed">memory</span><span class="diff-html-added">segment</span> <span class="diff-html-added">are</span> <span class="diff-html-added">as</span> <span class="diff-html-added">follows:</span><ul><li> <span class="diff-html-added">The</span> <span class="diff-html-added">size</span> <span class="diff-html-added">of</span> <span class="diff-html-added">the</span> segment is <span class="diff-html-removed">returned.</span> <span class="diff-html-removed">Since</span> <span class="diff-html-removed">a</span>zero<span class="diff-html-removed">-length</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">features</span> <span class="diff-html-removed">trivial</span> <span class="diff-html-removed">spatial</span> <span class="diff-html-removed">bounds,</span><span class="diff-html-added">.</span> any attempt to access these segments will fail with <a href="../IndexOutOfBoundsException.html" title="class in java.lang"><code>IndexOutOfBoundsException</code></a>. This is a crucial safety feature: as these segments are associated with a region of memory whose size is not known, any access operations involving these segments cannot be validated. In effect, a zero-length memory segment <em>wraps</em> an address, and it cannot be used without explicit intent <span class="diff-html-removed">.</span> <span class="diff-html-removed">Zero-length</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">segments</span> <span class="diff-html-removed">obtained</span> <span class="diff-html-removed">when</span> <span class="diff-html-removed">interacting</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">foreign</span> <span class="diff-html-removed">functions</span> <span class="diff-html-removed">are</span><span class="diff-html-added">(see</span> <span class="diff-html-added">below);</span>                                                                                   </li><li><span class="diff-html-added">The</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">is</span> associated with <span class="diff-html-removed">theglobal</span><span class="diff-html-added">a</span> <span class="diff-html-added">fresh</span> scope <sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed">.</span> <span class="diff-html-removed">This</span><span class="diff-html-added">that</span> is <span class="diff-html-removed">because</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">Java</span> <span class="diff-html-removed">runtime,</span> <span class="diff-html-removed">in</span> <span class="diff-html-removed">addition</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">having</span> <span class="diff-html-removed">no</span> <span class="diff-html-removed">insight</span> <span class="diff-html-removed">into</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">size</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">region</span> <span class="diff-html-removed">of</span><span class="diff-html-added">always</span> <span class="diff-html-added">alive.</span> <span class="diff-html-added">Thus,</span> <span class="diff-html-added">while</span> <span class="diff-html-added">zero-length</span> memory <span class="diff-html-removed">backing</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">pointer</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">from</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">foreign</span> <span class="diff-html-removed">function,</span> <span class="diff-html-removed">also</span> <span class="diff-html-removed">has</span> <span class="diff-html-removed">no</span> <span class="diff-html-removed">insight</span> <span class="diff-html-removed">into</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">lifetime</span> <span class="diff-html-removed">intended</span> <span class="diff-html-removed">for</span> <span class="diff-html-removed">said</span> <span class="diff-html-removed">region</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">by</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">foreign</span> <span class="diff-html-removed">function</span> <span class="diff-html-removed">that</span> <span class="diff-html-removed">allocated</span> <span class="diff-html-removed">it.</span> <span class="diff-html-removed">The</span> <span class="diff-html-removed">global</span> <span class="diff-html-removed">scope</span> <span class="diff-html-removed">ensures</span> <span class="diff-html-removed">that</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">obtained</span> <span class="diff-html-removed">segment</span><span class="diff-html-added">segments</span> <span class="diff-html-added">cannot</span> <span class="diff-html-added">be</span> <span class="diff-html-added">accessed</span> <span class="diff-html-added">directly,</span> <span class="diff-html-added">they</span> can be passed, opaquely, to other pointer-accepting foreign functions.                                                                                  </li></ul>                                              </p><p> To <span class="diff-html-removed">access</span><span class="diff-html-added">work</span> <span class="diff-html-added">with</span> native zero-length memory segments, clients have <span class="diff-html-removed">two</span><span class="diff-html-added">several</span> options, <span class="diff-html-removed">both</span><span class="diff-html-added">all</span> of which are <em>unsafe</em>. <span class="diff-html-removed">Clients</span>                 </p><p> <span class="diff-html-added">First,</span> <span class="diff-html-added">clients</span> can <a href="#ofAddress(long,long,java.lang.foreign.SegmentScope)" changeType="diff-removed-tag"><span class="diff-html-removed">obtain</span></a><span class="diff-html-added">unsafely</span> <span class="diff-html-added">resize</span> <span class="diff-html-added">a</span> <span class="diff-html-added">zero-length</span> <span class="diff-html-added">memory</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">by</span> <a href="#reinterpret(long)"><span class="diff-html-added">obtaining</span></a> a <em changeType="diff-removed-tag"><span class="diff-html-removed">new</span></em> <span class="diff-html-removed">native</span><span class="diff-html-added">memory</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">with</span> <span class="diff-html-added">the</span> <span class="diff-html-added">same</span> <span class="diff-html-added">base</span> <span class="diff-html-added">address</span> <span class="diff-html-added">as</span> <span class="diff-html-added">the</span> <span class="diff-html-added">zero-length</span> <span class="diff-html-added">memory</span> segment, <span class="diff-html-added">but</span> with <span class="diff-html-removed">new</span> <span class="diff-html-removed">spatial</span> <span class="diff-html-removed">and</span> <span class="diff-html-removed">temporal</span> <span class="diff-html-removed">bounds</span><span class="diff-html-added">the</span> <span class="diff-html-added">desired</span> <span class="diff-html-added">size,</span> <span class="diff-html-added">so</span> <span class="diff-html-added">that</span> <span class="diff-html-added">the</span> <span class="diff-html-added">resulting</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">can</span> <span class="diff-html-added">then</span> <span class="diff-html-added">be</span> <span class="diff-html-added">accessed</span> <span class="diff-html-added">directly</span>, as follows:                                              </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java"> <span class="diff-html-removed">SegmentScope</span><span class="diff-html-added">MemorySegment</span> <span class="diff-html-removed">scope</span><span class="diff-html-added">foreign</span> = <span class="diff-html-added">someSegment</span>.<span class="diff-html-added">get(ValueLayout</span>.<span class="diff-html-added">ADDRESS,</span> <span class="diff-html-added">0);</span> <span class="diff-html-added">//</span> <span class="diff-html-added">size</span> <span class="diff-html-added">=</span> <span class="diff-html-added">0</span>
                                    .<span class="diff-html-added">reinterpret(4)</span>               // <span class="diff-html-removed">obtains</span><span class="diff-html-added">size</span> <span class="diff-html-removed">a</span><span class="diff-html-added">=</span> <span class="diff-html-removed">scope</span><span class="diff-html-added">4</span>
 <span class="diff-html-removed">MemorySegment</span><span class="diff-html-added">int</span> <span class="diff-html-removed">foreign</span><span class="diff-html-added">x</span> = <span class="diff-html-removed">someSegment</span><span class="diff-html-added">foreign</span>.get(ValueLayout.<span class="diff-html-removed">ADDRESS</span><span class="diff-html-added">JAVA_INT</span>, 0);                    // <span class="diff-html-added">ok</span>
</code>
                       <span class="diff-html-removed">wrap</span>       <span class="diff-html-removed">address</span> <span class="diff-html-removed">into</span> </pre> </div><p> <span class="diff-html-added">In</span> <span class="diff-html-added">some</span> <span class="diff-html-added">cases,</span> <span class="diff-html-added">a</span> <span class="diff-html-added">client</span> <span class="diff-html-added">might</span> <span class="diff-html-added">additionally</span> <span class="diff-html-added">want</span> <span class="diff-html-added">to</span> <span class="diff-html-added">assign</span> <span class="diff-html-added">new</span> <span class="diff-html-added">temporal</span> <span class="diff-html-added">bounds</span> <span class="diff-html-added">to</span> <span class="diff-html-added">a</span> <span class="diff-html-added">zero-length</span> <span class="diff-html-added">memory</span> segment<span class="diff-html-added">.</span> <span class="diff-html-added">This</span> <span class="diff-html-added">can</span> <span class="diff-html-added">be</span> <span class="diff-html-added">done</span> <span class="diff-html-added">using</span> <span class="diff-html-added">the</span> <a href="#reinterpret(long,java.lang.foreign.MemorySegment.Scope,java.util.function.Consumer)"><code><span class="diff-html-added">reinterpret(long,</span> <span class="diff-html-added">Scope,</span> <span class="diff-html-added">Consumer)</span>  </code></a> <span class="diff-html-added">method,</span> <span class="diff-html-added">which</span> <span class="diff-html-added">returns</span> <span class="diff-html-added">a</span> <span class="diff-html-added">new</span> <span class="diff-html-added">native</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">with</span> <span class="diff-html-added">the</span> <span class="diff-html-added">desired</span> <span class="diff-html-added">size</span> <span class="diff-html-added">and</span> <span class="diff-html-added">the</span> <span class="diff-html-added">same</span> <span class="diff-html-added">temporal</span> <span class="diff-html-added">bounds</span> <span class="diff-html-added">as</span> <span class="diff-html-added">those</span> <span class="diff-html-added">in</span> <span class="diff-html-added">the</span> <span class="diff-html-added">provided</span> <span class="diff-html-added">arena:</span>                                               </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!"><span class="diff-html-added">Copy</span></span><span class="diff-html-added"><img src="../../../../copy.svg" alt="Copy" changeType="diff-added-image"/></span></button><pre class="snippet">
                                    <code class="language-java"> <span class="diff-html-added">MemorySegment</span> <span class="diff-html-added">foreign</span> <span class="diff-html-added">=</span> <span class="diff-html-added">null;</span>
 <span class="diff-html-added">try</span> (<span class="diff-html-removed">size</span><span class="diff-html-added">Arena</span> <span class="diff-html-added">arena</span> = <span class="diff-html-removed">0</span><span class="diff-html-added">Arena.ofConfined()</span>) <span class="diff-html-added">{</span>
       <span class="diff-html-removed">MemorySegmentsegment</span><span class="diff-html-added">foreign</span> = <span class="diff-html-removed">MemorySegment</span><span class="diff-html-added">someSegment</span>.<span class="diff-html-removed">ofAddress</span><span class="diff-html-added">get</span>(<span class="diff-html-removed">foreign</span><span class="diff-html-added">ValueLayout</span>.<span class="diff-html-removed">address(</span><span class="diff-html-added">ADDRESS,</span> <span class="diff-html-added">0</span>)           <span class="diff-html-added">//</span> <span class="diff-html-added">size</span> <span class="diff-html-added">=</span> <span class="diff-html-added">0</span>, <span class="diff-html-added">scope</span> <span class="diff-html-added">=</span> <span class="diff-html-added">always</span> <span class="diff-html-added">alive</span>
                            <span class="diff-html-added">.reinterpret(</span>4, <span class="diff-html-added">arena.</span>scope<span class="diff-html-added">(),</span> <span class="diff-html-added">null</span>);  // <span class="diff-html-removed">create</span><span class="diff-html-added">size</span> <span class="diff-html-added">=</span> <span class="diff-html-added">4,</span> <span class="diff-html-removed">new</span><span class="diff-html-added">scope</span> <span class="diff-html-removed">segment</span><span class="diff-html-added">=</span> <span class="diff-html-added">arena.scope</span>(<span class="diff-html-removed">size</span><span class="diff-html-added">)</span>
       <span class="diff-html-added">int</span> <span class="diff-html-added">x</span> = <span class="diff-html-added">foreign.get(ValueLayout.JAVA_INT,</span> <span class="diff-html-removed">4</span><span class="diff-html-added">0</span>)<span class="diff-html-added">;</span>               <span class="diff-html-added">//</span> <span class="diff-html-added">ok</span>
 <span class="diff-html-added">}</span>
 int x = <span class="diff-html-removed">segment</span><span class="diff-html-added">foreign</span>.get(ValueLayout.JAVA_INT, 0); // <span class="diff-html-removed">ok</span><span class="diff-html-added">throws</span> <span class="diff-html-added">IllegalStateException</span>
</code>
                                </pre> </div> Alternatively, <span class="diff-html-added">if</span> <span class="diff-html-added">the</span> <span class="diff-html-added">size</span> <span class="diff-html-added">of</span> <span class="diff-html-added">the</span> <span class="diff-html-added">foreign</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">is</span> <span class="diff-html-added">known</span> <span class="diff-html-added">statically,</span> clients can <span class="diff-html-removed">obtain</span> <span class="diff-html-removed">an</span> <a href="ValueLayout.OfAddress.html#asUnbounded()" changeType="diff-removed-tag"><span class="diff-html-removed">unbounded</span></a><span class="diff-html-added">associate</span> <span class="diff-html-added">a</span> <a href="ValueLayout.OfAddress.html#withTargetLayout(java.lang.foreign.MemoryLayout)"><span class="diff-html-added">target</span> <span class="diff-html-added">layout</span> </a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress">PREVIEW</a></sup> <span class="diff-html-added">with</span> <span class="diff-html-added">the</span> address <span class="diff-html-removed">value</span>layout <span class="diff-html-added">used</span> <span class="diff-html-added">to</span> <span class="diff-html-added">obtain</span> <span class="diff-html-added">the</span> <span class="diff-html-added">segment</span>. When an access operation, or a function descriptor that is passed to a downcall method handle, uses an <span class="diff-html-removed">unbounded</span>address value <span class="diff-html-removed">layouts</span><span class="diff-html-added">layout</span> <span class="diff-html-added">with</span> <span class="diff-html-added">target</span> <span class="diff-html-added">layout</span> <code><span class="diff-html-added">T</span></code>, the runtime will wrap any corresponding raw addresses with native segments with <em changeType="diff-removed-tag"><span class="diff-html-removed">maximal</span></em>size <span class="diff-html-removed">(i.e.</span> <a href="../Long.html#MAX_VALUE" changeType="diff-removed-tag"><span class="diff-html-removed">Long.MAX_VALUE</span></a><span class="diff-html-removed">).</span> <span class="diff-html-removed">As</span> <span class="diff-html-removed">such,</span> <span class="diff-html-removed">these</span> <span class="diff-html-removed">segments</span> <span class="diff-html-removed">can</span> <span class="diff-html-removed">be</span> <span class="diff-html-removed">accessed</span> <span class="diff-html-removed">directly,</span> <span class="diff-html-removed">as</span> <span class="diff-html-removed">follows</span><span class="diff-html-added">set</span> <span class="diff-html-added">to</span> <code><span class="diff-html-added">T.byteSize()</span></code>:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java"> MemorySegment foreign = someSegment.get(ValueLayout.ADDRESS.<span class="diff-html-removed">asUnbounded</span><span class="diff-html-added">withTargetLayout</span>(<span class="diff-html-added">JAVA_INT</span>), 0); // <span class="diff-html-removed">wrapaddressintosegment(</span>size = <span class="diff-html-removed">Long.MAX_VALUE)</span><span class="diff-html-added">4</span>
 int x = foreign.get(ValueLayout.JAVA_INT, 0);                                               // ok
</code>
                                </pre> </div><p> <span class="diff-html-removed">Both</span> <a href="#ofAddress(long,long,java.lang.foreign.SegmentScope)" changeType="diff-removed-tag"><code><span class="diff-html-removed">ofAddress(long,</span> <span class="diff-html-removed">long,</span> <span class="diff-html-removed">SegmentScope)</span>  </code><span class="diff-html-removed"/></a> <span class="diff-html-removed">and</span> <a href="ValueLayout.OfAddress.html#asUnbounded()" changeType="diff-removed-tag"><code><span class="diff-html-removed">ValueLayout.OfAddress.asUnbounded()</span></code><span class="diff-html-removed"/></a><sup changeType="diff-removed-tag"><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup> <span class="diff-html-removed">are</span> <a href="package-summary.html#restricted" changeType="diff-removed-tag"><em><span class="diff-html-removed">restricted</span></em><span class="diff-html-removed"/></a> <span class="diff-html-removed">methods,</span> <span class="diff-html-removed">and</span> <span class="diff-html-removed">should</span> <span class="diff-html-removed">be</span> <span class="diff-html-removed">used</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">caution:</span> <span class="diff-html-removed">for</span> <span class="diff-html-removed">instance,</span> <span class="diff-html-removed">sizing</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">incorrectly</span> <span class="diff-html-removed">could</span> <span class="diff-html-removed">result</span> <span class="diff-html-removed">in</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">VM</span> <span class="diff-html-removed">crash</span> <span class="diff-html-removed">when</span> <span class="diff-html-removed">attempting</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">access</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">segment.</span>Which approach is taken largely depends on the information that a client has available when obtaining a memory segment wrapping a native pointer. For instance, if such pointer points to a C struct, the client might prefer to resize the segment unsafely, to match the size of the struct (so that out-of-bounds access will be detected by the API). <span class="diff-html-added">If</span> <span class="diff-html-added">the</span> <span class="diff-html-added">size</span> <span class="diff-html-added">is</span> <span class="diff-html-added">known</span> <span class="diff-html-added">statically,</span> <span class="diff-html-added">using</span> <span class="diff-html-added">an</span> <span class="diff-html-added">address</span> <span class="diff-html-added">layout</span> <span class="diff-html-added">with</span> <span class="diff-html-added">the</span> <span class="diff-html-added">correct</span> <span class="diff-html-added">target</span> <span class="diff-html-added">layout</span> <span class="diff-html-added">might</span> <span class="diff-html-added">be</span> <span class="diff-html-added">preferable.</span> In other instances, however, there will be no, or little information as to what spatial and/or temporal bounds should be associated with a given native pointer. In these cases using an unbounded address layout might be preferable<span class="diff-html-added">.</span>                                                                                                                                                 </p><p> <span class="diff-html-added">All</span> <span class="diff-html-added">the</span> <span class="diff-html-added">methods</span> <span class="diff-html-added">which</span> <span class="diff-html-added">can</span> <span class="diff-html-added">be</span> <span class="diff-html-added">used</span> <span class="diff-html-added">to</span> <span class="diff-html-added">manipulate</span> <span class="diff-html-added">zero-length</span> <span class="diff-html-added">memory</span> <span class="diff-html-added">segments</span> <span class="diff-html-added">(</span><a href="#reinterpret(long)"><code><span class="diff-html-added">reinterpret(long)</span></code></a><span class="diff-html-added">,</span> <a href="#reinterpret(java.lang.foreign.MemorySegment.Scope,java.util.function.Consumer)"><code><span class="diff-html-added">reinterpret(Scope,</span> <span class="diff-html-added">Consumer)</span> </code></a><span class="diff-html-added">,</span> <a href="#reinterpret(long,java.lang.foreign.MemorySegment.Scope,java.util.function.Consumer)"><code><span class="diff-html-added">reinterpret(long,</span> <span class="diff-html-added">Scope,</span> <span class="diff-html-added">Consumer)</span>  </code></a> <span class="diff-html-added">and</span> <a href="ValueLayout.OfAddress.html#withTargetLayout(java.lang.foreign.MemoryLayout)"><code><span class="diff-html-added">ValueLayout.OfAddress.withTargetLayout(MemoryLayout)</span></code></a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress"><span class="diff-html-added">PREVIEW</span></a></sup><span class="diff-html-added">)</span> <span class="diff-html-added">are</span> <a href="package-summary.html#restricted"><em><span class="diff-html-added">restricted</span></em></a> <span class="diff-html-added">methods,</span> <span class="diff-html-added">and</span> <span class="diff-html-added">should</span> <span class="diff-html-added">be</span> <span class="diff-html-added">used</span> <span class="diff-html-added">with</span> <span class="diff-html-added">caution:</span> <span class="diff-html-added">assigning</span> <span class="diff-html-added">a</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">incorrect</span> <span class="diff-html-added">spatial</span> <span class="diff-html-added">and/or</span> <span class="diff-html-added">temporal</span> <span class="diff-html-added">bounds</span> <span class="diff-html-added">could</span> <span class="diff-html-added">result</span> <span class="diff-html-added">in</span> <span class="diff-html-added">a</span> <span class="diff-html-added">VM</span> <span class="diff-html-added">crash</span> <span class="diff-html-added">when</span> <span class="diff-html-added">attempting</span> <span class="diff-html-added">to</span> <span class="diff-html-added">access</span> <span class="diff-html-added">the</span> <span class="diff-html-added">memory</span> <span class="diff-html-added">segment</span>.                                               </p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     </div><dl class="notes"> <dt>Implementation Requirements: </dt><dd> Implementations of this interface are immutable, thread-safe and <a href="../../../../java.base/java/lang/doc-files/ValueBased.html">value-based</a>.         </dd> <dt>Since:</dt><dd>19</dd>  </dl>   </section> <a end_ctx_id="class:MemorySegment"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="class:MemorySegment"/> <section class="class-description" id="class-description"> <hr/><div class="type-signature"> <span class="modifiers">public sealed interface    </span><span class="element-name type-name-label">MemorySegment</span> </div><div class="preview-block" id="preview-java.lang.foreign.MemorySegment"> <span class="preview-label"><code>MemorySegment</code> is a preview API of the Java platform.        </span><div class="preview-comment"> Programs can only use <code>MemorySegment</code> when preview features are enabled.          </div><div class="preview-comment">Preview features may be removed in a future release, or upgraded to permanent features of the Java platform.                 </div> </div><div class="block"> A memory segment provides access to a contiguous region of memory.<p> There are two kinds of memory segments:<ul><li> A <em>heap segment </em> is backed by, and provides access to, a region of memory inside the Java heap (an "on-heap" region).                    </li><li> A <em>native segment </em> is backed by, and provides access to, a region of memory outside the Java heap (an "off-heap" region).                    </li></ul> Heap segments can be obtained by calling one of the <a href="#ofArray(int%5B%5D)"><code>ofArray(int[])</code></a> factory methods. These methods return a memory segment backed by the on-heap region that holds the specified Java array.                                     </p><p> Native segments can be obtained by calling one of the <a href="#allocateNative(long,long,java.lang.foreign.SegmentScope)"><code>allocateNative(long, long, SegmentScope)  </code></a> factory methods, which return a memory segment backed by a newly allocated off-heap region with the given size and aligned to the given alignment constraint. Alternatively, native segments can be obtained by <a href="../../nio/channels/FileChannel.html#map(java.nio.channels.FileChannel.MapMode,long,long,java.lang.foreign.SegmentScope)"><code>mapping</code></a><sup><a href="../../nio/channels/FileChannel.html#preview-map(java.nio.channels.FileChannel.MapMode,long,long,java.lang.foreign.SegmentScope)">PREVIEW</a></sup> a file into a new off-heap region (in some systems, this operation is sometimes referred to as <code>mmap</code>). Segments obtained in this way are called <em>mapped</em> segments, and their contents can be <a href="#force()">persisted</a> and <a href="#load()">loaded</a> to and from the underlying memory-mapped file.                                                                                      </p><p> Both kinds of segments are read and written using the same methods, known as <a href="#segment-deref">access operations </a>. An access operation on a memory segment always and only provides access to the region for which the segment was obtained.                                    </p><h2 id="segment-characteristics">Characteristics of memory segments   </h2> Every memory segment has an <a href="#address()">address</a>, expressed as a <code>long</code> value. The nature of a segment's address depends on the kind of the segment:<ul><li> The address of a heap segment is not a physical address, but rather an offset within the region of memory which backs the segment. The region is inside the Java heap, so garbage collection might cause the region to be relocated in physical memory over time, but this is not exposed to clients of the <code>MemorySegment</code> API who see a stable <em>virtualized</em> address for a heap segment backed by the region. A heap segment obtained from one of the <a href="#ofArray(int%5B%5D)"><code>ofArray(int[])</code></a> factory methods has an address of zero.                                                                                       </li><li>The address of a native segment (including mapped segments) denotes the physical address of the region of memory which backs the segment.                     </li></ul><p> Every memory segment has a <a href="#byteSize()">size</a>. The size of a heap segment is derived from the Java array from which it is obtained. This size is predictable across Java runtimes. The size of a native segment is either passed explicitly (as in <a href="#allocateNative(long,java.lang.foreign.SegmentScope)"><code>allocateNative(long, SegmentScope) </code></a>) or derived from a <a href="MemoryLayout.html" title="interface in java.lang.foreign"><code>MemoryLayout</code></a><sup><a href="MemoryLayout.html#preview-java.lang.foreign.MemoryLayout">PREVIEW</a></sup> (as in <a href="#allocateNative(java.lang.foreign.MemoryLayout,java.lang.foreign.SegmentScope)"><code>allocateNative(MemoryLayout, SegmentScope) </code></a>). The size of a memory segment is typically a positive number but may be <a href="#wrapping-addresses">zero</a>, but never negative.                                                                     </p><p> The address and size of a memory segment jointly ensure that access operations on the segment cannot fall <em>outside</em> the boundaries of the region of memory which backs the segment. That is, a memory segment has <em>spatial bounds </em>.                                     </p><p> Every memory segment is associated with a <a href="SegmentScope.html" title="interface in java.lang.foreign">scope</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>. This ensures that access operations on a memory segment cannot occur when the region of memory which backs the memory segment is no longer available (e.g., after the scope associated with the accessed memory segment is no longer <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>). That is, a memory segment has <em>temporal bounds </em>.                                                      </p><p> Finally, access operations on a memory segment are subject to the thread-confinement checks enforced by the associated scope; that is, if the segment is associated with the <a href="SegmentScope.html#global()" changeType="diff-removed-tag">global scope </a><sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup> or an <a href="SegmentScope.html#auto()" changeType="diff-removed-tag">automatic scope </a><sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>, it can be accessed by multiple threads. If the segment is associated with an arena scope, then it can only be accessed compatibly with the <a href="Arena.html#thread-confinement">arena confinement characteristics  </a>.                                                         </p><h2 id="segment-deref">Accessing memory segments  </h2> A memory segment can be read or written using various access operations provided in this class (e.g. <a href="#get(java.lang.foreign.ValueLayout.OfInt,long)"><code>get(ValueLayout.OfInt, long) </code></a>). Each access operation takes a <a href="ValueLayout.html" title="interface in java.lang.foreign">value layout </a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup>, which specifies the size and shape of the value, and an offset, expressed in bytes. For instance, to read an int from a segment, using <a href="../../nio/ByteOrder.html#nativeOrder()">default endianness </a>, the following code can be used:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java">MemorySegment segment = ...
int value = segment.get(ValueLayout.JAVA_INT, 0);
</code>
                                </pre> </div> If the value to be read is stored in memory using <a href="../../nio/ByteOrder.html#BIG_ENDIAN">big-endian</a> encoding, the access operation can be expressed as follows:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java">MemorySegment segment = ...
int value = segment.get(ValueLayout.JAVA_INT.withOrder(BIG_ENDIAN), 0);
</code>
                                </pre> </div> For more complex access operations (e.g. structured memory access), clients can obtain a <a href="../invoke/MethodHandles.html#memorySegmentViewVarHandle(java.lang.foreign.ValueLayout)">var handle </a><sup><a href="../invoke/MethodHandles.html#preview-memorySegmentViewVarHandle(java.lang.foreign.ValueLayout)">PREVIEW</a></sup> that accepts a segment and a <code>long</code> offset. More complex var handles can be obtained by adapting a segment var handle view using the var handle combinator functions defined in the <a href="../invoke/MethodHandles.html" title="class in java.lang.invoke"><code>MethodHandles</code></a> class:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java">MemorySegment segment = ...
VarHandle intHandle = MethodHandles.memorySegmentViewVarHandle(ValueLayout.JAVA_INT);
MethodHandle multiplyExact = MethodHandles.lookup()
                                          .findStatic(Math.class, "multiplyExact",
                                                                  MethodType.methodType(long.class, long.class, long.class));
intHandle = MethodHandles.filterCoordinates(intHandle, 1,
                                            MethodHandles.insertArguments(multiplyExact, 0, 4L));
intHandle.get(segment, 3L); // get int element at offset 3 * 4 = 12
</code>
                                </pre> </div> Alternatively, complex var handles can can be obtained from <a href="MemoryLayout.html#varHandle(java.lang.foreign.MemoryLayout.PathElement...)">memory layouts </a><sup><a href="MemoryLayout.html#preview-java.lang.foreign.MemoryLayout">PREVIEW</a></sup> by providing a so called <a href="MemoryLayout.html#layout-paths"><em>layout path </em></a>:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java">MemorySegment segment = ...
VarHandle intHandle = ValueLayout.JAVA_INT.arrayElementVarHandle();
intHandle.get(segment, 3L); // get int element at offset 3 * 4 = 12
</code>
                                </pre> </div><h2 id="slicing">Slicing memory segments  </h2> Memory segments support <a href="#asSlice(long,long)">slicing</a>. Slicing a memory segment returns a new memory segment that is backed by the same region of memory as the original. The address of the sliced segment is derived from the address of the original segment, by adding an offset (expressed in bytes). The size of the sliced segment is either derived implicitly (by subtracting the specified offset from the size of the original segment), or provided explicitly. In other words, a sliced segment has <em>stricter</em> spatial bounds than those of the original segment:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java">Arena arena = ...
MemorySegment segment = arena.allocate(100);
MemorySegment slice = segment.asSlice(50, 10);
slice.get(ValueLayout.JAVA_INT, 20); // Out of bounds!
arena.close();
slice.get(ValueLayout.JAVA_INT, 0); // Already closed!
</code>
                                </pre> </div> The above code creates a native segment that is 100 bytes long; then, it creates a slice that starts at offset 50 of <code>segment</code>, and is 10 bytes long. That is, the address of the <code>slice</code> is <code>segment.address() + 50  </code>, and its size is 10. As a result, attempting to read an int value at offset 20 of the <code>slice</code> segment will result in an exception. The <a href="SegmentScope.html" title="interface in java.lang.foreign">temporal bounds </a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup> of the original segment is inherited by its slices; that is, when the scope associated with <code>segment</code> is no longer <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>, <code>slice</code> will also be become inaccessible.<p> A client might obtain a <a href="../../util/stream/Stream.html" title="interface in java.util.stream"><code>Stream</code></a> from a segment, which can then be used to slice the segment (according to a given element layout) and even allow multiple threads to work in parallel on disjoint segment slices (to do this, the segment has to be associated with a scope that allows <a href="SegmentScope.html#isAccessibleBy(java.lang.Thread)" changeType="diff-removed-tag">access</a><sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup> from multiple threads). The following code can be used to sum all int values in a memory segment in parallel:                                                                        </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java"> try (Arena arena = Arena.openShared()) {
     SequenceLayout SEQUENCE_LAYOUT = MemoryLayout.sequenceLayout(1024, ValueLayout.JAVA_INT);
     MemorySegment segment = arena.allocate(SEQUENCE_LAYOUT);
     int sum = segment.elements(ValueLayout.JAVA_INT).parallel()
                      .mapToInt(s -&gt; s.get(ValueLayout.JAVA_INT, 0))
                      .sum();
 }
</code>
                                </pre> </div><h2 id="segment-alignment">Alignment</h2> Access operations on a memory segment are constrained not only by the spatial and temporal bounds of the segment, but also by the <em>alignment constraint </em> of the value layout specified to the operation. An access operation can access only those offsets in the segment that denote addresses in physical memory which are <em>aligned</em> according to the layout. An address in physical memory is <em>aligned</em> according to a layout if the address is an integer multiple of the layout's alignment constraint. For example, the address 1000 is aligned according to an 8-byte alignment constraint (because 1000 is an integer multiple of 8), and to a 4-byte alignment constraint, and to a 2-byte alignment constraint; in contrast, the address 1004 is aligned according to a 4-byte alignment constraint, and to a 2-byte alignment constraint, but not to an 8-byte alignment constraint. Access operations are required to respect alignment because it can impact the performance of access operations, and can also determine which access operations are available at a given physical address. For instance, <a href="../invoke/VarHandle.html#compareAndSet(java.lang.Object...)">atomic access operations  </a> operations using <a href="../invoke/VarHandle.html" title="class in java.lang.invoke"><code>VarHandle</code></a> are only permitted at aligned addresses. In addition, alignment applies to an access operation whether the segment being accessed is a native segment or a heap segment.<p> If the segment being accessed is a native segment, then its <a href="#address()">address</a> in physical memory can be combined with the offset to obtain the <em>target address </em> in physical memory. The pseudo-function below demonstrates this:                                 </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java">boolean isAligned(MemorySegment segment, long offset, MemoryLayout layout) {
  return ((segment.address() + offset) % layout.byteAlignment()) == 0;
}
</code>
                                </pre> </div> For example:<ul><li>A native segment with address 1000 can be accessed at offsets 0, 8, 16, 24, etc under an 8-byte alignment constraint, because the target addresses (1000, 1008, 1016, 1024) are 8-byte aligned. Access at offsets 1-7 or 9-15 or 17-23 is disallowed because the target addresses would not be 8-byte aligned.                                                  </li><li>A native segment with address 1000 can be accessed at offsets 0, 4, 8, 12, etc under a 4-byte alignment constraint, because the target addresses (1000, 1004, 1008, 1012) are 4-byte aligned. Access at offsets 1-3 or 5-7 or 9-11 is disallowed because the target addresses would not be 4-byte aligned.                                                  </li><li>A native segment with address 1000 can be accessed at offsets 0, 2, 4, 6, etc under a 2-byte alignment constraint, because the target addresses (1000, 1002, 1004, 1006) are 2-byte aligned. Access at offsets 1 or 3 or 5 is disallowed because the target addresses would not be 2-byte aligned.                                                  </li><li>A native segment with address 1004 can be accessed at offsets 0, 4, 8, 12, etc under a 4-byte alignment constraint, and at offsets 0, 2, 4, 6, etc under a 2-byte alignment constraint. Under an 8-byte alignment constraint, it can be accessed at offsets 4, 12, 20, 28, etc.                                                 </li><li>A native segment with address 1006 can be accessed at offsets 0, 2, 4, 6, etc under a 2-byte alignment constraint. Under a 4-byte alignment constraint, it can be accessed at offsets 2, 6, 10, 14, etc. Under an 8-byte alignment constraint, it can be accessed at offsets 2, 10, 18, 26, etc.                                                    </li><li>A native segment with address 1007 can be accessed at offsets 0, 1, 2, 3, etc under a 1-byte alignment constraint. Under a 2-byte alignment constraint, it can be accessed at offsets 1, 3, 5, 7, etc. Under a 4-byte alignment constraint, it can be accessed at offsets 1, 5, 9, 13, etc. Under an 8-byte alignment constraint, it can be accessed at offsets 1, 9, 17, 25, etc.                                                                    </li></ul><p> The alignment constraint used to access a segment is typically dictated by the shape of the data structure stored in the segment. For example, if the programmer wishes to store a sequence of 8-byte values in a native segment, then the segment should be allocated by specifying a 8-byte alignment constraint, either via <a href="#allocateNative(long,long,java.lang.foreign.SegmentScope)"><code>allocateNative(long, long, SegmentScope)  </code></a> or <a href="#allocateNative(java.lang.foreign.MemoryLayout,java.lang.foreign.SegmentScope)"><code>allocateNative(MemoryLayout, SegmentScope) </code></a>. These factories ensure that the off-heap region of memory backing the returned segment has a starting address that is 8-byte aligned. Subsequently, the programmer can access the segment at the offsets of interest -- 0, 8, 16, 24, etc -- in the knowledge that every such access is aligned.                                                                                                         </p><p> If the segment being accessed is a heap segment, then determining whether access is aligned is more complex. The address of the segment in physical memory is not known, and is not even fixed (it may change when the segment is relocated during garbage collection). This means that the address cannot be combined with the specified offset to determine a target address in physical memory. Since the alignment constraint <em>always</em> refers to alignment of addresses in physical memory, it is not possible in principle to determine if any offset in a heap segment is aligned. For example, suppose the programmer chooses a 8-byte alignment constraint and tries to access offset 16 in a heap segment. If the heap segment's address 0 corresponds to physical address 1000, then the target address (1016) would be aligned, but if address 0 corresponds to physical address 1004, then the target address (1020) would not be aligned. It is undesirable to allow access to target addresses that are aligned according to the programmer's chosen alignment constraint, but might not be predictably aligned in physical memory (e.g. because of platform considerations and/or garbage collection behavior).                                                                                                                                                                                             </p><p> In practice, the Java runtime lays out arrays in memory so that each n-byte element occurs at an n-byte aligned physical address. The runtime preserves this invariant even if the array is relocated during garbage collection. Access operations rely on this invariant to determine if the specified offset in a heap segment refers to an aligned address in physical memory. For example:<ul><li> The starting physical address of a <code>long[]</code> array will be 8-byte aligned (e.g. 1000), so that successive long elements occur at 8-byte aligned addresses (e.g., 1000, 1008, 1016, 1024, etc.) A heap segment backed by a <code>long[]</code> array can be accessed at offsets 0, 8, 16, 24, etc under an 8-byte alignment constraint. In addition, the segment can be accessed at offsets 0, 4, 8, 12, etc under a 4-byte alignment constraint, because the target addresses (1000, 1004, 1008, 1012) are 4-byte aligned. And, the segment can be accessed at offsets 0, 2, 4, 6, etc under a 2-byte alignment constraint, because the target addresses (e.g. 1000, 1002, 1004, 1006) are 2-byte aligned.                                                                                                                 </li><li> The starting physical address of a <code>short[]</code> array will be 2-byte aligned (e.g. 1006) so that successive short elements occur at 2-byte aligned addresses (e.g. 1006, 1008, 1010, 1012, etc). A heap segment backed by a <code>short[]</code> array can be accessed at offsets 0, 2, 4, 6, etc under a 2-byte alignment constraint. The segment cannot be accessed at <em>any</em> offset under a 4-byte alignment constraint, because there is no guarantee that the target address would be 4-byte aligned, e.g., offset 0 would correspond to physical address 1006 while offset 1 would correspond to physical address 1007. Similarly, the segment cannot be accessed at any offset under an 8-byte alignment constraint, because because there is no guarantee that the target address would be 8-byte aligned, e.g., offset 2 would correspond to physical address 1008 but offset 4 would correspond to physical address 1010.                                                                                                                                               </li></ul>                                                              </p><p> In other words, heap segments feature a <em>maximum</em> alignment which is derived from the size of the elements of the Java array backing the segment, as shown in the following table:                               </p><blockquote><table class="plain"> <caption style="display:none">Maximum alignment of heap segments    </caption> <thead><tr><th scope="col">Array type (of backing region)    </th><th scope="col">Maximum supported alignment (in bytes)    </th></tr>  </thead><tbody><tr><th scope="row" style="font-weight:normal"><code>boolean[]</code></th><td style="text-align:center;"><code>1</code></td></tr><tr><th scope="row" style="font-weight:normal"><code>byte[]</code></th><td style="text-align:center;"><code>1</code></td></tr><tr><th scope="row" style="font-weight:normal"><code>char[]</code></th><td style="text-align:center;"><code>2</code></td></tr><tr><th scope="row" style="font-weight:normal"><code>short[]</code></th><td style="text-align:center;"><code>2</code></td></tr><tr><th scope="row" style="font-weight:normal"><code>int[]</code></th><td style="text-align:center;"><code>4</code></td></tr><tr><th scope="row" style="font-weight:normal"><code>float[]</code></th><td style="text-align:center;"><code>4</code></td></tr><tr><th scope="row" style="font-weight:normal"><code>long[]</code></th><td style="text-align:center;"><code>8</code></td></tr><tr><th scope="row" style="font-weight:normal"><code>double[]</code></th><td style="text-align:center;"><code>8</code></td></tr></tbody>  </table></blockquote> Heap segments can only be accessed using a layout whose alignment is smaller or equal to the maximum alignment associated with the heap segment. Attempting to access a heap segment using a layout whose alignment is greater than the maximum alignment associated with the heap segment will fail, as demonstrated in the following example:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java">MemorySegment byteSegment = MemorySegment.ofArray(new byte[10]);
byteSegment.get(ValueLayout.JAVA_INT, 0); // fails: layout alignment is 4, segment max alignment is 1
</code>
                                </pre> </div> In such circumstances, clients have two options. They can use a heap segment backed by a different array type (e.g. <code>long[]</code>), capable of supporting greater maximum alignment:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java">MemorySegment longSegment = MemorySegment.ofArray(new long[10]);
longSegment.get(ValueLayout.JAVA_INT, 0); // ok: layout alignment is 4, segment max alignment is 8
</code>
                                </pre> </div> Alternatively, they can invoke the access operation with an <em>unaligned layout </em>. All unaligned layout constants (e.g. <a href="ValueLayout.html#JAVA_INT_UNALIGNED"><code>ValueLayout.JAVA_INT_UNALIGNED</code></a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup>) have their alignment constraint set to 1:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java">MemorySegment byteSegment = MemorySegment.ofArray(new byte[10]);
byteSegment.get(ValueLayout.JAVA_INT_UNALIGNED, 0); // ok: layout alignment is 1, segment max alignment is 1
</code>
                                </pre> </div><h2 id="wrapping-addresses">Zero-length memory segments  </h2> When interacting with <a href="package-summary.html#ffa">foreign functions </a>, it is common for those functions to allocate a region of memory and return a pointer to that region. Modeling the region of memory with a memory segment is challenging because the Java runtime has no insight into the size of the region. Only the address of the start of the region, stored in the pointer, is available. For example, a C function with return type <code>char*</code> might return a pointer to a region containing a single <code>char</code> value, or to a region containing an array of <code>char</code> values, where the size of the array might be provided in a separate parameter. The size of the array is not readily apparent to the code calling the foreign function and hoping to use its result.<p> The <a href="Linker.html" title="interface in java.lang.foreign" changeType="diff-removed-tag"><code>Linker</code></a><sup changeType="diff-removed-tag"><a href="Linker.html#preview-java.lang.foreign.Linker">PREVIEW</a></sup> represents a pointer returned from a foreign function with a <em>zero-length memory segment  </em>. The address of the segment is the address stored in the pointer. The size of the segment is zero. Similarly, when a client reads an <em changeType="diff-removed-tag">address</em> from a memory segment, a zero-length memory segment is returned.                                                 </p><p> Since a zero-length segment features trivial spatial bounds, any attempt to access these segments will fail with <a href="../IndexOutOfBoundsException.html" title="class in java.lang"><code>IndexOutOfBoundsException</code></a>. This is a crucial safety feature: as these segments are associated with a region of memory whose size is not known, any access operations involving these segments cannot be validated. In effect, a zero-length memory segment <em>wraps</em> an address, and it cannot be used without explicit intent.                                                                 </p><p> Zero-length memory segments obtained when interacting with foreign functions are associated with the <a href="SegmentScope.html#global()"><code>global scope </code></a><sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>. This is because the Java runtime, in addition to having no insight into the size of the region of memory backing a pointer returned from a foreign function, also has no insight into the lifetime intended for said region of memory by the foreign function that allocated it. The global scope ensures that the obtained segment can be passed, opaquely, to other pointer-accepting foreign functions.                                                                               </p><p> To access native zero-length memory segments, clients have two options, both of which are <em>unsafe</em>. Clients can <a href="#ofAddress(long,long,java.lang.foreign.SegmentScope)" changeType="diff-removed-tag">obtain</a> a <em changeType="diff-removed-tag">new</em> native segment, with new spatial and temporal bounds, as follows:                              </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java"> SegmentScope scope = ... // obtains a scope
 MemorySegment foreign = someSegment.get(ValueLayout.ADDRESS, 0); // wrap address into segment (size = 0)
 MemorySegment segment = MemorySegment.ofAddress(foreign.address(), 4, scope); // create new segment (size = 4)
 int x = segment.get(ValueLayout.JAVA_INT, 0); //ok
</code>
                                </pre> </div> Alternatively, clients can obtain an <a href="ValueLayout.OfAddress.html#asUnbounded()" changeType="diff-removed-tag">unbounded</a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress">PREVIEW</a></sup> address value layout. When an access operation, or a function descriptor that is passed to a downcall method handle, uses an unbounded address value layouts, the runtime will wrap any corresponding raw addresses with native segments with <em changeType="diff-removed-tag">maximal</em> size (i.e. <a href="../Long.html#MAX_VALUE" changeType="diff-removed-tag">Long.MAX_VALUE</a>). As such, these segments can be accessed directly, as follows:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java"> MemorySegment foreign = someSegment.get(ValueLayout.ADDRESS.asUnbounded(), 0); // wrap address into segment (size = Long.MAX_VALUE)
 int x = foreign.get(ValueLayout.JAVA_INT, 0); //ok
</code>
                                </pre> </div> Both <a href="#ofAddress(long,long,java.lang.foreign.SegmentScope)" changeType="diff-removed-tag"><code>ofAddress(long, long, SegmentScope)  </code></a> and <a href="ValueLayout.OfAddress.html#asUnbounded()" changeType="diff-removed-tag"><code>ValueLayout.OfAddress.asUnbounded()</code></a><sup changeType="diff-removed-tag"><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress">PREVIEW</a></sup> are <a href="package-summary.html#restricted" changeType="diff-removed-tag"><em>restricted</em></a> methods, and should be used with caution: for instance, sizing a segment incorrectly could result in a VM crash when attempting to access the memory segment.<p> Which approach is taken largely depends on the information that a client has available when obtaining a memory segment wrapping a native pointer. For instance, if such pointer points to a C struct, the client might prefer to resize the segment unsafely, to match the size of the struct (so that out-of-bounds access will be detected by the API). In other instances, however, there will be no, or little information as to what spatial and/or temporal bounds should be associated with a given native pointer. In these cases using an unbounded address layout might be preferable.                                                                                                </p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </div><dl class="notes"> <dt>Implementation Requirements: </dt><dd> Implementations of this interface are immutable, thread-safe and <a href="../../../../java.base/java/lang/doc-files/ValueBased.html">value-based</a>.         </dd> <dt>Since:</dt><dd>19</dd>  </dl>   </section> <a end_ctx_id="class:MemorySegment"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="class:MemorySegment"/> <section class="class-description" id="class-description"> <hr/><div class="type-signature"> <span class="modifiers">public sealed interface    </span><span class="element-name type-name-label">MemorySegment</span> </div><div class="preview-block" id="preview-java.lang.foreign.MemorySegment"> <span class="preview-label"><code>MemorySegment</code> is a preview API of the Java platform.        </span><div class="preview-comment"> Programs can only use <code>MemorySegment</code> when preview features are enabled.          </div><div class="preview-comment">Preview features may be removed in a future release, or upgraded to permanent features of the Java platform.                 </div> </div><div class="block"> A memory segment provides access to a contiguous region of memory.<p> There are two kinds of memory segments:<ul><li> A <em>heap segment </em> is backed by, and provides access to, a region of memory inside the Java heap (an "on-heap" region).                    </li><li> A <em>native segment </em> is backed by, and provides access to, a region of memory outside the Java heap (an "off-heap" region).                    </li></ul> Heap segments can be obtained by calling one of the <a href="#ofArray(int%5B%5D)"><code>ofArray(int[])</code></a> factory methods. These methods return a memory segment backed by the on-heap region that holds the specified Java array.                                     </p><p> Native segments can be obtained by calling one of the <a href="Arena.html#allocate(long,long)"><code>Arena.allocate(long, long) </code></a><sup><a href="Arena.html#preview-java.lang.foreign.Arena">PREVIEW</a></sup> factory methods, which return a memory segment backed by a newly allocated off-heap region with the given size and aligned to the given alignment constraint. Alternatively, native segments can be obtained by <a href="../../nio/channels/FileChannel.html#map(java.nio.channels.FileChannel.MapMode,long,long,java.lang.foreign.Arena)"><code>mapping</code></a><sup><a href="../../nio/channels/FileChannel.html#preview-map(java.nio.channels.FileChannel.MapMode,long,long,java.lang.foreign.Arena)">PREVIEW</a></sup> a file into a new off-heap region (in some systems, this operation is sometimes referred to as <code>mmap</code>). Segments obtained in this way are called <em>mapped</em> segments, and their contents can be <a href="#force()">persisted</a> and <a href="#load()">loaded</a> to and from the underlying memory-mapped file.                                                                                      </p><p> Both kinds of segments are read and written using the same methods, known as <a href="#segment-deref">access operations </a>. An access operation on a memory segment always and only provides access to the region for which the segment was obtained.                                    </p><h2 id="segment-characteristics">Characteristics of memory segments   </h2> Every memory segment has an <a href="#address()">address</a>, expressed as a <code>long</code> value. The nature of a segment's address depends on the kind of the segment:<ul><li> The address of a heap segment is not a physical address, but rather an offset within the region of memory which backs the segment. The region is inside the Java heap, so garbage collection might cause the region to be relocated in physical memory over time, but this is not exposed to clients of the <code>MemorySegment</code> API who see a stable <em>virtualized</em> address for a heap segment backed by the region. A heap segment obtained from one of the <a href="#ofArray(int%5B%5D)"><code>ofArray(int[])</code></a> factory methods has an address of zero.                                                                                       </li><li>The address of a native segment (including mapped segments) denotes the physical address of the region of memory which backs the segment.                     </li></ul><p> Every memory segment has a <a href="#byteSize()">size</a>. The size of a heap segment is derived from the Java array from which it is obtained. This size is predictable across Java runtimes. The size of a native segment is either passed explicitly (as in <a href="Arena.html#allocate(long,long)"><code>Arena.allocate(long, long) </code></a><sup><a href="Arena.html#preview-java.lang.foreign.Arena">PREVIEW</a></sup>) or derived from a <a href="MemoryLayout.html" title="interface in java.lang.foreign"><code>MemoryLayout</code></a><sup><a href="MemoryLayout.html#preview-java.lang.foreign.MemoryLayout">PREVIEW</a></sup> (as in <a href="SegmentAllocator.html#allocate(java.lang.foreign.MemoryLayout)"><code>SegmentAllocator.allocate(MemoryLayout)</code></a><sup><a href="SegmentAllocator.html#preview-java.lang.foreign.SegmentAllocator">PREVIEW</a></sup>). The size of a memory segment is typically a positive number but may be <a href="#wrapping-addresses">zero</a>, but never negative.                                                                     </p><p> The address and size of a memory segment jointly ensure that access operations on the segment cannot fall <em>outside</em> the boundaries of the region of memory which backs the segment. That is, a memory segment has <em>spatial bounds </em>.                                     </p><p> Every memory segment is associated with a <a href="MemorySegment.Scope.html" title="interface in java.lang.foreign">scope</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>. This ensures that access operations on a memory segment cannot occur when the region of memory which backs the memory segment is no longer available (e.g., after the scope associated with the accessed memory segment is no longer <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>). That is, a memory segment has <em>temporal bounds </em>.                                                      </p><p> Finally, access operations on a memory segment can be subject to additional thread-confinement checks. Heap segments can be accessed from any thread. Conversely, native segments can only be accessed compatibly with the <a href="ScopedArena.html#thread-confinement">confinement characteristics </a> of the arena used to obtain them.                                        </p><h2 id="segment-deref">Accessing memory segments  </h2> A memory segment can be read or written using various access operations provided in this class (e.g. <a href="#get(java.lang.foreign.ValueLayout.OfInt,long)"><code>get(ValueLayout.OfInt, long) </code></a>). Each access operation takes a <a href="ValueLayout.html" title="interface in java.lang.foreign">value layout </a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup>, which specifies the size and shape of the value, and an offset, expressed in bytes. For instance, to read an int from a segment, using <a href="../../nio/ByteOrder.html#nativeOrder()">default endianness </a>, the following code can be used:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java">MemorySegment segment = ...
int value = segment.get(ValueLayout.JAVA_INT, 0);
</code>
                                </pre> </div> If the value to be read is stored in memory using <a href="../../nio/ByteOrder.html#BIG_ENDIAN">big-endian</a> encoding, the access operation can be expressed as follows:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java">MemorySegment segment = ...
int value = segment.get(ValueLayout.JAVA_INT.withOrder(BIG_ENDIAN), 0);
</code>
                                </pre> </div> For more complex access operations (e.g. structured memory access), clients can obtain a <a href="../invoke/MethodHandles.html#memorySegmentViewVarHandle(java.lang.foreign.ValueLayout)">var handle </a><sup><a href="../invoke/MethodHandles.html#preview-memorySegmentViewVarHandle(java.lang.foreign.ValueLayout)">PREVIEW</a></sup> that accepts a segment and a <code>long</code> offset. More complex var handles can be obtained by adapting a segment var handle view using the var handle combinator functions defined in the <a href="../invoke/MethodHandles.html" title="class in java.lang.invoke"><code>MethodHandles</code></a> class:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java">MemorySegment segment = ...
VarHandle intHandle = MethodHandles.memorySegmentViewVarHandle(ValueLayout.JAVA_INT);
MethodHandle multiplyExact = MethodHandles.lookup()
                                          .findStatic(Math.class, "multiplyExact",
                                                                  MethodType.methodType(long.class, long.class, long.class));
intHandle = MethodHandles.filterCoordinates(intHandle, 1,
                                            MethodHandles.insertArguments(multiplyExact, 0, 4L));
intHandle.get(segment, 3L); // get int element at offset 3 * 4 = 12
</code>
                                </pre> </div> Alternatively, complex var handles can can be obtained from <a href="MemoryLayout.html#varHandle(java.lang.foreign.MemoryLayout.PathElement...)">memory layouts </a><sup><a href="MemoryLayout.html#preview-java.lang.foreign.MemoryLayout">PREVIEW</a></sup> by providing a so called <a href="MemoryLayout.html#layout-paths"><em>layout path </em></a>:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java">MemorySegment segment = ...
VarHandle intHandle = ValueLayout.JAVA_INT.arrayElementVarHandle();
intHandle.get(segment, 3L); // get int element at offset 3 * 4 = 12
</code>
                                </pre> </div><h2 id="slicing">Slicing memory segments  </h2> Memory segments support <a href="#asSlice(long,long)">slicing</a>. Slicing a memory segment returns a new memory segment that is backed by the same region of memory as the original. The address of the sliced segment is derived from the address of the original segment, by adding an offset (expressed in bytes). The size of the sliced segment is either derived implicitly (by subtracting the specified offset from the size of the original segment), or provided explicitly. In other words, a sliced segment has <em>stricter</em> spatial bounds than those of the original segment:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java"> Arena arena = ...
 MemorySegment segment = arena.allocate(100);
 MemorySegment slice = segment.asSlice(50, 10);
 slice.get(ValueLayout.JAVA_INT, 20); // Out of bounds!
 arena.close();
 slice.get(ValueLayout.JAVA_INT, 0); // Already closed!
</code>
                                </pre> </div> The above code creates a native segment that is 100 bytes long; then, it creates a slice that starts at offset 50 of <code>segment</code>, and is 10 bytes long. That is, the address of the <code>slice</code> is <code>segment.address() + 50  </code>, and its size is 10. As a result, attempting to read an int value at offset 20 of the <code>slice</code> segment will result in an exception. The <a href="Arena.html" title="interface in java.lang.foreign">temporal bounds </a><sup><a href="Arena.html#preview-java.lang.foreign.Arena">PREVIEW</a></sup> of the original segment is inherited by its slices; that is, when the scope associated with <code>segment</code> is no longer <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>, <code>slice</code> will also be become inaccessible.<p> A client might obtain a <a href="../../util/stream/Stream.html" title="interface in java.util.stream"><code>Stream</code></a> from a segment, which can then be used to slice the segment (according to a given element layout) and even allow multiple threads to work in parallel on disjoint segment slices (to do this, the segment has to be <a href="#isAccessibleBy(java.lang.Thread)">accessible</a> from multiple threads). The following code can be used to sum all int values in a memory segment in parallel:                                                                  </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java"> try (Arena arena = Arena.ofShared()) {
     SequenceLayout SEQUENCE_LAYOUT = MemoryLayout.sequenceLayout(1024, ValueLayout.JAVA_INT);
     MemorySegment segment = arena.allocate(SEQUENCE_LAYOUT);
     int sum = segment.elements(ValueLayout.JAVA_INT).parallel()
                      .mapToInt(s -&gt; s.get(ValueLayout.JAVA_INT, 0))
                      .sum();
 }
</code>
                                </pre> </div><h2 id="segment-alignment">Alignment</h2> Access operations on a memory segment are constrained not only by the spatial and temporal bounds of the segment, but also by the <em>alignment constraint </em> of the value layout specified to the operation. An access operation can access only those offsets in the segment that denote addresses in physical memory which are <em>aligned</em> according to the layout. An address in physical memory is <em>aligned</em> according to a layout if the address is an integer multiple of the layout's alignment constraint. For example, the address 1000 is aligned according to an 8-byte alignment constraint (because 1000 is an integer multiple of 8), and to a 4-byte alignment constraint, and to a 2-byte alignment constraint; in contrast, the address 1004 is aligned according to a 4-byte alignment constraint, and to a 2-byte alignment constraint, but not to an 8-byte alignment constraint. Access operations are required to respect alignment because it can impact the performance of access operations, and can also determine which access operations are available at a given physical address. For instance, <a href="../invoke/VarHandle.html#compareAndSet(java.lang.Object...)">atomic access operations  </a> operations using <a href="../invoke/VarHandle.html" title="class in java.lang.invoke"><code>VarHandle</code></a> are only permitted at aligned addresses. In addition, alignment applies to an access operation whether the segment being accessed is a native segment or a heap segment.<p> If the segment being accessed is a native segment, then its <a href="#address()">address</a> in physical memory can be combined with the offset to obtain the <em>target address </em> in physical memory. The pseudo-function below demonstrates this:                                 </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java">boolean isAligned(MemorySegment segment, long offset, MemoryLayout layout) {
  return ((segment.address() + offset) % layout.byteAlignment()) == 0;
}
</code>
                                </pre> </div> For example:<ul><li>A native segment with address 1000 can be accessed at offsets 0, 8, 16, 24, etc under an 8-byte alignment constraint, because the target addresses (1000, 1008, 1016, 1024) are 8-byte aligned. Access at offsets 1-7 or 9-15 or 17-23 is disallowed because the target addresses would not be 8-byte aligned.                                                  </li><li>A native segment with address 1000 can be accessed at offsets 0, 4, 8, 12, etc under a 4-byte alignment constraint, because the target addresses (1000, 1004, 1008, 1012) are 4-byte aligned. Access at offsets 1-3 or 5-7 or 9-11 is disallowed because the target addresses would not be 4-byte aligned.                                                  </li><li>A native segment with address 1000 can be accessed at offsets 0, 2, 4, 6, etc under a 2-byte alignment constraint, because the target addresses (1000, 1002, 1004, 1006) are 2-byte aligned. Access at offsets 1 or 3 or 5 is disallowed because the target addresses would not be 2-byte aligned.                                                  </li><li>A native segment with address 1004 can be accessed at offsets 0, 4, 8, 12, etc under a 4-byte alignment constraint, and at offsets 0, 2, 4, 6, etc under a 2-byte alignment constraint. Under an 8-byte alignment constraint, it can be accessed at offsets 4, 12, 20, 28, etc.                                                 </li><li>A native segment with address 1006 can be accessed at offsets 0, 2, 4, 6, etc under a 2-byte alignment constraint. Under a 4-byte alignment constraint, it can be accessed at offsets 2, 6, 10, 14, etc. Under an 8-byte alignment constraint, it can be accessed at offsets 2, 10, 18, 26, etc.                                                    </li><li>A native segment with address 1007 can be accessed at offsets 0, 1, 2, 3, etc under a 1-byte alignment constraint. Under a 2-byte alignment constraint, it can be accessed at offsets 1, 3, 5, 7, etc. Under a 4-byte alignment constraint, it can be accessed at offsets 1, 5, 9, 13, etc. Under an 8-byte alignment constraint, it can be accessed at offsets 1, 9, 17, 25, etc.                                                                    </li></ul><p> The alignment constraint used to access a segment is typically dictated by the shape of the data structure stored in the segment. For example, if the programmer wishes to store a sequence of 8-byte values in a native segment, then the segment should be allocated by specifying a 8-byte alignment constraint, either via <a href="Arena.html#allocate(long,long)"><code>Arena.allocate(long, long) </code></a><sup><a href="Arena.html#preview-java.lang.foreign.Arena">PREVIEW</a></sup> or <a href="SegmentAllocator.html#allocate(java.lang.foreign.MemoryLayout)"><code>SegmentAllocator.allocate(MemoryLayout)</code></a><sup><a href="SegmentAllocator.html#preview-java.lang.foreign.SegmentAllocator">PREVIEW</a></sup>. These factories ensure that the off-heap region of memory backing the returned segment has a starting address that is 8-byte aligned. Subsequently, the programmer can access the segment at the offsets of interest -- 0, 8, 16, 24, etc -- in the knowledge that every such access is aligned.                                                                                                         </p><p> If the segment being accessed is a heap segment, then determining whether access is aligned is more complex. The address of the segment in physical memory is not known, and is not even fixed (it may change when the segment is relocated during garbage collection). This means that the address cannot be combined with the specified offset to determine a target address in physical memory. Since the alignment constraint <em>always</em> refers to alignment of addresses in physical memory, it is not possible in principle to determine if any offset in a heap segment is aligned. For example, suppose the programmer chooses a 8-byte alignment constraint and tries to access offset 16 in a heap segment. If the heap segment's address 0 corresponds to physical address 1000, then the target address (1016) would be aligned, but if address 0 corresponds to physical address 1004, then the target address (1020) would not be aligned. It is undesirable to allow access to target addresses that are aligned according to the programmer's chosen alignment constraint, but might not be predictably aligned in physical memory (e.g. because of platform considerations and/or garbage collection behavior).                                                                                                                                                                                             </p><p> In practice, the Java runtime lays out arrays in memory so that each n-byte element occurs at an n-byte aligned physical address. The runtime preserves this invariant even if the array is relocated during garbage collection. Access operations rely on this invariant to determine if the specified offset in a heap segment refers to an aligned address in physical memory. For example:<ul><li> The starting physical address of a <code>long[]</code> array will be 8-byte aligned (e.g. 1000), so that successive long elements occur at 8-byte aligned addresses (e.g., 1000, 1008, 1016, 1024, etc.) A heap segment backed by a <code>long[]</code> array can be accessed at offsets 0, 8, 16, 24, etc under an 8-byte alignment constraint. In addition, the segment can be accessed at offsets 0, 4, 8, 12, etc under a 4-byte alignment constraint, because the target addresses (1000, 1004, 1008, 1012) are 4-byte aligned. And, the segment can be accessed at offsets 0, 2, 4, 6, etc under a 2-byte alignment constraint, because the target addresses (e.g. 1000, 1002, 1004, 1006) are 2-byte aligned.                                                                                                                 </li><li> The starting physical address of a <code>short[]</code> array will be 2-byte aligned (e.g. 1006) so that successive short elements occur at 2-byte aligned addresses (e.g. 1006, 1008, 1010, 1012, etc). A heap segment backed by a <code>short[]</code> array can be accessed at offsets 0, 2, 4, 6, etc under a 2-byte alignment constraint. The segment cannot be accessed at <em>any</em> offset under a 4-byte alignment constraint, because there is no guarantee that the target address would be 4-byte aligned, e.g., offset 0 would correspond to physical address 1006 while offset 1 would correspond to physical address 1007. Similarly, the segment cannot be accessed at any offset under an 8-byte alignment constraint, because because there is no guarantee that the target address would be 8-byte aligned, e.g., offset 2 would correspond to physical address 1008 but offset 4 would correspond to physical address 1010.                                                                                                                                               </li></ul>                                                              </p><p> In other words, heap segments feature a <em>maximum</em> alignment which is derived from the size of the elements of the Java array backing the segment, as shown in the following table:                               </p><blockquote><table class="plain"> <caption style="display:none">Maximum alignment of heap segments    </caption> <thead><tr><th scope="col">Array type (of backing region)    </th><th scope="col">Maximum supported alignment (in bytes)    </th></tr>  </thead><tbody><tr><th scope="row" style="font-weight:normal"><code>boolean[]</code></th><td style="text-align:center;"><code>1</code></td></tr><tr><th scope="row" style="font-weight:normal"><code>byte[]</code></th><td style="text-align:center;"><code>1</code></td></tr><tr><th scope="row" style="font-weight:normal"><code>char[]</code></th><td style="text-align:center;"><code>2</code></td></tr><tr><th scope="row" style="font-weight:normal"><code>short[]</code></th><td style="text-align:center;"><code>2</code></td></tr><tr><th scope="row" style="font-weight:normal"><code>int[]</code></th><td style="text-align:center;"><code>4</code></td></tr><tr><th scope="row" style="font-weight:normal"><code>float[]</code></th><td style="text-align:center;"><code>4</code></td></tr><tr><th scope="row" style="font-weight:normal"><code>long[]</code></th><td style="text-align:center;"><code>8</code></td></tr><tr><th scope="row" style="font-weight:normal"><code>double[]</code></th><td style="text-align:center;"><code>8</code></td></tr></tbody>  </table></blockquote> Heap segments can only be accessed using a layout whose alignment is smaller or equal to the maximum alignment associated with the heap segment. Attempting to access a heap segment using a layout whose alignment is greater than the maximum alignment associated with the heap segment will fail, as demonstrated in the following example:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java">MemorySegment byteSegment = MemorySegment.ofArray(new byte[10]);
byteSegment.get(ValueLayout.JAVA_INT, 0); // fails: layout alignment is 4, segment max alignment is 1
</code>
                                </pre> </div> In such circumstances, clients have two options. They can use a heap segment backed by a different array type (e.g. <code>long[]</code>), capable of supporting greater maximum alignment:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java">MemorySegment longSegment = MemorySegment.ofArray(new long[10]);
longSegment.get(ValueLayout.JAVA_INT, 0); // ok: layout alignment is 4, segment max alignment is 8
</code>
                                </pre> </div> Alternatively, they can invoke the access operation with an <em>unaligned layout </em>. All unaligned layout constants (e.g. <a href="ValueLayout.html#JAVA_INT_UNALIGNED"><code>ValueLayout.JAVA_INT_UNALIGNED</code></a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup>) have their alignment constraint set to 1:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java">MemorySegment byteSegment = MemorySegment.ofArray(new byte[10]);
byteSegment.get(ValueLayout.JAVA_INT_UNALIGNED, 0); // ok: layout alignment is 1, segment max alignment is 1
</code>
                                </pre> </div><h2 id="wrapping-addresses">Zero-length memory segments  </h2> When interacting with <a href="package-summary.html#ffa">foreign functions </a>, it is common for those functions to allocate a region of memory and return a pointer to that region. Modeling the region of memory with a memory segment is challenging because the Java runtime has no insight into the size of the region. Only the address of the start of the region, stored in the pointer, is available. For example, a C function with return type <code>char*</code> might return a pointer to a region containing a single <code>char</code> value, or to a region containing an array of <code>char</code> values, where the size of the array might be provided in a separate parameter. The size of the array is not readily apparent to the code calling the foreign function and hoping to use its result. In addition to having no insight into the size of the region of memory backing a pointer returned from a foreign function, it also has no insight into the lifetime intended for said region of memory by the foreign function that allocated it.<p> The <code>MemorySegment</code> API uses <em>zero-length memory segments  </em> to represent:<ul><li>pointers returned from a foreign function;     </li><li> pointers passed by a foreign function to an <a href="Linker.html#upcallStub(java.lang.invoke.MethodHandle,java.lang.foreign.FunctionDescriptor,java.lang.foreign.Arena,java.lang.foreign.Linker.Option...)">upcall stub </a><sup><a href="Linker.html#preview-java.lang.foreign.Linker">PREVIEW</a></sup>; and          </li><li> pointers <a href="#get(java.lang.foreign.ValueLayout.OfAddress,long)">read</a> from a memory segment.      </li></ul> The address of the zero-length segment is the address stored in the pointer. The spatial and temporal bounds of the zero-length segment are as follows:<ul><li> The size of the segment is zero. any attempt to access these segments will fail with <a href="../IndexOutOfBoundsException.html" title="class in java.lang"><code>IndexOutOfBoundsException</code></a>. This is a crucial safety feature: as these segments are associated with a region of memory whose size is not known, any access operations involving these segments cannot be validated. In effect, a zero-length memory segment <em>wraps</em> an address, and it cannot be used without explicit intent (see below);                                                                  </li><li>The segment is associated with a fresh scope that is always alive. Thus, while zero-length memory segments cannot be accessed directly, they can be passed, opaquely, to other pointer-accepting foreign functions.                              </li></ul>                                </p><p> To work with native zero-length memory segments, clients have several options, all of which are <em>unsafe</em>.                </p><p> First, clients can unsafely resize a zero-length memory segment by <a href="#reinterpret(long)">obtaining</a> a memory segment with the same base address as the zero-length memory segment, but with the desired size, so that the resulting segment can then be accessed directly, as follows:                                         </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java"> MemorySegment foreign = someSegment.get(ValueLayout.ADDRESS, 0); // size = 0
                                    .reinterpret(4)               // size = 4
 int x = foreign.get(ValueLayout.JAVA_INT, 0);                    // ok
</code>
                                </pre> </div><p> In some cases, a client might additionally want to assign new temporal bounds to a zero-length memory segment. This can be done using the <a href="#reinterpret(long,java.lang.foreign.MemorySegment.Scope,java.util.function.Consumer)"><code>reinterpret(long, Scope, Consumer)  </code></a> method, which returns a new native segment with the desired size and the same temporal bounds as those in the provided arena:                                               </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java"> MemorySegment foreign = null;
 try (Arena arena = Arena.ofConfined()) {
       foreign = someSegment.get(ValueLayout.ADDRESS, 0)           // size = 0, scope = always alive
                            .reinterpret(4, arena.scope(), null);  // size = 4, scope = arena.scope()
       int x = foreign.get(ValueLayout.JAVA_INT, 0);               // ok
 }
 int x = foreign.get(ValueLayout.JAVA_INT, 0); // throws IllegalStateException
</code>
                                </pre> </div> Alternatively, if the size of the foreign segment is known statically, clients can associate a <a href="ValueLayout.OfAddress.html#withTargetLayout(java.lang.foreign.MemoryLayout)">target layout </a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress">PREVIEW</a></sup> with the address layout used to obtain the segment. When an access operation, or a function descriptor that is passed to a downcall method handle, uses an address value layout with target layout <code>T</code>, the runtime will wrap any corresponding raw addresses with native segments with size set to <code>T.byteSize()</code>:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                    <code class="language-java"> MemorySegment foreign = someSegment.get(ValueLayout.ADDRESS.withTargetLayout(JAVA_INT), 0); // size = 4
 int x = foreign.get(ValueLayout.JAVA_INT, 0);                                               // ok
</code>
                                </pre> </div><p> Which approach is taken largely depends on the information that a client has available when obtaining a memory segment wrapping a native pointer. For instance, if such pointer points to a C struct, the client might prefer to resize the segment unsafely, to match the size of the struct (so that out-of-bounds access will be detected by the API). If the size is known statically, using an address layout with the correct target layout might be preferable. In other instances, however, there will be no, or little information as to what spatial and/or temporal bounds should be associated with a given native pointer. In these cases using an unbounded address layout might be preferable.                                                                                                                  </p><p> All the methods which can be used to manipulate zero-length memory segments (<a href="#reinterpret(long)"><code>reinterpret(long)</code></a>, <a href="#reinterpret(java.lang.foreign.MemorySegment.Scope,java.util.function.Consumer)"><code>reinterpret(Scope, Consumer) </code></a>, <a href="#reinterpret(long,java.lang.foreign.MemorySegment.Scope,java.util.function.Consumer)"><code>reinterpret(long, Scope, Consumer)  </code></a> and <a href="ValueLayout.OfAddress.html#withTargetLayout(java.lang.foreign.MemoryLayout)"><code>ValueLayout.OfAddress.withTargetLayout(MemoryLayout)</code></a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress">PREVIEW</a></sup>) are <a href="package-summary.html#restricted"><em>restricted</em></a> methods, and should be used with caution: assigning a segment incorrect spatial and/or temporal bounds could result in a VM crash when attempting to access the memory segment.                                               </p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </div><dl class="notes"> <dt>Implementation Requirements: </dt><dd> Implementations of this interface are immutable, thread-safe and <a href="../../../../java.base/java/lang/doc-files/ValueBased.html">value-based</a>.         </dd> <dt>Since:</dt><dd>19</dd>  </dl>   </section> <a end_ctx_id="class:MemorySegment"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">field:NULL [NONE]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#FFFFFF" colspan="1"><ul class="member-list"><li> <a start_ctx_id="field:NULL"/> <section class="detail" id="NULL"><h3>NULL</h3><div class="member-signature"> <span class="modifiers">static final </span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">NULL</span> </div><div class="block"> A zero-length native segment modelling the <code>NULL</code> address.        </div>  </section>  </li></ul>  <a end_ctx_id="field:NULL"/>  </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:address() [NONE]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#FFFFFF" colspan="1"><li> <a start_ctx_id="method:address()"/> <section class="detail" id="address()"><h3>address</h3><div class="member-signature"> <span class="return-type">long</span><span class="element-name">address</span>() </div><div class="block">Returns the address of this memory segment.      </div><dl class="notes"> <dt>Returns:</dt><dd>the address of this memory segment     </dd> </dl>  </section>  </li> <a end_ctx_id="method:address()"/> </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:array() [NONE]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:array()"/> <section class="detail" id="array()"><h3>array</h3><div class="member-signature"> <span class="return-type"><a href="../../util/Optional.html" title="class in java.util">Optional</a>&lt;<a href="../Object.html" title="class in java.lang">Object</a>&gt;</span><span class="element-name">array</span>() </div><div class="block">Returns the Java array associated with this memory segment, if any.          </div><dl class="notes"> <dt>Returns:</dt><dd>the Java array associated with this memory segment, if any         </dd> </dl>  </section> <a end_ctx_id="method:array()"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:spliterator(java.lang.foreign.MemoryLayout) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:spliterator(java.lang.foreign.MemoryLayout)"/> <section class="detail" id="spliterator(java.lang.foreign.MemoryLayout)"><h3>spliterator</h3><div class="member-signature"> <span class="return-type"><a href="../../util/Spliterator.html" title="interface in java.util">Spliterator</a>&lt;<a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>&gt;</span><span class="element-name">spliterator</span> <wbr/> <span class="parameters">(<a href="MemoryLayout.html" title="interface in java.lang.foreign">MemoryLayout</a><sup><a href="MemoryLayout.html#preview-java.lang.foreign.MemoryLayout">PREVIEW</a></sup>elementLayout)</span>   </div><div class="block"> Returns a spliterator for this memory segment. The returned spliterator reports <a href="../../util/Spliterator.html#SIZED"><code>Spliterator.SIZED</code></a>, <a href="../../util/Spliterator.html#SUBSIZED"><code>Spliterator.SUBSIZED</code></a>, <a href="../../util/Spliterator.html#IMMUTABLE"><code>Spliterator.IMMUTABLE</code></a>, <a href="../../util/Spliterator.html#NONNULL"><code>Spliterator.NONNULL</code></a> and <a href="../../util/Spliterator.html#ORDERED"><code>Spliterator.ORDERED</code></a> characteristics.<p> The returned spliterator splits this segment according to the specified element layout; that is, if the supplied layout has size N, then calling <a href="../../util/Spliterator.html#trySplit()"><code>Spliterator.trySplit()</code></a> will result in a spliterator serving approximately <code>S/N</code> elements (depending on whether N is even or not), where <code>S</code> is the size of this segment. As such, splitting is possible as long as <code>S/N &gt;= 2  </code>. The spliterator returns segments that <span class="diff-html-removed">are</span> <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span><span class="diff-html-added">have</span> the same <span class="diff-html-removed">scope</span><span class="diff-html-added">lifetime</span> as that <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span><span class="diff-html-added">of</span> this segment.                                                                           </p><p> The returned spliterator effectively allows to slice this segment into disjoint <a href="#asSlice(long,long)">slices</a>, which can then be processed in parallel by multiple threads.                      </p>                  </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>elementLayout</code> - the layout to be used for splitting.         </dd> <dt>Returns:</dt><dd>the element spliterator for this segment     </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the <code>elementLayout</code> size is zero, or the segment size modulo the <code>elementLayout</code> size is greater than zero, if this segment is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the <code>elementLayout</code> alignment is greater than its size.                                       </dd>   </dl>  </section> <a end_ctx_id="method:spliterator(java.lang.foreign.MemoryLayout)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:spliterator(java.lang.foreign.MemoryLayout)"/> <section class="detail" id="spliterator(java.lang.foreign.MemoryLayout)"><h3>spliterator</h3><div class="member-signature"> <span class="return-type"><a href="../../util/Spliterator.html" title="interface in java.util">Spliterator</a>&lt;<a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>&gt;</span><span class="element-name">spliterator</span> <wbr/> <span class="parameters">(<a href="MemoryLayout.html" title="interface in java.lang.foreign">MemoryLayout</a><sup><a href="MemoryLayout.html#preview-java.lang.foreign.MemoryLayout">PREVIEW</a></sup>elementLayout)</span>   </div><div class="block"> Returns a spliterator for this memory segment. The returned spliterator reports <a href="../../util/Spliterator.html#SIZED"><code>Spliterator.SIZED</code></a>, <a href="../../util/Spliterator.html#SUBSIZED"><code>Spliterator.SUBSIZED</code></a>, <a href="../../util/Spliterator.html#IMMUTABLE"><code>Spliterator.IMMUTABLE</code></a>, <a href="../../util/Spliterator.html#NONNULL"><code>Spliterator.NONNULL</code></a> and <a href="../../util/Spliterator.html#ORDERED"><code>Spliterator.ORDERED</code></a> characteristics.<p> The returned spliterator splits this segment according to the specified element layout; that is, if the supplied layout has size N, then calling <a href="../../util/Spliterator.html#trySplit()"><code>Spliterator.trySplit()</code></a> will result in a spliterator serving approximately <code>S/N</code> elements (depending on whether N is even or not), where <code>S</code> is the size of this segment. As such, splitting is possible as long as <code>S/N &gt;= 2  </code>. The spliterator returns segments that are associated with the same scope as that associated with this segment.                                                                           </p><p> The returned spliterator effectively allows to slice this segment into disjoint <a href="#asSlice(long,long)">slices</a>, which can then be processed in parallel by multiple threads.                      </p>                  </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>elementLayout</code> - the layout to be used for splitting.         </dd> <dt>Returns:</dt><dd>the element spliterator for this segment     </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the <code>elementLayout</code> size is zero, or the segment size modulo the <code>elementLayout</code> size is greater than zero, if this segment is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the <code>elementLayout</code> alignment is greater than its size.                                       </dd>   </dl>  </section> <a end_ctx_id="method:spliterator(java.lang.foreign.MemoryLayout)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:spliterator(java.lang.foreign.MemoryLayout)"/> <section class="detail" id="spliterator(java.lang.foreign.MemoryLayout)"><h3>spliterator</h3><div class="member-signature"> <span class="return-type"><a href="../../util/Spliterator.html" title="interface in java.util">Spliterator</a>&lt;<a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>&gt;</span><span class="element-name">spliterator</span> <wbr/> <span class="parameters">(<a href="MemoryLayout.html" title="interface in java.lang.foreign">MemoryLayout</a><sup><a href="MemoryLayout.html#preview-java.lang.foreign.MemoryLayout">PREVIEW</a></sup>elementLayout)</span>   </div><div class="block"> Returns a spliterator for this memory segment. The returned spliterator reports <a href="../../util/Spliterator.html#SIZED"><code>Spliterator.SIZED</code></a>, <a href="../../util/Spliterator.html#SUBSIZED"><code>Spliterator.SUBSIZED</code></a>, <a href="../../util/Spliterator.html#IMMUTABLE"><code>Spliterator.IMMUTABLE</code></a>, <a href="../../util/Spliterator.html#NONNULL"><code>Spliterator.NONNULL</code></a> and <a href="../../util/Spliterator.html#ORDERED"><code>Spliterator.ORDERED</code></a> characteristics.<p> The returned spliterator splits this segment according to the specified element layout; that is, if the supplied layout has size N, then calling <a href="../../util/Spliterator.html#trySplit()"><code>Spliterator.trySplit()</code></a> will result in a spliterator serving approximately <code>S/N</code> elements (depending on whether N is even or not), where <code>S</code> is the size of this segment. As such, splitting is possible as long as <code>S/N &gt;= 2  </code>. The spliterator returns segments that have the same lifetime as that of this segment.                                                                        </p><p> The returned spliterator effectively allows to slice this segment into disjoint <a href="#asSlice(long,long)">slices</a>, which can then be processed in parallel by multiple threads.                      </p>                  </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>elementLayout</code> - the layout to be used for splitting.         </dd> <dt>Returns:</dt><dd>the element spliterator for this segment     </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the <code>elementLayout</code> size is zero, or the segment size modulo the <code>elementLayout</code> size is greater than zero, if this segment is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the <code>elementLayout</code> alignment is greater than its size.                                       </dd>   </dl>  </section> <a end_ctx_id="method:spliterator(java.lang.foreign.MemoryLayout)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:elements(java.lang.foreign.MemoryLayout) [NONE]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:elements(java.lang.foreign.MemoryLayout)"/> <section class="detail" id="elements(java.lang.foreign.MemoryLayout)"><h3>elements</h3><div class="member-signature"> <span class="return-type"><a href="../../util/stream/Stream.html" title="interface in java.util.stream">Stream</a>&lt;<a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>&gt;</span><span class="element-name">elements</span> <wbr/> <span class="parameters">(<a href="MemoryLayout.html" title="interface in java.lang.foreign">MemoryLayout</a><sup><a href="MemoryLayout.html#preview-java.lang.foreign.MemoryLayout">PREVIEW</a></sup>elementLayout)</span>   </div><div class="block"> Returns a sequential <code>Stream</code> over disjoint slices (whose size matches that of the specified layout) in this segment. Calling this method is equivalent to the following code:<div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                                            <code class="language-java">StreamSupport.stream(segment.spliterator(elementLayout), false);
</code>
                                                        </pre> </div>                           </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>elementLayout</code> - the layout to be used for splitting.         </dd> <dt>Returns:</dt><dd> a sequential <code>Stream</code> over disjoint slices in this segment.         </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the <code>elementLayout</code> size is zero, or the segment size modulo the <code>elementLayout</code> size is greater than zero, if this segment is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the <code>elementLayout</code> alignment is greater than its size.                                       </dd>   </dl>  </section> <a end_ctx_id="method:elements(java.lang.foreign.MemoryLayout)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:scope() [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:scope()"/> <section class="detail" id="scope()"><h3>scope</h3><div class="member-signature"> <span class="return-type"><a href="MemorySegment.Scope.html" title="interface in java.lang.foreign"><a href="SegmentScope.html" title="interface in java.lang.foreign" changeType="diff-removed-tag"><span class="diff-html-removed">SegmentScope</span></a><span class="diff-html-added">MemorySegment.Scope</span></a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup></span><span class="element-name">scope</span>() </div><div class="block">Returns the scope associated with this memory segment.       </div><dl class="notes"> <dt>Returns:</dt><dd>the scope associated with this memory segment      </dd> </dl>  </section> <a end_ctx_id="method:scope()"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:scope()"/> <section class="detail" id="scope()"><h3>scope</h3><div class="member-signature"> <span class="return-type"><a href="SegmentScope.html" title="interface in java.lang.foreign" changeType="diff-removed-tag">SegmentScope</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup></span><span class="element-name">scope</span>() </div><div class="block">Returns the scope associated with this memory segment.       </div><dl class="notes"> <dt>Returns:</dt><dd>the scope associated with this memory segment      </dd> </dl>  </section> <a end_ctx_id="method:scope()"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:scope()"/> <section class="detail" id="scope()"><h3>scope</h3><div class="member-signature"> <span class="return-type"><a href="MemorySegment.Scope.html" title="interface in java.lang.foreign">MemorySegment.Scope</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup></span><span class="element-name">scope</span>() </div><div class="block">Returns the scope associated with this memory segment.       </div><dl class="notes"> <dt>Returns:</dt><dd>the scope associated with this memory segment      </dd> </dl>  </section> <a end_ctx_id="method:scope()"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:isAccessibleBy(java.lang.Thread) [ADDED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:isAccessibleBy(java.lang.Thread)"><span class="diff-html-added"/></a> <section class="detail" id="isAccessibleBy(java.lang.Thread)"><h3><span class="diff-html-added">isAccessibleBy</span></h3><div class="member-signature"> <span class="return-type"><span class="diff-html-added">boolean</span></span><span class="element-name"><span class="diff-html-added">isAccessibleBy</span></span> <wbr/> <span class="parameters"><span class="diff-html-added">(</span><a href="../Thread.html" title="class in java.lang"><span class="diff-html-added">Thread</span></a><span class="diff-html-added">thread)</span></span>   </div><div class="block"> <span class="diff-html-added">Returns</span> <code><span class="diff-html-added">true</span></code> <span class="diff-html-added">if</span> <span class="diff-html-added">this</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">can</span> <span class="diff-html-added">be</span> <span class="diff-html-added">accessed</span> <span class="diff-html-added">from</span> <span class="diff-html-added">the</span> <span class="diff-html-added">provided</span> <span class="diff-html-added">thread.</span>            </div><dl class="notes"> <dt><span class="diff-html-added">Parameters:</span></dt><dd> <code><span class="diff-html-added">thread</span></code> <span class="diff-html-added">-</span> <span class="diff-html-added">the</span> <span class="diff-html-added">thread</span> <span class="diff-html-added">to</span> <span class="diff-html-added">be</span> <span class="diff-html-added">tested.</span>       </dd> <dt><span class="diff-html-added">Returns:</span></dt><dd> <code><span class="diff-html-added">true</span></code> <span class="diff-html-added">if</span> <span class="diff-html-added">this</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">can</span> <span class="diff-html-added">be</span> <span class="diff-html-added">accessed</span> <span class="diff-html-added">from</span> <span class="diff-html-added">the</span> <span class="diff-html-added">provided</span> <span class="diff-html-added">thread</span>           </dd>  </dl>  </section> <a end_ctx_id="method:isAccessibleBy(java.lang.Thread)"><span class="diff-html-added"/></a>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:byteSize() [NONE]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:byteSize()"/> <section class="detail" id="byteSize()"><h3>byteSize</h3><div class="member-signature"> <span class="return-type">long</span><span class="element-name">byteSize</span>() </div><div class="block">Returns the size (in bytes) of this memory segment.        </div><dl class="notes"> <dt>Returns:</dt><dd>the size (in bytes) of this memory segment       </dd> </dl>  </section> <a end_ctx_id="method:byteSize()"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:asSlice(long,long) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:asSlice(long,long)"/> <section class="detail" id="asSlice(long,long)"><h3>asSlice</h3><div class="member-signature"> <span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">asSlice</span> <wbr/> <span class="parameters">(longoffset, longnewSize) </span>   </div><div class="block"> Returns a slice of this memory segment, at the given offset. The returned segment's address is the address of this segment plus the given offset; its size is specified by the given argument.<p> <span class="diff-html-added">Equivalent</span> <span class="diff-html-added">to</span> <span class="diff-html-added">the</span> <span class="diff-html-added">following</span> <span class="diff-html-added">code:</span>     </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!"><span class="diff-html-added">Copy</span></span><span class="diff-html-added"><img src="../../../../copy.svg" alt="Copy" changeType="diff-added-image"/></span></button><pre class="snippet">
                                                            <code class="language-java"><span class="diff-html-added">asSlice(offset,</span> <span class="diff-html-added">layout.byteSize(),</span> <span class="diff-html-added">1);</span>
</code>
                                                        </pre> </div>                                 </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>offset</code> - The new segment base offset (relative to the address of this segment), specified in bytes.                 </dd><dd> <code>newSize</code> - The new segment size, specified in bytes.         </dd> <dt>Returns:</dt><dd>a slice of this memory segment.     </dd> <dt>Throws:</dt><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>offset &lt; 0  </code>, <code>offset &gt; byteSize()  </code>, <code>newSize &lt; 0  </code>, or <code>newSize &gt; byteSize() - offset    </code>        </dd> <dt>See Also: </dt><dd><ul class="tag-list-long"><li> <a href="#asSlice(long,long,long)"><code>asSlice(<span class="diff-html-added">long,</span> <span class="diff-html-added">long,</span> long)  </code></a> </li></ul></dd>    </dl>  </section> <a end_ctx_id="method:asSlice(long,long)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:asSlice(long,long)"/> <section class="detail" id="asSlice(long,long)"><h3>asSlice</h3><div class="member-signature"> <span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">asSlice</span> <wbr/> <span class="parameters">(longoffset, longnewSize) </span>   </div><div class="block">Returns a slice of this memory segment, at the given offset. The returned segment's address is the address of this segment plus the given offset; its size is specified by the given argument.                                </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>offset</code> - The new segment base offset (relative to the address of this segment), specified in bytes.                 </dd><dd> <code>newSize</code> - The new segment size, specified in bytes.         </dd> <dt>Returns:</dt><dd>a slice of this memory segment.     </dd> <dt>Throws:</dt><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>offset &lt; 0  </code>, <code>offset &gt; byteSize()  </code>, <code>newSize &lt; 0  </code>, or <code>newSize &gt; byteSize() - offset    </code>        </dd> <dt>See Also: </dt><dd><ul class="tag-list"><li> <a href="#asSlice(long)"><code>asSlice(long)</code></a> </li></ul></dd>    </dl>  </section> <a end_ctx_id="method:asSlice(long,long)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:asSlice(long,long)"/> <section class="detail" id="asSlice(long,long)"><h3>asSlice</h3><div class="member-signature"> <span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">asSlice</span> <wbr/> <span class="parameters">(longoffset, longnewSize) </span>   </div><div class="block"> Returns a slice of this memory segment, at the given offset. The returned segment's address is the address of this segment plus the given offset; its size is specified by the given argument.<p> Equivalent to the following code:     </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                                            <code class="language-java">asSlice(offset, layout.byteSize(), 1);
</code>
                                                        </pre> </div>                                 </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>offset</code> - The new segment base offset (relative to the address of this segment), specified in bytes.                 </dd><dd> <code>newSize</code> - The new segment size, specified in bytes.         </dd> <dt>Returns:</dt><dd>a slice of this memory segment.     </dd> <dt>Throws:</dt><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>offset &lt; 0  </code>, <code>offset &gt; byteSize()  </code>, <code>newSize &lt; 0  </code>, or <code>newSize &gt; byteSize() - offset    </code>        </dd> <dt>See Also: </dt><dd><ul class="tag-list-long"><li> <a href="#asSlice(long,long,long)"><code>asSlice(long, long, long)  </code></a> </li></ul></dd>    </dl>  </section> <a end_ctx_id="method:asSlice(long,long)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:asSlice(long,long,long) [ADDED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:asSlice(long,long,long)"><span class="diff-html-added"/></a> <section class="detail" id="asSlice(long,long,long)"><h3><span class="diff-html-added">asSlice</span></h3><div class="member-signature"> <span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign"><span class="diff-html-added">MemorySegment</span></a><sup><a href="#preview-java.lang.foreign.MemorySegment"><span class="diff-html-added">PREVIEW</span></a></sup></span><span class="element-name"><span class="diff-html-added">asSlice</span></span> <wbr/> <span class="parameters"><span class="diff-html-added">(longoffset,</span> <span class="diff-html-added">longnewSize,</span> <span class="diff-html-added">longbyteAlignment)</span>  </span>   </div><div class="block"><span class="diff-html-added">Returns</span> <span class="diff-html-added">a</span> <span class="diff-html-added">slice</span> <span class="diff-html-added">of</span> <span class="diff-html-added">this</span> <span class="diff-html-added">memory</span> <span class="diff-html-added">segment,</span> <span class="diff-html-added">at</span> <span class="diff-html-added">the</span> <span class="diff-html-added">given</span> <span class="diff-html-added">offset,</span> <span class="diff-html-added">with</span> <span class="diff-html-added">the</span> <span class="diff-html-added">provided</span> <span class="diff-html-added">alignment</span> <span class="diff-html-added">constraint.</span> <span class="diff-html-added">The</span> <span class="diff-html-added">returned</span> <span class="diff-html-added">segment's</span> <span class="diff-html-added">address</span> <span class="diff-html-added">is</span> <span class="diff-html-added">the</span> <span class="diff-html-added">address</span> <span class="diff-html-added">of</span> <span class="diff-html-added">this</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">plus</span> <span class="diff-html-added">the</span> <span class="diff-html-added">given</span> <span class="diff-html-added">offset;</span> <span class="diff-html-added">its</span> <span class="diff-html-added">size</span> <span class="diff-html-added">is</span> <span class="diff-html-added">specified</span> <span class="diff-html-added">by</span> <span class="diff-html-added">the</span> <span class="diff-html-added">given</span> <span class="diff-html-added">argument.</span>                                     </div><dl class="notes"> <dt><span class="diff-html-added">Parameters:</span></dt><dd> <code><span class="diff-html-added">offset</span></code> <span class="diff-html-added">-</span> <span class="diff-html-added">The</span> <span class="diff-html-added">new</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">base</span> <span class="diff-html-added">offset</span> <span class="diff-html-added">(relative</span> <span class="diff-html-added">to</span> <span class="diff-html-added">the</span> <span class="diff-html-added">address</span> <span class="diff-html-added">of</span> <span class="diff-html-added">this</span> <span class="diff-html-added">segment),</span> <span class="diff-html-added">specified</span> <span class="diff-html-added">in</span> <span class="diff-html-added">bytes.</span>                 </dd><dd> <code><span class="diff-html-added">newSize</span></code> <span class="diff-html-added">-</span> <span class="diff-html-added">The</span> <span class="diff-html-added">new</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">size,</span> <span class="diff-html-added">specified</span> <span class="diff-html-added">in</span> <span class="diff-html-added">bytes.</span>         </dd><dd> <code><span class="diff-html-added">byteAlignment</span></code> <span class="diff-html-added">-</span> <span class="diff-html-added">The</span> <span class="diff-html-added">alignment</span> <span class="diff-html-added">constraint</span> <span class="diff-html-added">(in</span> <span class="diff-html-added">bytes)</span> <span class="diff-html-added">of</span> <span class="diff-html-added">the</span> <span class="diff-html-added">returned</span> <span class="diff-html-added">slice.</span>           </dd> <dt><span class="diff-html-added">Returns:</span></dt><dd><span class="diff-html-added">a</span> <span class="diff-html-added">slice</span> <span class="diff-html-added">of</span> <span class="diff-html-added">this</span> <span class="diff-html-added">memory</span> <span class="diff-html-added">segment.</span>     </dd> <dt><span class="diff-html-added">Throws:</span></dt><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang"><span class="diff-html-added">IndexOutOfBoundsException</span></a></code> <span class="diff-html-added">-</span> <span class="diff-html-added">if</span> <code><span class="diff-html-added">offset</span> <span class="diff-html-added">&lt;</span> <span class="diff-html-added">0</span>  </code><span class="diff-html-added">,</span> <code><span class="diff-html-added">offset</span> <span class="diff-html-added">&gt;</span> <span class="diff-html-added">byteSize()</span>  </code><span class="diff-html-added">,</span> <code><span class="diff-html-added">newSize</span> <span class="diff-html-added">&lt;</span> <span class="diff-html-added">0</span>  </code><span class="diff-html-added">,</span> <span class="diff-html-added">or</span> <code><span class="diff-html-added">newSize</span> <span class="diff-html-added">&gt;</span> <span class="diff-html-added">byteSize()</span> <span class="diff-html-added">-</span> <span class="diff-html-added">offset</span>    </code>        </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang"><span class="diff-html-added">IllegalArgumentException</span></a></code> <span class="diff-html-added">-</span> <span class="diff-html-added">if</span> <span class="diff-html-added">this</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">cannot</span> <span class="diff-html-added">be</span> <span class="diff-html-added">accessed</span> <span class="diff-html-added">at</span> <code><span class="diff-html-added">offset</span></code> <span class="diff-html-added">under</span> <span class="diff-html-added">the</span> <span class="diff-html-added">provided</span> <span class="diff-html-added">alignment</span> <span class="diff-html-added">constraint.</span>               </dd>   </dl>  </section> <a end_ctx_id="method:asSlice(long,long,long)"><span class="diff-html-added"/></a>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:asSlice(long,java.lang.foreign.MemoryLayout) [ADDED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:asSlice(long,java.lang.foreign.MemoryLayout)"><span class="diff-html-added"/></a> <section class="detail" id="asSlice(long,java.lang.foreign.MemoryLayout)"><h3><span class="diff-html-added">asSlice</span></h3><div class="member-signature"> <span class="modifiers"><span class="diff-html-added">default</span></span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign"><span class="diff-html-added">MemorySegment</span></a><sup><a href="#preview-java.lang.foreign.MemorySegment"><span class="diff-html-added">PREVIEW</span></a></sup></span><span class="element-name"><span class="diff-html-added">asSlice</span></span> <wbr/> <span class="parameters"><span class="diff-html-added">(longoffset,</span> <a href="MemoryLayout.html" title="interface in java.lang.foreign"><span class="diff-html-added">MemoryLayout</span></a><sup><a href="MemoryLayout.html#preview-java.lang.foreign.MemoryLayout"><span class="diff-html-added">PREVIEW</span></a></sup><span class="diff-html-added">layout)</span> </span>   </div><div class="block"> <span class="diff-html-added">Returns</span> <span class="diff-html-added">a</span> <span class="diff-html-added">slice</span> <span class="diff-html-added">of</span> <span class="diff-html-added">this</span> <span class="diff-html-added">memory</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">with</span> <span class="diff-html-added">the</span> <span class="diff-html-added">given</span> <span class="diff-html-added">layout,</span> <span class="diff-html-added">at</span> <span class="diff-html-added">the</span> <span class="diff-html-added">given</span> <span class="diff-html-added">offset.</span> <span class="diff-html-added">The</span> <span class="diff-html-added">returned</span> <span class="diff-html-added">segment's</span> <span class="diff-html-added">address</span> <span class="diff-html-added">is</span> <span class="diff-html-added">the</span> <span class="diff-html-added">address</span> <span class="diff-html-added">of</span> <span class="diff-html-added">this</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">plus</span> <span class="diff-html-added">the</span> <span class="diff-html-added">given</span> <span class="diff-html-added">offset;</span> <span class="diff-html-added">its</span> <span class="diff-html-added">size</span> <span class="diff-html-added">is</span> <span class="diff-html-added">the</span> <span class="diff-html-added">same</span> <span class="diff-html-added">as</span> <span class="diff-html-added">the</span> <span class="diff-html-added">size</span> <span class="diff-html-added">of</span> <span class="diff-html-added">the</span> <span class="diff-html-added">provided</span> <span class="diff-html-added">layout.</span><p> <span class="diff-html-added">Equivalent</span> <span class="diff-html-added">to</span> <span class="diff-html-added">the</span> <span class="diff-html-added">following</span> <span class="diff-html-added">code:</span>     </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!"><span class="diff-html-added">Copy</span></span><span class="diff-html-added"><img src="../../../../copy.svg" alt="Copy" changeType="diff-added-image"/></span></button><pre class="snippet">
                                                            <code class="language-java"><span class="diff-html-added">asSlice(offset,</span> <span class="diff-html-added">layout.byteSize(),</span> <span class="diff-html-added">layout.byteAlignment());</span>
</code>
                                                        </pre> </div>                                         </div><dl class="notes"> <dt><span class="diff-html-added">Parameters:</span></dt><dd> <code><span class="diff-html-added">offset</span></code> <span class="diff-html-added">-</span> <span class="diff-html-added">The</span> <span class="diff-html-added">new</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">base</span> <span class="diff-html-added">offset</span> <span class="diff-html-added">(relative</span> <span class="diff-html-added">to</span> <span class="diff-html-added">the</span> <span class="diff-html-added">address</span> <span class="diff-html-added">of</span> <span class="diff-html-added">this</span> <span class="diff-html-added">segment),</span> <span class="diff-html-added">specified</span> <span class="diff-html-added">in</span> <span class="diff-html-added">bytes.</span>                 </dd><dd> <code><span class="diff-html-added">layout</span></code> <span class="diff-html-added">-</span> <span class="diff-html-added">The</span> <span class="diff-html-added">layout</span> <span class="diff-html-added">of</span> <span class="diff-html-added">the</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">slice.</span>        </dd> <dt><span class="diff-html-added">Returns:</span></dt><dd><span class="diff-html-added">a</span> <span class="diff-html-added">slice</span> <span class="diff-html-added">of</span> <span class="diff-html-added">this</span> <span class="diff-html-added">memory</span> <span class="diff-html-added">segment.</span>     </dd> <dt><span class="diff-html-added">Throws:</span></dt><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang"><span class="diff-html-added">IndexOutOfBoundsException</span></a></code> <span class="diff-html-added">-</span> <span class="diff-html-added">if</span> <code><span class="diff-html-added">offset</span> <span class="diff-html-added">&lt;</span> <span class="diff-html-added">0</span>  </code><span class="diff-html-added">,</span> <code><span class="diff-html-added">offset</span> <span class="diff-html-added">&gt;</span> <span class="diff-html-added">layout.byteSize()</span>  </code><span class="diff-html-added">,</span> <code><span class="diff-html-added">newSize</span> <span class="diff-html-added">&lt;</span> <span class="diff-html-added">0</span>  </code><span class="diff-html-added">,</span> <span class="diff-html-added">or</span> <code><span class="diff-html-added">newSize</span> <span class="diff-html-added">&gt;</span> <span class="diff-html-added">layout.byteSize()</span> <span class="diff-html-added">-</span> <span class="diff-html-added">offset</span>    </code>        </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang"><span class="diff-html-added">IllegalArgumentException</span></a></code> <span class="diff-html-added">-</span> <span class="diff-html-added">if</span> <span class="diff-html-added">this</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">cannot</span> <span class="diff-html-added">be</span> <span class="diff-html-added">accessed</span> <span class="diff-html-added">at</span> <code><span class="diff-html-added">offset</span></code> <span class="diff-html-added">under</span> <span class="diff-html-added">the</span> <span class="diff-html-added">alignment</span> <span class="diff-html-added">constraint</span> <span class="diff-html-added">specified</span> <span class="diff-html-added">by</span> <code><span class="diff-html-added">layout</span></code><span class="diff-html-added">.</span>                 </dd> <dt><span class="diff-html-added">See</span> <span class="diff-html-added">Also:</span> </dt><dd><ul class="tag-list-long"><li> <a href="#asSlice(long,long,long)"><code><span class="diff-html-added">asSlice(long,</span> <span class="diff-html-added">long,</span> <span class="diff-html-added">long)</span>  </code></a> </li></ul></dd>    </dl>  </section> <a end_ctx_id="method:asSlice(long,java.lang.foreign.MemoryLayout)"><span class="diff-html-added"/></a>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:asSlice(long) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:asSlice(long)"/> <section class="detail" id="asSlice(long)"><h3>asSlice</h3><div class="member-signature"> <span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign"> <span class="modifiers" changeType="diff-removed-tag"><span class="diff-html-removed">default</span></span>MemorySegment </a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">asSlice</span> <wbr/> <span class="parameters">(longoffset)</span>   </div><div class="block"> Returns a slice of this memory segment, at the given offset. The returned segment's address is the address of this segment plus the given offset; its size is computed by subtracting the specified offset from this segment size.<p> Equivalent to the following code:     </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                                            <code class="language-java">asSlice(offset, byteSize() - offset);
</code>
                                                        </pre> </div>                                      </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>offset</code> - The new segment base offset (relative to the address of this segment), specified in bytes.                 </dd> <dt>Returns:</dt><dd>a slice of this memory segment.     </dd> <dt>Throws:</dt><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>offset &lt; 0  </code>, or <code>offset &gt; byteSize()  </code>.      </dd> <dt>See Also: </dt><dd><ul class="tag-list-long"><li> <a href="#asSlice(long,long)"><code>asSlice(long, long) </code></a> </li></ul></dd>    </dl>  </section> <a end_ctx_id="method:asSlice(long)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:asSlice(long)"/> <section class="detail" id="asSlice(long)"><h3>asSlice</h3><div class="member-signature"> <span class="modifiers" changeType="diff-removed-tag">default</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">asSlice</span> <wbr/> <span class="parameters">(longoffset)</span>   </div><div class="block"> Returns a slice of this memory segment, at the given offset. The returned segment's address is the address of this segment plus the given offset; its size is computed by subtracting the specified offset from this segment size.<p> Equivalent to the following code:     </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                                            <code class="language-java">asSlice(offset, byteSize() - offset);
</code>
                                                        </pre> </div>                                      </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>offset</code> - The new segment base offset (relative to the address of this segment), specified in bytes.                 </dd> <dt>Returns:</dt><dd>a slice of this memory segment.     </dd> <dt>Throws:</dt><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>offset &lt; 0  </code>, or <code>offset &gt; byteSize()  </code>.      </dd> <dt>See Also: </dt><dd><ul class="tag-list-long"><li> <a href="#asSlice(long,long)"><code>asSlice(long, long) </code></a> </li></ul></dd>    </dl>  </section> <a end_ctx_id="method:asSlice(long)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:asSlice(long)"/> <section class="detail" id="asSlice(long)"><h3>asSlice</h3><div class="member-signature"> <span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">asSlice</span> <wbr/> <span class="parameters">(longoffset)</span>   </div><div class="block"> Returns a slice of this memory segment, at the given offset. The returned segment's address is the address of this segment plus the given offset; its size is computed by subtracting the specified offset from this segment size.<p> Equivalent to the following code:     </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                                            <code class="language-java">asSlice(offset, byteSize() - offset);
</code>
                                                        </pre> </div>                                      </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>offset</code> - The new segment base offset (relative to the address of this segment), specified in bytes.                 </dd> <dt>Returns:</dt><dd>a slice of this memory segment.     </dd> <dt>Throws:</dt><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>offset &lt; 0  </code>, or <code>offset &gt; byteSize()  </code>.      </dd> <dt>See Also: </dt><dd><ul class="tag-list-long"><li> <a href="#asSlice(long,long)"><code>asSlice(long, long) </code></a> </li></ul></dd>    </dl>  </section> <a end_ctx_id="method:asSlice(long)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:reinterpret(long) [ADDED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:reinterpret(long)"><span class="diff-html-added"/></a> <section class="detail" id="reinterpret(long)"><h3><span class="diff-html-added">reinterpret</span></h3><div class="member-signature"> <span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign"><span class="diff-html-added">MemorySegment</span></a><sup><a href="#preview-java.lang.foreign.MemorySegment"><span class="diff-html-added">PREVIEW</span></a></sup></span><span class="element-name"><span class="diff-html-added">reinterpret</span></span> <wbr/> <span class="parameters"><span class="diff-html-added">(longnewSize)</span></span>   </div><div class="block"> <span class="diff-html-added">Returns</span> <span class="diff-html-added">a</span> <span class="diff-html-added">new</span> <span class="diff-html-added">memory</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">that</span> <span class="diff-html-added">has</span> <span class="diff-html-added">the</span> <span class="diff-html-added">same</span> <span class="diff-html-added">address</span> <span class="diff-html-added">and</span> <span class="diff-html-added">scope</span> <span class="diff-html-added">as</span> <span class="diff-html-added">this</span> <span class="diff-html-added">segment,</span> <span class="diff-html-added">but</span> <span class="diff-html-added">with</span> <span class="diff-html-added">the</span> <span class="diff-html-added">provided</span> <span class="diff-html-added">size.</span> <span class="diff-html-added">Equivalent</span> <span class="diff-html-added">to</span> <span class="diff-html-added">the</span> <span class="diff-html-added">following</span> <span class="diff-html-added">code:</span><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!"><span class="diff-html-added">Copy</span></span><span class="diff-html-added"><img src="../../../../copy.svg" alt="Copy" changeType="diff-added-image"/></span></button><pre class="snippet">
                                                            <code class="language-java"><span class="diff-html-added">reinterpret(newSize,</span> <span class="diff-html-added">scope(),</span> <span class="diff-html-added">null);</span>
</code>
                                                        </pre> </div><p> <span class="diff-html-added">This</span> <span class="diff-html-added">method</span> <span class="diff-html-added">is</span> <a href="package-summary.html#restricted"><em><span class="diff-html-added">restricted</span></em></a><span class="diff-html-added">.</span> <span class="diff-html-added">Restricted</span> <span class="diff-html-added">methods</span> <span class="diff-html-added">are</span> <span class="diff-html-added">unsafe,</span> <span class="diff-html-added">and,</span> <span class="diff-html-added">if</span> <span class="diff-html-added">used</span> <span class="diff-html-added">incorrectly,</span> <span class="diff-html-added">their</span> <span class="diff-html-added">use</span> <span class="diff-html-added">might</span> <span class="diff-html-added">crash</span> <span class="diff-html-added">the</span> <span class="diff-html-added">JVM</span> <span class="diff-html-added">or,</span> <span class="diff-html-added">worse,</span> <span class="diff-html-added">silently</span> <span class="diff-html-added">result</span> <span class="diff-html-added">in</span> <span class="diff-html-added">memory</span> <span class="diff-html-added">corruption.</span> <span class="diff-html-added">Thus,</span> <span class="diff-html-added">clients</span> <span class="diff-html-added">should</span> <span class="diff-html-added">refrain</span> <span class="diff-html-added">from</span> <span class="diff-html-added">depending</span> <span class="diff-html-added">on</span> <span class="diff-html-added">restricted</span> <span class="diff-html-added">methods,</span> <span class="diff-html-added">and</span> <span class="diff-html-added">use</span> <span class="diff-html-added">safe</span> <span class="diff-html-added">and</span> <span class="diff-html-added">supported</span> <span class="diff-html-added">functionalities,</span> <span class="diff-html-added">where</span> <span class="diff-html-added">possible.</span>                                          </p>                         </div><dl class="notes"> <dt><span class="diff-html-added">Parameters:</span></dt><dd> <code><span class="diff-html-added">newSize</span></code> <span class="diff-html-added">-</span> <span class="diff-html-added">the</span> <span class="diff-html-added">size</span> <span class="diff-html-added">of</span> <span class="diff-html-added">the</span> <span class="diff-html-added">returned</span> <span class="diff-html-added">segment.</span>        </dd> <dt><span class="diff-html-added">Returns:</span></dt><dd><span class="diff-html-added">a</span> <span class="diff-html-added">new</span> <span class="diff-html-added">memory</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">that</span> <span class="diff-html-added">has</span> <span class="diff-html-added">the</span> <span class="diff-html-added">same</span> <span class="diff-html-added">address</span> <span class="diff-html-added">and</span> <span class="diff-html-added">scope</span> <span class="diff-html-added">as</span> <span class="diff-html-added">this</span> <span class="diff-html-added">segment,</span> <span class="diff-html-added">but</span> <span class="diff-html-added">the</span> <span class="diff-html-added">new</span> <span class="diff-html-added">provided</span> <span class="diff-html-added">size.</span>                  </dd> <dt><span class="diff-html-added">Throws:</span></dt><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang"><span class="diff-html-added">IllegalArgumentException</span></a></code> <span class="diff-html-added">-</span> <span class="diff-html-added">if</span> <code><span class="diff-html-added">newSize</span> <span class="diff-html-added">&lt;</span> <span class="diff-html-added">0</span>  </code><span class="diff-html-added">.</span>    </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang"><span class="diff-html-added">UnsupportedOperationException</span></a></code> <span class="diff-html-added">-</span> <span class="diff-html-added">if</span> <span class="diff-html-added">this</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">is</span> <span class="diff-html-added">not</span> <span class="diff-html-added">a</span> <a href="#isNative()"><span class="diff-html-added">native</span></a> <span class="diff-html-added">segment.</span>          </dd><dd> <code><a href="../IllegalCallerException.html" title="class in java.lang"><span class="diff-html-added">IllegalCallerException</span></a></code> <span class="diff-html-added">-</span> <span class="diff-html-added">If</span> <span class="diff-html-added">the</span> <span class="diff-html-added">caller</span> <span class="diff-html-added">is</span> <span class="diff-html-added">in</span> <span class="diff-html-added">a</span> <span class="diff-html-added">module</span> <span class="diff-html-added">that</span> <span class="diff-html-added">does</span> <span class="diff-html-added">not</span> <span class="diff-html-added">have</span> <span class="diff-html-added">native</span> <span class="diff-html-added">access</span> <span class="diff-html-added">enabled.</span>                </dd>   </dl>  </section> <a end_ctx_id="method:reinterpret(long)"><span class="diff-html-added"/></a>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:reinterpret(java.lang.foreign.MemorySegment.Scope,java.util.function.Consumer) [ADDED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:reinterpret(java.lang.foreign.MemorySegment.Scope,java.util.function.Consumer)"><span class="diff-html-added"/></a> <section class="detail" id="reinterpret(java.lang.foreign.MemorySegment.Scope,java.util.function.Consumer)"><h3><span class="diff-html-added">reinterpret</span></h3><div class="member-signature"> <span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign"><span class="diff-html-added">MemorySegment</span></a><sup><a href="#preview-java.lang.foreign.MemorySegment"><span class="diff-html-added">PREVIEW</span></a></sup></span><span class="element-name"><span class="diff-html-added">reinterpret</span></span> <wbr/> <span class="parameters"><span class="diff-html-added">(</span><a href="MemorySegment.Scope.html" title="interface in java.lang.foreign"><span class="diff-html-added">MemorySegment.Scope</span></a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope"><span class="diff-html-added">PREVIEW</span></a></sup><span class="diff-html-added">newScope,</span> <a href="../../util/function/Consumer.html" title="interface in java.util.function"><span class="diff-html-added">Consumer</span></a><span class="diff-html-added">&lt;</span><a href="MemorySegment.html" title="interface in java.lang.foreign"><span class="diff-html-added">MemorySegment</span></a><sup><a href="#preview-java.lang.foreign.MemorySegment"><span class="diff-html-added">PREVIEW</span></a></sup><span class="diff-html-added">&gt;cleanup)</span> </span>   </div><div class="block"> <span class="diff-html-added">Returns</span> <span class="diff-html-added">a</span> <span class="diff-html-added">new</span> <span class="diff-html-added">memory</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">with</span> <span class="diff-html-added">the</span> <span class="diff-html-added">same</span> <span class="diff-html-added">address</span> <span class="diff-html-added">and</span> <span class="diff-html-added">size</span> <span class="diff-html-added">as</span> <span class="diff-html-added">this</span> <span class="diff-html-added">segment,</span> <span class="diff-html-added">but</span> <span class="diff-html-added">with</span> <span class="diff-html-added">the</span> <span class="diff-html-added">provided</span> <span class="diff-html-added">scope.</span> <span class="diff-html-added">Equivalent</span> <span class="diff-html-added">to</span> <span class="diff-html-added">the</span> <span class="diff-html-added">following</span> <span class="diff-html-added">code:</span><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!"><span class="diff-html-added">Copy</span></span><span class="diff-html-added"><img src="../../../../copy.svg" alt="Copy" changeType="diff-added-image"/></span></button><pre class="snippet">
                                                            <code class="language-java"><span class="diff-html-added">reinterpret(byteSize(),</span> <span class="diff-html-added">scope,</span> <span class="diff-html-added">cleanup);</span>
</code>
                                                        </pre> </div><p> <span class="diff-html-added">This</span> <span class="diff-html-added">method</span> <span class="diff-html-added">is</span> <a href="package-summary.html#restricted"><em><span class="diff-html-added">restricted</span></em></a><span class="diff-html-added">.</span> <span class="diff-html-added">Restricted</span> <span class="diff-html-added">methods</span> <span class="diff-html-added">are</span> <span class="diff-html-added">unsafe,</span> <span class="diff-html-added">and,</span> <span class="diff-html-added">if</span> <span class="diff-html-added">used</span> <span class="diff-html-added">incorrectly,</span> <span class="diff-html-added">their</span> <span class="diff-html-added">use</span> <span class="diff-html-added">might</span> <span class="diff-html-added">crash</span> <span class="diff-html-added">the</span> <span class="diff-html-added">JVM</span> <span class="diff-html-added">or,</span> <span class="diff-html-added">worse,</span> <span class="diff-html-added">silently</span> <span class="diff-html-added">result</span> <span class="diff-html-added">in</span> <span class="diff-html-added">memory</span> <span class="diff-html-added">corruption.</span> <span class="diff-html-added">Thus,</span> <span class="diff-html-added">clients</span> <span class="diff-html-added">should</span> <span class="diff-html-added">refrain</span> <span class="diff-html-added">from</span> <span class="diff-html-added">depending</span> <span class="diff-html-added">on</span> <span class="diff-html-added">restricted</span> <span class="diff-html-added">methods,</span> <span class="diff-html-added">and</span> <span class="diff-html-added">use</span> <span class="diff-html-added">safe</span> <span class="diff-html-added">and</span> <span class="diff-html-added">supported</span> <span class="diff-html-added">functionalities,</span> <span class="diff-html-added">where</span> <span class="diff-html-added">possible.</span>                                          </p>                        </div><dl class="notes"> <dt><span class="diff-html-added">Parameters:</span></dt><dd> <code><span class="diff-html-added">newScope</span></code> <span class="diff-html-added">-</span> <span class="diff-html-added">the</span> <span class="diff-html-added">scope</span> <span class="diff-html-added">of</span> <span class="diff-html-added">the</span> <span class="diff-html-added">returned</span> <span class="diff-html-added">segment.</span>        </dd><dd> <code><span class="diff-html-added">cleanup</span></code> <span class="diff-html-added">-</span> <span class="diff-html-added">the</span> <span class="diff-html-added">cleanup</span> <span class="diff-html-added">action</span> <span class="diff-html-added">that</span> <span class="diff-html-added">should</span> <span class="diff-html-added">be</span> <span class="diff-html-added">executed</span> <span class="diff-html-added">when</span> <span class="diff-html-added">the</span> <span class="diff-html-added">provided</span> <span class="diff-html-added">arena</span> <span class="diff-html-added">is</span> <span class="diff-html-added">closed</span> <span class="diff-html-added">(can</span> <span class="diff-html-added">be</span> <code><span class="diff-html-added">null</span></code><span class="diff-html-added">).</span>                  </dd> <dt><span class="diff-html-added">Returns:</span></dt><dd><span class="diff-html-added">a</span> <span class="diff-html-added">new</span> <span class="diff-html-added">memory</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">with</span> <span class="diff-html-added">unbounded</span> <span class="diff-html-added">size.</span>      </dd> <dt><span class="diff-html-added">Throws:</span></dt><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang"><span class="diff-html-added">IllegalArgumentException</span></a></code> <span class="diff-html-added">-</span> <span class="diff-html-added">if</span> <code><span class="diff-html-added">newSize</span> <span class="diff-html-added">&lt;</span> <span class="diff-html-added">0</span>  </code><span class="diff-html-added">.</span>    </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang"><span class="diff-html-added">IllegalStateException</span></a></code> <span class="diff-html-added">-</span> <span class="diff-html-added">if</span> <code><span class="diff-html-added">scope.isAlive()</span> <span class="diff-html-added">==</span> <span class="diff-html-added">false</span>  </code><span class="diff-html-added">.</span>    </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang"><span class="diff-html-added">UnsupportedOperationException</span></a></code> <span class="diff-html-added">-</span> <span class="diff-html-added">if</span> <span class="diff-html-added">this</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">is</span> <span class="diff-html-added">not</span> <span class="diff-html-added">a</span> <a href="#isNative()"><span class="diff-html-added">native</span></a> <span class="diff-html-added">segment.</span>          </dd><dd> <code><a href="../IllegalCallerException.html" title="class in java.lang"><span class="diff-html-added">IllegalCallerException</span></a></code> <span class="diff-html-added">-</span> <span class="diff-html-added">If</span> <span class="diff-html-added">the</span> <span class="diff-html-added">caller</span> <span class="diff-html-added">is</span> <span class="diff-html-added">in</span> <span class="diff-html-added">a</span> <span class="diff-html-added">module</span> <span class="diff-html-added">that</span> <span class="diff-html-added">does</span> <span class="diff-html-added">not</span> <span class="diff-html-added">have</span> <span class="diff-html-added">native</span> <span class="diff-html-added">access</span> <span class="diff-html-added">enabled.</span>                </dd>   </dl>  </section> <a end_ctx_id="method:reinterpret(java.lang.foreign.MemorySegment.Scope,java.util.function.Consumer)"><span class="diff-html-added"/></a>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:reinterpret(long,java.lang.foreign.MemorySegment.Scope,java.util.function.Consumer) [ADDED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:reinterpret(long,java.lang.foreign.MemorySegment.Scope,java.util.function.Consumer)"><span class="diff-html-added"/></a> <section class="detail" id="reinterpret(long,java.lang.foreign.MemorySegment.Scope,java.util.function.Consumer)"><h3><span class="diff-html-added">reinterpret</span></h3><div class="member-signature"> <span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign"><span class="diff-html-added">MemorySegment</span></a><sup><a href="#preview-java.lang.foreign.MemorySegment"><span class="diff-html-added">PREVIEW</span></a></sup></span><span class="element-name"><span class="diff-html-added">reinterpret</span></span> <wbr/> <span class="parameters"><span class="diff-html-added">(longnewSize,</span> <a href="MemorySegment.Scope.html" title="interface in java.lang.foreign"><span class="diff-html-added">MemorySegment.Scope</span></a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope"><span class="diff-html-added">PREVIEW</span></a></sup><span class="diff-html-added">newScope,</span> <a href="../../util/function/Consumer.html" title="interface in java.util.function"><span class="diff-html-added">Consumer</span></a><span class="diff-html-added">&lt;</span><a href="MemorySegment.html" title="interface in java.lang.foreign"><span class="diff-html-added">MemorySegment</span></a><sup><a href="#preview-java.lang.foreign.MemorySegment"><span class="diff-html-added">PREVIEW</span></a></sup><span class="diff-html-added">&gt;cleanup)</span>  </span>   </div><div class="block"> <span class="diff-html-added">Returns</span> <span class="diff-html-added">a</span> <span class="diff-html-added">new</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">with</span> <span class="diff-html-added">the</span> <span class="diff-html-added">same</span> <span class="diff-html-added">address</span> <span class="diff-html-added">as</span> <span class="diff-html-added">this</span> <span class="diff-html-added">segment,</span> <span class="diff-html-added">but</span> <span class="diff-html-added">with</span> <span class="diff-html-added">the</span> <span class="diff-html-added">provided</span> <span class="diff-html-added">size</span> <span class="diff-html-added">and</span> <span class="diff-html-added">scope.</span> <span class="diff-html-added">As</span> <span class="diff-html-added">such,</span> <span class="diff-html-added">the</span> <span class="diff-html-added">returned</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">cannot</span> <span class="diff-html-added">be</span> <span class="diff-html-added">accessed</span> <span class="diff-html-added">after</span> <span class="diff-html-added">the</span> <span class="diff-html-added">provided</span> <span class="diff-html-added">scope</span> <span class="diff-html-added">has</span> <span class="diff-html-added">been</span> <span class="diff-html-added">invalidated.</span> <span class="diff-html-added">Moreover,</span> <span class="diff-html-added">if</span> <span class="diff-html-added">the</span> <span class="diff-html-added">provided</span> <span class="diff-html-added">scope</span> <span class="diff-html-added">is</span> <span class="diff-html-added">an</span> <span class="diff-html-added">arena</span> <span class="diff-html-added">scope,</span> <span class="diff-html-added">the</span> <span class="diff-html-added">returned</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">can</span> <span class="diff-html-added">be</span> <span class="diff-html-added">accessed</span> <span class="diff-html-added">compatibly</span> <span class="diff-html-added">with</span> <span class="diff-html-added">the</span> <span class="diff-html-added">confinement</span> <span class="diff-html-added">restrictions</span> <span class="diff-html-added">associated</span> <span class="diff-html-added">with</span> <span class="diff-html-added">the</span> <span class="diff-html-added">corresponding</span> <span class="diff-html-added">arena:</span> <span class="diff-html-added">that</span> <span class="diff-html-added">is,</span> <span class="diff-html-added">if</span> <span class="diff-html-added">the</span> <span class="diff-html-added">provided</span> <span class="diff-html-added">scope</span> <span class="diff-html-added">is</span> <span class="diff-html-added">the</span> <span class="diff-html-added">scope</span> <span class="diff-html-added">of</span> <span class="diff-html-added">a</span> <a href="Arena.html#ofConfined()"><span class="diff-html-added">confined</span> <span class="diff-html-added">arena</span> </a><sup><a href="Arena.html#preview-java.lang.foreign.Arena"><span class="diff-html-added">PREVIEW</span></a></sup><span class="diff-html-added">,</span> <span class="diff-html-added">the</span> <span class="diff-html-added">returned</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">can</span> <span class="diff-html-added">only</span> <span class="diff-html-added">be</span> <span class="diff-html-added">accessed</span> <span class="diff-html-added">by</span> <span class="diff-html-added">the</span> <span class="diff-html-added">arena's</span> <span class="diff-html-added">owner</span> <span class="diff-html-added">thread,</span> <span class="diff-html-added">regardless</span> <span class="diff-html-added">of</span> <span class="diff-html-added">the</span> <span class="diff-html-added">confinement</span> <span class="diff-html-added">restrictions</span> <span class="diff-html-added">associated</span> <span class="diff-html-added">with</span> <span class="diff-html-added">this</span> <span class="diff-html-added">segment.</span> <span class="diff-html-added">In</span> <span class="diff-html-added">other</span> <span class="diff-html-added">words,</span> <span class="diff-html-added">if</span> <span class="diff-html-added">the</span> <span class="diff-html-added">provided</span> <span class="diff-html-added">scope</span> <span class="diff-html-added">is</span> <span class="diff-html-added">an</span> <span class="diff-html-added">arena</span> <span class="diff-html-added">scope,</span> <span class="diff-html-added">this</span> <span class="diff-html-added">method</span> <span class="diff-html-added">returns</span> <span class="diff-html-added">a</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">that</span> <span class="diff-html-added">behaves</span> <span class="diff-html-added">as</span> <span class="diff-html-added">if</span> <span class="diff-html-added">it</span> <span class="diff-html-added">had</span> <span class="diff-html-added">been</span> <span class="diff-html-added">allocated</span> <span class="diff-html-added">using</span> <span class="diff-html-added">the</span> <span class="diff-html-added">arena</span> <span class="diff-html-added">associated</span> <span class="diff-html-added">with</span> <span class="diff-html-added">the</span> <span class="diff-html-added">provided</span> <span class="diff-html-added">scope.</span><p> <span class="diff-html-added">Clients</span> <span class="diff-html-added">can</span> <span class="diff-html-added">specify</span> <span class="diff-html-added">an</span> <span class="diff-html-added">optional</span> <span class="diff-html-added">cleanup</span> <span class="diff-html-added">action</span> <span class="diff-html-added">that</span> <span class="diff-html-added">should</span> <span class="diff-html-added">be</span> <span class="diff-html-added">executed</span> <span class="diff-html-added">when</span> <span class="diff-html-added">the</span> <span class="diff-html-added">provided</span> <span class="diff-html-added">scope</span> <span class="diff-html-added">becomes</span> <span class="diff-html-added">invalid.</span> <span class="diff-html-added">This</span> <span class="diff-html-added">cleanup</span> <span class="diff-html-added">action</span> <span class="diff-html-added">receives</span> <span class="diff-html-added">a</span> <span class="diff-html-added">fresh</span> <span class="diff-html-added">memory</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">that</span> <span class="diff-html-added">is</span> <span class="diff-html-added">obtained</span> <span class="diff-html-added">from</span> <span class="diff-html-added">this</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">as</span> <span class="diff-html-added">follows:</span>                                 </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!"><span class="diff-html-added">Copy</span></span><span class="diff-html-added"><img src="../../../../copy.svg" alt="Copy" changeType="diff-added-image"/></span></button><pre class="snippet">
                                                            <code class="language-java"><span class="diff-html-added">MemorySegment</span> <span class="diff-html-added">cleanupSegment</span> <span class="diff-html-added">=</span> <span class="diff-html-added">MemorySegment.ofAddress(this.address());</span>
</code>
                                                        </pre> </div> <span class="diff-html-added">That</span> <span class="diff-html-added">is,</span> <span class="diff-html-added">the</span> <span class="diff-html-added">cleanup</span> <span class="diff-html-added">action</span> <span class="diff-html-added">receives</span> <span class="diff-html-added">a</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">that</span> <span class="diff-html-added">is</span> <span class="diff-html-added">associated</span> <span class="diff-html-added">with</span> <span class="diff-html-added">a</span> <span class="diff-html-added">fresh</span> <span class="diff-html-added">scope</span> <span class="diff-html-added">that</span> <span class="diff-html-added">is</span> <span class="diff-html-added">always</span> <span class="diff-html-added">alive,</span> <span class="diff-html-added">and</span> <span class="diff-html-added">is</span> <span class="diff-html-added">accessible</span> <span class="diff-html-added">from</span> <span class="diff-html-added">any</span> <span class="diff-html-added">thread.</span> <span class="diff-html-added">The</span> <span class="diff-html-added">size</span> <span class="diff-html-added">of</span> <span class="diff-html-added">the</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">accepted</span> <span class="diff-html-added">by</span> <span class="diff-html-added">the</span> <span class="diff-html-added">cleanup</span> <span class="diff-html-added">action</span> <span class="diff-html-added">is</span> <code><span class="diff-html-added">newSize</span></code><span class="diff-html-added">.</span><p> <span class="diff-html-added">This</span> <span class="diff-html-added">method</span> <span class="diff-html-added">is</span> <a href="package-summary.html#restricted"><em><span class="diff-html-added">restricted</span></em></a><span class="diff-html-added">.</span> <span class="diff-html-added">Restricted</span> <span class="diff-html-added">methods</span> <span class="diff-html-added">are</span> <span class="diff-html-added">unsafe,</span> <span class="diff-html-added">and,</span> <span class="diff-html-added">if</span> <span class="diff-html-added">used</span> <span class="diff-html-added">incorrectly,</span> <span class="diff-html-added">their</span> <span class="diff-html-added">use</span> <span class="diff-html-added">might</span> <span class="diff-html-added">crash</span> <span class="diff-html-added">the</span> <span class="diff-html-added">JVM</span> <span class="diff-html-added">or,</span> <span class="diff-html-added">worse,</span> <span class="diff-html-added">silently</span> <span class="diff-html-added">result</span> <span class="diff-html-added">in</span> <span class="diff-html-added">memory</span> <span class="diff-html-added">corruption.</span> <span class="diff-html-added">Thus,</span> <span class="diff-html-added">clients</span> <span class="diff-html-added">should</span> <span class="diff-html-added">refrain</span> <span class="diff-html-added">from</span> <span class="diff-html-added">depending</span> <span class="diff-html-added">on</span> <span class="diff-html-added">restricted</span> <span class="diff-html-added">methods,</span> <span class="diff-html-added">and</span> <span class="diff-html-added">use</span> <span class="diff-html-added">safe</span> <span class="diff-html-added">and</span> <span class="diff-html-added">supported</span> <span class="diff-html-added">functionalities,</span> <span class="diff-html-added">where</span> <span class="diff-html-added">possible.</span>                                          </p>                                                                                                                                                                </div><dl class="notes"> <dt><span class="diff-html-added">API</span> <span class="diff-html-added">Note:</span> </dt><dd> <span class="diff-html-added">The</span> <span class="diff-html-added">cleanup</span> <span class="diff-html-added">action</span> <span class="diff-html-added">(if</span> <span class="diff-html-added">present)</span> <span class="diff-html-added">should</span> <span class="diff-html-added">take</span> <span class="diff-html-added">care</span> <span class="diff-html-added">not</span> <span class="diff-html-added">to</span> <span class="diff-html-added">leak</span> <span class="diff-html-added">the</span> <span class="diff-html-added">received</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">to</span> <span class="diff-html-added">external</span> <span class="diff-html-added">clients</span> <span class="diff-html-added">which</span> <span class="diff-html-added">might</span> <span class="diff-html-added">access</span> <span class="diff-html-added">the</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">after</span> <span class="diff-html-added">its</span> <span class="diff-html-added">backing</span> <span class="diff-html-added">region</span> <span class="diff-html-added">of</span> <span class="diff-html-added">memory</span> <span class="diff-html-added">is</span> <span class="diff-html-added">no</span> <span class="diff-html-added">longer</span> <span class="diff-html-added">available.</span> <span class="diff-html-added">Furthermore,</span> <span class="diff-html-added">if</span> <span class="diff-html-added">the</span> <span class="diff-html-added">provided</span> <span class="diff-html-added">scope</span> <span class="diff-html-added">is</span> <span class="diff-html-added">the</span> <span class="diff-html-added">scope</span> <span class="diff-html-added">of</span> <span class="diff-html-added">an</span> <a href="Arena.html#ofAuto()"><span class="diff-html-added">automatic</span> <span class="diff-html-added">arena</span> </a><sup><a href="Arena.html#preview-java.lang.foreign.Arena"><span class="diff-html-added">PREVIEW</span></a></sup><span class="diff-html-added">,</span> <span class="diff-html-added">the</span> <span class="diff-html-added">cleanup</span> <span class="diff-html-added">action</span> <span class="diff-html-added">must</span> <span class="diff-html-added">not</span> <span class="diff-html-added">prevent</span> <span class="diff-html-added">the</span> <span class="diff-html-added">scope</span> <span class="diff-html-added">from</span> <span class="diff-html-added">becoming</span> <a href="../../../java/lang/ref/package.html#reachability"><span class="diff-html-added">unreachable</span></a><span class="diff-html-added">.</span> <span class="diff-html-added">A</span> <span class="diff-html-added">failure</span> <span class="diff-html-added">to</span> <span class="diff-html-added">do</span> <span class="diff-html-added">so</span> <span class="diff-html-added">will</span> <span class="diff-html-added">permanently</span> <span class="diff-html-added">prevent</span> <span class="diff-html-added">the</span> <span class="diff-html-added">regions</span> <span class="diff-html-added">of</span> <span class="diff-html-added">memory</span> <span class="diff-html-added">allocated</span> <span class="diff-html-added">by</span> <span class="diff-html-added">the</span> <span class="diff-html-added">automatic</span> <span class="diff-html-added">arena</span> <span class="diff-html-added">from</span> <span class="diff-html-added">being</span> <span class="diff-html-added">deallocated.</span>                                                                          </dd> <dt><span class="diff-html-added">Parameters:</span></dt><dd> <code><span class="diff-html-added">newSize</span></code> <span class="diff-html-added">-</span> <span class="diff-html-added">the</span> <span class="diff-html-added">size</span> <span class="diff-html-added">of</span> <span class="diff-html-added">the</span> <span class="diff-html-added">returned</span> <span class="diff-html-added">segment.</span>        </dd><dd> <code><span class="diff-html-added">newScope</span></code> <span class="diff-html-added">-</span> <span class="diff-html-added">the</span> <span class="diff-html-added">scope</span> <span class="diff-html-added">of</span> <span class="diff-html-added">the</span> <span class="diff-html-added">returned</span> <span class="diff-html-added">segment.</span>        </dd><dd> <code><span class="diff-html-added">cleanup</span></code> <span class="diff-html-added">-</span> <span class="diff-html-added">the</span> <span class="diff-html-added">cleanup</span> <span class="diff-html-added">action</span> <span class="diff-html-added">that</span> <span class="diff-html-added">should</span> <span class="diff-html-added">be</span> <span class="diff-html-added">executed</span> <span class="diff-html-added">when</span> <span class="diff-html-added">the</span> <span class="diff-html-added">provided</span> <span class="diff-html-added">arena</span> <span class="diff-html-added">is</span> <span class="diff-html-added">closed</span> <span class="diff-html-added">(can</span> <span class="diff-html-added">be</span> <code><span class="diff-html-added">null</span></code><span class="diff-html-added">).</span>                  </dd> <dt><span class="diff-html-added">Returns:</span></dt><dd><span class="diff-html-added">a</span> <span class="diff-html-added">new</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">that</span> <span class="diff-html-added">has</span> <span class="diff-html-added">the</span> <span class="diff-html-added">same</span> <span class="diff-html-added">address</span> <span class="diff-html-added">as</span> <span class="diff-html-added">this</span> <span class="diff-html-added">segment,</span> <span class="diff-html-added">but</span> <span class="diff-html-added">with</span> <span class="diff-html-added">new</span> <span class="diff-html-added">size</span> <span class="diff-html-added">and</span> <span class="diff-html-added">its</span> <span class="diff-html-added">scope</span> <span class="diff-html-added">set</span> <span class="diff-html-added">to</span> <span class="diff-html-added">that</span> <span class="diff-html-added">of</span> <span class="diff-html-added">the</span> <span class="diff-html-added">provided</span> <span class="diff-html-added">arena.</span>                        </dd> <dt><span class="diff-html-added">Throws:</span></dt><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang"><span class="diff-html-added">UnsupportedOperationException</span></a></code> <span class="diff-html-added">-</span> <span class="diff-html-added">if</span> <span class="diff-html-added">this</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">is</span> <span class="diff-html-added">not</span> <span class="diff-html-added">a</span> <a href="#isNative()"><span class="diff-html-added">native</span></a> <span class="diff-html-added">segment.</span>          </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang"><span class="diff-html-added">IllegalArgumentException</span></a></code> <span class="diff-html-added">-</span> <span class="diff-html-added">if</span> <code><span class="diff-html-added">newSize</span> <span class="diff-html-added">&lt;</span> <span class="diff-html-added">0</span>  </code><span class="diff-html-added">.</span>    </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang"><span class="diff-html-added">IllegalStateException</span></a></code> <span class="diff-html-added">-</span> <span class="diff-html-added">if</span> <code><span class="diff-html-added">scope.isAlive()</span> <span class="diff-html-added">==</span> <span class="diff-html-added">false</span>  </code><span class="diff-html-added">.</span>    </dd><dd> <code><a href="../IllegalCallerException.html" title="class in java.lang"><span class="diff-html-added">IllegalCallerException</span></a></code> <span class="diff-html-added">-</span> <span class="diff-html-added">If</span> <span class="diff-html-added">the</span> <span class="diff-html-added">caller</span> <span class="diff-html-added">is</span> <span class="diff-html-added">in</span> <span class="diff-html-added">a</span> <span class="diff-html-added">module</span> <span class="diff-html-added">that</span> <span class="diff-html-added">does</span> <span class="diff-html-added">not</span> <span class="diff-html-added">have</span> <span class="diff-html-added">native</span> <span class="diff-html-added">access</span> <span class="diff-html-added">enabled.</span>                </dd>    </dl>  </section> <a end_ctx_id="method:reinterpret(long,java.lang.foreign.MemorySegment.Scope,java.util.function.Consumer)"><span class="diff-html-added"/></a>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:isReadOnly() [NONE]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:isReadOnly()"/> <section class="detail" id="isReadOnly()"><h3>isReadOnly</h3><div class="member-signature"> <span class="return-type">boolean</span><span class="element-name">isReadOnly</span>() </div><div class="block"> Returns <code>true</code>, if this segment is read-only.       </div><dl class="notes"> <dt>Returns:</dt><dd> <code>true</code>, if this segment is read-only      </dd> <dt>See Also: </dt><dd><ul class="tag-list"><li> <a href="#asReadOnly()"><code>asReadOnly()</code></a> </li></ul></dd>  </dl>  </section> <a end_ctx_id="method:isReadOnly()"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:asReadOnly() [NONE]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:asReadOnly()"/> <section class="detail" id="asReadOnly()"><h3>asReadOnly</h3><div class="member-signature"> <span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">asReadOnly</span>() </div><div class="block">Returns a read-only view of this segment. The resulting segment will be identical to this one, but attempts to overwrite the contents of the returned segment will cause runtime exceptions.                             </div><dl class="notes"> <dt>Returns:</dt><dd>a read-only view of this segment     </dd> <dt>See Also: </dt><dd><ul class="tag-list"><li> <a href="#isReadOnly()"><code>isReadOnly()</code></a> </li></ul></dd>  </dl>  </section> <a end_ctx_id="method:asReadOnly()"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:isNative() [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:isNative()"/> <section class="detail" id="isNative()"><h3>isNative</h3><div class="member-signature"> <span class="return-type">boolean</span><span class="element-name">isNative</span>() </div><div class="block"> Returns <code>true</code> if this segment is a native segment. A native segment is created e.g. using the <a href="Arena.html#allocate(long,long)"><code><span class="diff-html-removed">allocateNative</span><span class="diff-html-added">Arena.allocate</span>(long, <span class="diff-html-removed">SegmentScope)</span><span class="diff-html-added">long)</span> </code></a><sup><a href="Arena.html#preview-java.lang.foreign.Arena"><span class="diff-html-added">PREVIEW</span></a></sup> (and related) factory, or by <a href="#ofBuffer(java.nio.Buffer)">wrapping</a> a <a href="../../nio/ByteBuffer.html#allocateDirect(int)">direct buffer </a>.                          </div><dl class="notes"> <dt>Returns:</dt><dd> <code>true</code> if this segment is native segment.       </dd> </dl>  </section> <a end_ctx_id="method:isNative()"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:isNative()"/> <section class="detail" id="isNative()"><h3>isNative</h3><div class="member-signature"> <span class="return-type">boolean</span><span class="element-name">isNative</span>() </div><div class="block"> Returns <code>true</code> if this segment is a native segment. A native segment is created e.g. using the <a href="#allocateNative(long,java.lang.foreign.SegmentScope)"><code>allocateNative(long, SegmentScope) </code></a> (and related) factory, or by <a href="#ofBuffer(java.nio.Buffer)">wrapping</a> a <a href="../../nio/ByteBuffer.html#allocateDirect(int)">direct buffer </a>.                          </div><dl class="notes"> <dt>Returns:</dt><dd> <code>true</code> if this segment is native segment.       </dd> </dl>  </section> <a end_ctx_id="method:isNative()"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:isNative()"/> <section class="detail" id="isNative()"><h3>isNative</h3><div class="member-signature"> <span class="return-type">boolean</span><span class="element-name">isNative</span>() </div><div class="block"> Returns <code>true</code> if this segment is a native segment. A native segment is created e.g. using the <a href="Arena.html#allocate(long,long)"><code>Arena.allocate(long, long) </code></a><sup><a href="Arena.html#preview-java.lang.foreign.Arena">PREVIEW</a></sup> (and related) factory, or by <a href="#ofBuffer(java.nio.Buffer)">wrapping</a> a <a href="../../nio/ByteBuffer.html#allocateDirect(int)">direct buffer </a>.                          </div><dl class="notes"> <dt>Returns:</dt><dd> <code>true</code> if this segment is native segment.       </dd> </dl>  </section> <a end_ctx_id="method:isNative()"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:isMapped() [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:isMapped()"/> <section class="detail" id="isMapped()"><h3>isMapped</h3><div class="member-signature"> <span class="return-type">boolean</span><span class="element-name">isMapped</span>() </div><div class="block"> Returns <code>true</code> if this segment is a mapped segment. A mapped memory segment is created e.g. using the <a href="../../nio/channels/FileChannel.html#map(java.nio.channels.FileChannel.MapMode,long,long,java.lang.foreign.Arena)"><code>FileChannel.map(FileChannel.MapMode, long, long, <span class="diff-html-removed">SegmentScope</span><span class="diff-html-added">Arena</span>)   </code></a><sup><a href="../../nio/channels/FileChannel.html#preview-map(java.nio.channels.FileChannel.MapMode,long,long,java.lang.foreign.Arena)">PREVIEW</a></sup> factory, or by <a href="#ofBuffer(java.nio.Buffer)">wrapping</a> a <a href="../../nio/MappedByteBuffer.html" title="class in java.nio">mapped byte buffer  </a>.                         </div><dl class="notes"> <dt>Returns:</dt><dd> <code>true</code> if this segment is a mapped segment.        </dd> </dl>  </section> <a end_ctx_id="method:isMapped()"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:isMapped()"/> <section class="detail" id="isMapped()"><h3>isMapped</h3><div class="member-signature"> <span class="return-type">boolean</span><span class="element-name">isMapped</span>() </div><div class="block"> Returns <code>true</code> if this segment is a mapped segment. A mapped memory segment is created e.g. using the <a href="../../nio/channels/FileChannel.html#map(java.nio.channels.FileChannel.MapMode,long,long,java.lang.foreign.SegmentScope)"><code>FileChannel.map(FileChannel.MapMode, long, long, SegmentScope)   </code></a><sup><a href="../../nio/channels/FileChannel.html#preview-map(java.nio.channels.FileChannel.MapMode,long,long,java.lang.foreign.SegmentScope)">PREVIEW</a></sup> factory, or by <a href="#ofBuffer(java.nio.Buffer)">wrapping</a> a <a href="../../nio/MappedByteBuffer.html" title="class in java.nio">mapped byte buffer  </a>.                         </div><dl class="notes"> <dt>Returns:</dt><dd> <code>true</code> if this segment is a mapped segment.        </dd> </dl>  </section> <a end_ctx_id="method:isMapped()"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:isMapped()"/> <section class="detail" id="isMapped()"><h3>isMapped</h3><div class="member-signature"> <span class="return-type">boolean</span><span class="element-name">isMapped</span>() </div><div class="block"> Returns <code>true</code> if this segment is a mapped segment. A mapped memory segment is created e.g. using the <a href="../../nio/channels/FileChannel.html#map(java.nio.channels.FileChannel.MapMode,long,long,java.lang.foreign.Arena)"><code>FileChannel.map(FileChannel.MapMode, long, long, Arena)   </code></a><sup><a href="../../nio/channels/FileChannel.html#preview-map(java.nio.channels.FileChannel.MapMode,long,long,java.lang.foreign.Arena)">PREVIEW</a></sup> factory, or by <a href="#ofBuffer(java.nio.Buffer)">wrapping</a> a <a href="../../nio/MappedByteBuffer.html" title="class in java.nio">mapped byte buffer  </a>.                         </div><dl class="notes"> <dt>Returns:</dt><dd> <code>true</code> if this segment is a mapped segment.        </dd> </dl>  </section> <a end_ctx_id="method:isMapped()"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:asOverlappingSlice(java.lang.foreign.MemorySegment) [NONE]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:asOverlappingSlice(java.lang.foreign.MemorySegment)"/> <section class="detail" id="asOverlappingSlice(java.lang.foreign.MemorySegment)"><h3>asOverlappingSlice</h3><div class="member-signature"> <span class="return-type"><a href="../../util/Optional.html" title="class in java.util">Optional</a>&lt;<a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>&gt;</span><span class="element-name">asOverlappingSlice</span> <wbr/> <span class="parameters">(<a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>other)</span>   </div><div class="block"> Returns a slice of this segment that is the overlap between this and the provided segment.<p> Two segments <code>S1</code> and <code>S2</code> are said to overlap if it is possible to find at least two slices <code>L1</code> (from <code>S1</code>) and <code>L2</code> (from <code>S2</code>) that are backed by the same region of memory. As such, it is not possible for a <a href="#isNative()">native</a> segment to overlap with a heap segment; in this case, or when no overlap occurs, <code>null</code> is returned.                                                              </p>                </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>other</code> - the segment to test for an overlap with this segment.            </dd> <dt>Returns:</dt><dd>a slice of this segment (where overlapping occurs).       </dd>  </dl>  </section> <a end_ctx_id="method:asOverlappingSlice(java.lang.foreign.MemorySegment)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:segmentOffset(java.lang.foreign.MemorySegment) [NONE]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:segmentOffset(java.lang.foreign.MemorySegment)"/> <section class="detail" id="segmentOffset(java.lang.foreign.MemorySegment)"><h3>segmentOffset</h3><div class="member-signature"> <span class="return-type">long</span><span class="element-name">segmentOffset</span> <wbr/> <span class="parameters">(<a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>other)</span>   </div><div class="block"> Returns the offset, in bytes, of the provided segment, relative to this segment.<p>The offset is relative to the address of this segment and can be a negative or positive value. For instance, if both segments are native segments, or heap segments backed by the same array, the resulting offset can be computed as follows:                                         </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                                            <code class="language-java">other.address() - segment.address()
</code>
                                                        </pre> </div> If the segments share the same address, <code>0</code> is returned. If <code>other</code> is a slice of this segment, the offset is always <code>0 &lt;= x &lt; this.byteSize()    </code>.                                    </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>other</code> - the segment to retrieve an offset to.         </dd> <dt>Returns:</dt><dd>the relative offset, in bytes, of the provided segment.        </dd> <dt>Throws:</dt><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if the two segments cannot be compared, e.g. because they are of a different kind, or because they are backed by different Java arrays.                          </dd>   </dl>  </section> <a end_ctx_id="method:segmentOffset(java.lang.foreign.MemorySegment)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:fill(byte) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:fill(byte)"/> <section class="detail" id="fill(byte)"><h3>fill</h3><div class="member-signature"> <span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">fill</span> <wbr/> <span class="parameters">(bytevalue)</span>   </div><div class="block"> Fills a value into this memory segment.<p> More specifically, the given value is filled into each address of this segment. Equivalent to (but likely more efficient than) the following code:                       </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                                            <code class="language-java">byteHandle = MemoryLayout.ofSequence(ValueLayout.JAVA_BYTE)
        .varHandle(byte.class, MemoryLayout.PathElement.sequenceElement());
for (long l = 0; l &lt; segment.byteSize(); l++) {
    byteHandle.set(segment.address(), l, value);
}
</code>
                                                        </pre> </div> without any regard or guarantees on the ordering of particular memory elements being set.<p> Fill can be useful to initialize or reset the memory of a segment.             </p>                     </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>value</code> - the value to fill into this segment         </dd> <dt>Returns:</dt><dd>this memory segment  </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is read-only (see <a href="#isReadOnly()"><code>isReadOnly()</code></a>).         </dd>   </dl>  </section> <a end_ctx_id="method:fill(byte)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:fill(byte)"/> <section class="detail" id="fill(byte)"><h3>fill</h3><div class="member-signature"> <span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">fill</span> <wbr/> <span class="parameters">(bytevalue)</span>   </div><div class="block"> Fills a value into this memory segment.<p> More specifically, the given value is filled into each address of this segment. Equivalent to (but likely more efficient than) the following code:                       </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                                            <code class="language-java">byteHandle = MemoryLayout.ofSequence(ValueLayout.JAVA_BYTE)
        .varHandle(byte.class, MemoryLayout.PathElement.sequenceElement());
for (long l = 0; l &lt; segment.byteSize(); l++) {
    byteHandle.set(segment.address(), l, value);
}
</code>
                                                        </pre> </div> without any regard or guarantees on the ordering of particular memory elements being set.<p> Fill can be useful to initialize or reset the memory of a segment.             </p>                     </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>value</code> - the value to fill into this segment         </dd> <dt>Returns:</dt><dd>this memory segment  </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is read-only (see <a href="#isReadOnly()"><code>isReadOnly()</code></a>).         </dd>   </dl>  </section> <a end_ctx_id="method:fill(byte)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:fill(byte)"/> <section class="detail" id="fill(byte)"><h3>fill</h3><div class="member-signature"> <span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">fill</span> <wbr/> <span class="parameters">(bytevalue)</span>   </div><div class="block"> Fills a value into this memory segment.<p> More specifically, the given value is filled into each address of this segment. Equivalent to (but likely more efficient than) the following code:                       </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                                            <code class="language-java">byteHandle = MemoryLayout.ofSequence(ValueLayout.JAVA_BYTE)
        .varHandle(byte.class, MemoryLayout.PathElement.sequenceElement());
for (long l = 0; l &lt; segment.byteSize(); l++) {
    byteHandle.set(segment.address(), l, value);
}
</code>
                                                        </pre> </div> without any regard or guarantees on the ordering of particular memory elements being set.<p> Fill can be useful to initialize or reset the memory of a segment.             </p>                     </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>value</code> - the value to fill into this segment         </dd> <dt>Returns:</dt><dd>this memory segment  </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is read-only (see <a href="#isReadOnly()"><code>isReadOnly()</code></a>).         </dd>   </dl>  </section> <a end_ctx_id="method:fill(byte)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:copyFrom(java.lang.foreign.MemorySegment) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:copyFrom(java.lang.foreign.MemorySegment)"/> <section class="detail" id="copyFrom(java.lang.foreign.MemorySegment)"><h3>copyFrom</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">copyFrom</span> <wbr/> <span class="parameters">(<a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>src)</span>   </div><div class="block"> Performs a bulk copy from given source segment to this segment. More specifically, the bytes at offset <code>0</code> through <code>src.byteSize() - 1  </code> in the source segment are copied into this segment at offset <code>0</code> through <code>src.byteSize() - 1  </code>.<p> Calling this method is equivalent to the following code:         </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                                            <code class="language-java">MemorySegment.copy(src, 0, this, 0, src.byteSize);
</code>
                                                        </pre> </div>                                  </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>src</code> - the source segment.     </dd> <dt>Returns:</dt><dd>this segment. </dd> <dt>Throws:</dt><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>src.byteSize() &gt; this.byteSize()  </code>.    </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with <code>src</code> is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.           </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>src<span class="diff-html-removed">.scope()</span>.isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is read-only (see <a href="#isReadOnly()"><code>isReadOnly()</code></a>).         </dd>   </dl>  </section> <a end_ctx_id="method:copyFrom(java.lang.foreign.MemorySegment)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:copyFrom(java.lang.foreign.MemorySegment)"/> <section class="detail" id="copyFrom(java.lang.foreign.MemorySegment)"><h3>copyFrom</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">copyFrom</span> <wbr/> <span class="parameters">(<a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>src)</span>   </div><div class="block"> Performs a bulk copy from given source segment to this segment. More specifically, the bytes at offset <code>0</code> through <code>src.byteSize() - 1  </code> in the source segment are copied into this segment at offset <code>0</code> through <code>src.byteSize() - 1  </code>.<p> Calling this method is equivalent to the following code:         </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                                            <code class="language-java">MemorySegment.copy(src, 0, this, 0, src.byteSize);
</code>
                                                        </pre> </div>                                  </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>src</code> - the source segment.     </dd> <dt>Returns:</dt><dd>this segment. </dd> <dt>Throws:</dt><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>src.byteSize() &gt; this.byteSize()  </code>.    </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with <code>src</code> is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.           </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>src.scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is read-only (see <a href="#isReadOnly()"><code>isReadOnly()</code></a>).         </dd>   </dl>  </section> <a end_ctx_id="method:copyFrom(java.lang.foreign.MemorySegment)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:copyFrom(java.lang.foreign.MemorySegment)"/> <section class="detail" id="copyFrom(java.lang.foreign.MemorySegment)"><h3>copyFrom</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">copyFrom</span> <wbr/> <span class="parameters">(<a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>src)</span>   </div><div class="block"> Performs a bulk copy from given source segment to this segment. More specifically, the bytes at offset <code>0</code> through <code>src.byteSize() - 1  </code> in the source segment are copied into this segment at offset <code>0</code> through <code>src.byteSize() - 1  </code>.<p> Calling this method is equivalent to the following code:         </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                                            <code class="language-java">MemorySegment.copy(src, 0, this, 0, src.byteSize);
</code>
                                                        </pre> </div>                                  </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>src</code> - the source segment.     </dd> <dt>Returns:</dt><dd>this segment. </dd> <dt>Throws:</dt><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>src.byteSize() &gt; this.byteSize()  </code>.    </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with <code>src</code> is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.           </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>src.isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is read-only (see <a href="#isReadOnly()"><code>isReadOnly()</code></a>).         </dd>   </dl>  </section> <a end_ctx_id="method:copyFrom(java.lang.foreign.MemorySegment)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:mismatch(java.lang.foreign.MemorySegment) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:mismatch(java.lang.foreign.MemorySegment)"/> <section class="detail" id="mismatch(java.lang.foreign.MemorySegment)"><h3>mismatch</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">long</span><span class="element-name">mismatch</span> <wbr/> <span class="parameters">(<a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>other)</span>   </div><div class="block"> Finds and returns the offset, in bytes, of the first mismatch between this segment and the given other segment. The offset is relative to the <a href="#address()">address</a> of each segment and will be in the range of 0 (inclusive) up to the <a href="#byteSize()">size</a> (in bytes) of the smaller memory segment (exclusive).<p> If the two segments share a common prefix then the returned offset is the length of the common prefix, and it follows that there is a mismatch between the two segments at that offset within the respective segments. If one segment is a proper prefix of the other, then the returned offset is the smallest of the segment sizes, and it follows that the offset is only valid for the larger segment. Otherwise, there is no mismatch and <code> -1 </code> is returned.                                                                                 </p>                                                  </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>other</code> - the segment to be tested for a mismatch with this segment             </dd> <dt>Returns:</dt><dd>the relative offset, in bytes, of the first mismatch between this and the given other segment, otherwise -1 if no mismatch                    </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with <code>other</code> is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.           </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>other<span class="diff-html-removed">.scope()</span>.isAccessibleBy(T) == false  </code>.              </dd>   </dl>  </section> <a end_ctx_id="method:mismatch(java.lang.foreign.MemorySegment)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:mismatch(java.lang.foreign.MemorySegment)"/> <section class="detail" id="mismatch(java.lang.foreign.MemorySegment)"><h3>mismatch</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">long</span><span class="element-name">mismatch</span> <wbr/> <span class="parameters">(<a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>other)</span>   </div><div class="block"> Finds and returns the offset, in bytes, of the first mismatch between this segment and the given other segment. The offset is relative to the <a href="#address()">address</a> of each segment and will be in the range of 0 (inclusive) up to the <a href="#byteSize()">size</a> (in bytes) of the smaller memory segment (exclusive).<p> If the two segments share a common prefix then the returned offset is the length of the common prefix, and it follows that there is a mismatch between the two segments at that offset within the respective segments. If one segment is a proper prefix of the other, then the returned offset is the smallest of the segment sizes, and it follows that the offset is only valid for the larger segment. Otherwise, there is no mismatch and <code> -1 </code> is returned.                                                                                 </p>                                                  </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>other</code> - the segment to be tested for a mismatch with this segment             </dd> <dt>Returns:</dt><dd>the relative offset, in bytes, of the first mismatch between this and the given other segment, otherwise -1 if no mismatch                    </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with <code>other</code> is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.           </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>other.scope().isAccessibleBy(T) == false  </code>.              </dd>   </dl>  </section> <a end_ctx_id="method:mismatch(java.lang.foreign.MemorySegment)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:mismatch(java.lang.foreign.MemorySegment)"/> <section class="detail" id="mismatch(java.lang.foreign.MemorySegment)"><h3>mismatch</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">long</span><span class="element-name">mismatch</span> <wbr/> <span class="parameters">(<a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>other)</span>   </div><div class="block"> Finds and returns the offset, in bytes, of the first mismatch between this segment and the given other segment. The offset is relative to the <a href="#address()">address</a> of each segment and will be in the range of 0 (inclusive) up to the <a href="#byteSize()">size</a> (in bytes) of the smaller memory segment (exclusive).<p> If the two segments share a common prefix then the returned offset is the length of the common prefix, and it follows that there is a mismatch between the two segments at that offset within the respective segments. If one segment is a proper prefix of the other, then the returned offset is the smallest of the segment sizes, and it follows that the offset is only valid for the larger segment. Otherwise, there is no mismatch and <code> -1 </code> is returned.                                                                                 </p>                                                  </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>other</code> - the segment to be tested for a mismatch with this segment             </dd> <dt>Returns:</dt><dd>the relative offset, in bytes, of the first mismatch between this and the given other segment, otherwise -1 if no mismatch                    </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with <code>other</code> is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.           </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>other.isAccessibleBy(T) == false  </code>.              </dd>   </dl>  </section> <a end_ctx_id="method:mismatch(java.lang.foreign.MemorySegment)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:isLoaded() [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:isLoaded()"/> <section class="detail" id="isLoaded()"><h3>isLoaded</h3><div class="member-signature"> <span class="return-type">boolean</span><span class="element-name">isLoaded</span>() </div><div class="block"> Determines whether the contents of this mapped segment is resident in physical memory.<p> A return value of <code>true</code> implies that it is highly likely that all the data in this segment is resident in physical memory and may therefore be accessed without incurring any virtual-memory page faults or I/O operations. A return value of <code>false</code> does not necessarily imply that this segment's content is not resident in physical memory.                                                        </p><p> The returned value is a hint, rather than a guarantee, because the underlying operating system may have paged out some of this segment's data by the time that an invocation of this method returns.                                  </p>             </div><dl class="notes"> <dt>Returns:</dt><dd> <code>true</code> if it is likely that the contents of this segment is resident in physical memory                </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is not a mapped memory segment, e.g. if <code>isMapped() == false  </code>.              </dd>  </dl>  </section> <a end_ctx_id="method:isLoaded()"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:isLoaded()"/> <section class="detail" id="isLoaded()"><h3>isLoaded</h3><div class="member-signature"> <span class="return-type">boolean</span><span class="element-name">isLoaded</span>() </div><div class="block"> Determines whether the contents of this mapped segment is resident in physical memory.<p> A return value of <code>true</code> implies that it is highly likely that all the data in this segment is resident in physical memory and may therefore be accessed without incurring any virtual-memory page faults or I/O operations. A return value of <code>false</code> does not necessarily imply that this segment's content is not resident in physical memory.                                                        </p><p> The returned value is a hint, rather than a guarantee, because the underlying operating system may have paged out some of this segment's data by the time that an invocation of this method returns.                                  </p>             </div><dl class="notes"> <dt>Returns:</dt><dd> <code>true</code> if it is likely that the contents of this segment is resident in physical memory                </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is not a mapped memory segment, e.g. if <code>isMapped() == false  </code>.              </dd>  </dl>  </section> <a end_ctx_id="method:isLoaded()"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:isLoaded()"/> <section class="detail" id="isLoaded()"><h3>isLoaded</h3><div class="member-signature"> <span class="return-type">boolean</span><span class="element-name">isLoaded</span>() </div><div class="block"> Determines whether the contents of this mapped segment is resident in physical memory.<p> A return value of <code>true</code> implies that it is highly likely that all the data in this segment is resident in physical memory and may therefore be accessed without incurring any virtual-memory page faults or I/O operations. A return value of <code>false</code> does not necessarily imply that this segment's content is not resident in physical memory.                                                        </p><p> The returned value is a hint, rather than a guarantee, because the underlying operating system may have paged out some of this segment's data by the time that an invocation of this method returns.                                  </p>             </div><dl class="notes"> <dt>Returns:</dt><dd> <code>true</code> if it is likely that the contents of this segment is resident in physical memory                </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is not a mapped memory segment, e.g. if <code>isMapped() == false  </code>.              </dd>  </dl>  </section> <a end_ctx_id="method:isLoaded()"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:load() [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:load()"/> <section class="detail" id="load()"><h3>load</h3><div class="member-signature"> <span class="return-type">void</span><span class="element-name">load</span>() </div><div class="block"> Loads the contents of this mapped segment into physical memory.<p> This method makes a best effort to ensure that, when it returns, this contents of this segment is resident in physical memory. Invoking this method may cause some number of page faults and I/O operations to occur.                                     </p>          </div><dl class="notes"> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is not a mapped memory segment, e.g. if <code>isMapped() == false  </code>.              </dd> </dl>  </section> <a end_ctx_id="method:load()"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:load()"/> <section class="detail" id="load()"><h3>load</h3><div class="member-signature"> <span class="return-type">void</span><span class="element-name">load</span>() </div><div class="block"> Loads the contents of this mapped segment into physical memory.<p> This method makes a best effort to ensure that, when it returns, this contents of this segment is resident in physical memory. Invoking this method may cause some number of page faults and I/O operations to occur.                                     </p>          </div><dl class="notes"> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is not a mapped memory segment, e.g. if <code>isMapped() == false  </code>.              </dd> </dl>  </section> <a end_ctx_id="method:load()"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:load()"/> <section class="detail" id="load()"><h3>load</h3><div class="member-signature"> <span class="return-type">void</span><span class="element-name">load</span>() </div><div class="block"> Loads the contents of this mapped segment into physical memory.<p> This method makes a best effort to ensure that, when it returns, this contents of this segment is resident in physical memory. Invoking this method may cause some number of page faults and I/O operations to occur.                                     </p>          </div><dl class="notes"> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is not a mapped memory segment, e.g. if <code>isMapped() == false  </code>.              </dd> </dl>  </section> <a end_ctx_id="method:load()"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:unload() [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:unload()"/> <section class="detail" id="unload()"><h3>unload</h3><div class="member-signature"> <span class="return-type">void</span><span class="element-name">unload</span>() </div><div class="block"> Unloads the contents of this mapped segment from physical memory.<p> This method makes a best effort to ensure that the contents of this segment are are no longer resident in physical memory. Accessing this segment's contents after invoking this method may cause some number of page faults and I/O operations to occur (as this segment's contents might need to be paged back in).                                                     </p>          </div><dl class="notes"> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is not a mapped memory segment, e.g. if <code>isMapped() == false  </code>.              </dd> </dl>  </section> <a end_ctx_id="method:unload()"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:unload()"/> <section class="detail" id="unload()"><h3>unload</h3><div class="member-signature"> <span class="return-type">void</span><span class="element-name">unload</span>() </div><div class="block"> Unloads the contents of this mapped segment from physical memory.<p> This method makes a best effort to ensure that the contents of this segment are are no longer resident in physical memory. Accessing this segment's contents after invoking this method may cause some number of page faults and I/O operations to occur (as this segment's contents might need to be paged back in).                                                     </p>          </div><dl class="notes"> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is not a mapped memory segment, e.g. if <code>isMapped() == false  </code>.              </dd> </dl>  </section> <a end_ctx_id="method:unload()"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:unload()"/> <section class="detail" id="unload()"><h3>unload</h3><div class="member-signature"> <span class="return-type">void</span><span class="element-name">unload</span>() </div><div class="block"> Unloads the contents of this mapped segment from physical memory.<p> This method makes a best effort to ensure that the contents of this segment are are no longer resident in physical memory. Accessing this segment's contents after invoking this method may cause some number of page faults and I/O operations to occur (as this segment's contents might need to be paged back in).                                                     </p>          </div><dl class="notes"> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is not a mapped memory segment, e.g. if <code>isMapped() == false  </code>.              </dd> </dl>  </section> <a end_ctx_id="method:unload()"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:force() [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:force()"/> <section class="detail" id="force()"><h3>force</h3><div class="member-signature"> <span class="return-type">void</span><span class="element-name">force</span>() </div><div class="block"> Forces any changes made to the contents of this mapped segment to be written to the storage device described by the mapped segment's file descriptor.<p> If the file descriptor associated with this mapped segment resides on a local storage device then when this method returns it is guaranteed that all changes made to this segment since it was created, or since this method was last invoked, will have been written to that device.                                                </p><p> If the file descriptor associated with this mapped segment does not reside on a local device then no such guarantee is made.                      </p><p> If this segment was not mapped in read/write mode (<a href="../../nio/channels/FileChannel.MapMode.html#READ_WRITE"><code>FileChannel.MapMode.READ_WRITE</code></a>) then invoking this method may have no effect. In particular, the method has no effect for segments mapped in read-only or private mapping modes. This method may or may not have an effect for implementation-specific mapping modes.                                               </p>                         </div><dl class="notes"> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is not a mapped memory segment, e.g. if <code>isMapped() == false  </code>.              </dd><dd> <code><a href="../../io/UncheckedIOException.html" title="class in java.io">UncheckedIOException</a></code> - if there is an I/O error writing the contents of this segment to the associated storage device                   </dd> </dl>  </section> <a end_ctx_id="method:force()"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:force()"/> <section class="detail" id="force()"><h3>force</h3><div class="member-signature"> <span class="return-type">void</span><span class="element-name">force</span>() </div><div class="block"> Forces any changes made to the contents of this mapped segment to be written to the storage device described by the mapped segment's file descriptor.<p> If the file descriptor associated with this mapped segment resides on a local storage device then when this method returns it is guaranteed that all changes made to this segment since it was created, or since this method was last invoked, will have been written to that device.                                                </p><p> If the file descriptor associated with this mapped segment does not reside on a local device then no such guarantee is made.                      </p><p> If this segment was not mapped in read/write mode (<a href="../../nio/channels/FileChannel.MapMode.html#READ_WRITE"><code>FileChannel.MapMode.READ_WRITE</code></a>) then invoking this method may have no effect. In particular, the method has no effect for segments mapped in read-only or private mapping modes. This method may or may not have an effect for implementation-specific mapping modes.                                               </p>                         </div><dl class="notes"> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is not a mapped memory segment, e.g. if <code>isMapped() == false  </code>.              </dd><dd> <code><a href="../../io/UncheckedIOException.html" title="class in java.io">UncheckedIOException</a></code> - if there is an I/O error writing the contents of this segment to the associated storage device                   </dd> </dl>  </section> <a end_ctx_id="method:force()"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:force()"/> <section class="detail" id="force()"><h3>force</h3><div class="member-signature"> <span class="return-type">void</span><span class="element-name">force</span>() </div><div class="block"> Forces any changes made to the contents of this mapped segment to be written to the storage device described by the mapped segment's file descriptor.<p> If the file descriptor associated with this mapped segment resides on a local storage device then when this method returns it is guaranteed that all changes made to this segment since it was created, or since this method was last invoked, will have been written to that device.                                                </p><p> If the file descriptor associated with this mapped segment does not reside on a local device then no such guarantee is made.                      </p><p> If this segment was not mapped in read/write mode (<a href="../../nio/channels/FileChannel.MapMode.html#READ_WRITE"><code>FileChannel.MapMode.READ_WRITE</code></a>) then invoking this method may have no effect. In particular, the method has no effect for segments mapped in read-only or private mapping modes. This method may or may not have an effect for implementation-specific mapping modes.                                               </p>                         </div><dl class="notes"> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is not a mapped memory segment, e.g. if <code>isMapped() == false  </code>.              </dd><dd> <code><a href="../../io/UncheckedIOException.html" title="class in java.io">UncheckedIOException</a></code> - if there is an I/O error writing the contents of this segment to the associated storage device                   </dd> </dl>  </section> <a end_ctx_id="method:force()"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:asByteBuffer() [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:asByteBuffer()"/> <section class="detail" id="asByteBuffer()"><h3>asByteBuffer</h3><div class="member-signature"> <span class="return-type"><a href="../../nio/ByteBuffer.html" title="class in java.nio">ByteBuffer</a></span><span class="element-name">asByteBuffer</span>() </div><div class="block"> Wraps this segment in a <a href="../../nio/ByteBuffer.html" title="class in java.nio"><code>ByteBuffer</code></a>. Some properties of the returned buffer are linked to the properties of this segment. For instance, if this segment is <em>immutable</em> (e.g. the segment is a read-only segment, see <a href="#isReadOnly()"><code>isReadOnly()</code></a>), then the resulting buffer is <em>read-only</em> (see <a href="../../nio/Buffer.html#isReadOnly()"><code>Buffer.isReadOnly()</code></a>). Additionally, if this is a native segment, the resulting buffer is <em>direct</em> (see <a href="../../nio/ByteBuffer.html#isDirect()"><code>ByteBuffer.isDirect()</code></a>).<p> The returned buffer's position (see <a href="../../nio/Buffer.html#position()"><code>Buffer.position()</code></a>) is initially set to zero, while the returned buffer's capacity and limit (see <a href="../../nio/Buffer.html#capacity()"><code>Buffer.capacity()</code></a> and <a href="../../nio/Buffer.html#limit()"><code>Buffer.limit()</code></a>, respectively) are set to this segment' size (see <a href="#byteSize()"><code>byteSize()</code></a>). For this reason, a byte buffer cannot be returned if this segment' size is greater than <a href="../Integer.html#MAX_VALUE"><code>Integer.MAX_VALUE</code></a>.                                                </p><p> The life-cycle of the returned buffer will be tied to that of this segment. That is, accessing the returned buffer after the scope associated with this segment is no longer <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>, will throw an <a href="../IllegalStateException.html" title="class in java.lang"><code>IllegalStateException</code></a>. Similarly, accessing the returned buffer from a thread <code>T</code> such that <code><span class="diff-html-removed">scope().</span>isAccessible(T) == false  </code> will throw a <a href="../WrongThreadException.html" title="class in java.lang"><code>WrongThreadException</code></a>.                                                   </p><p> If this segment is <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">scope</span> <span class="diff-html-removed">that</span> <span class="diff-html-removed">can</span> <span class="diff-html-removed">only</span> <span class="diff-html-removed">be</span> <span class="diff-html-removed">accessed</span><span class="diff-html-added">accessible</span> from a single thread, calling read/write I/O operations on the resulting buffer might result in an unspecified exception being thrown. Examples of such problematic operations are <a href="../../nio/channels/AsynchronousSocketChannel.html#read(java.nio.ByteBuffer)"><code>AsynchronousSocketChannel.read(ByteBuffer)</code></a> and <a href="../../nio/channels/AsynchronousSocketChannel.html#write(java.nio.ByteBuffer)"><code>AsynchronousSocketChannel.write(ByteBuffer)</code></a>.                                          </p><p> Finally, the resulting buffer's byte order is <a href="../../nio/ByteOrder.html#BIG_ENDIAN"><code>ByteOrder.BIG_ENDIAN</code></a>; this can be changed using <a href="../../nio/ByteBuffer.html#order(java.nio.ByteOrder)"><code>ByteBuffer.order(java.nio.ByteOrder)</code></a>.              </p>                                                          </div><dl class="notes"> <dt>Returns:</dt><dd> a <a href="../../nio/ByteBuffer.html" title="class in java.nio"><code>ByteBuffer</code></a> view of this memory segment.       </dd> <dt>Throws:</dt><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment cannot be mapped onto a <a href="../../nio/ByteBuffer.html" title="class in java.nio"><code>ByteBuffer</code></a> instance, e.g. because it models a heap-based segment that is not based on a <code>byte[]</code>), or if its size is greater than <a href="../Integer.html#MAX_VALUE"><code>Integer.MAX_VALUE</code></a>.                                  </dd>  </dl>  </section> <a end_ctx_id="method:asByteBuffer()"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:asByteBuffer()"/> <section class="detail" id="asByteBuffer()"><h3>asByteBuffer</h3><div class="member-signature"> <span class="return-type"><a href="../../nio/ByteBuffer.html" title="class in java.nio">ByteBuffer</a></span><span class="element-name">asByteBuffer</span>() </div><div class="block"> Wraps this segment in a <a href="../../nio/ByteBuffer.html" title="class in java.nio"><code>ByteBuffer</code></a>. Some properties of the returned buffer are linked to the properties of this segment. For instance, if this segment is <em>immutable</em> (e.g. the segment is a read-only segment, see <a href="#isReadOnly()"><code>isReadOnly()</code></a>), then the resulting buffer is <em>read-only</em> (see <a href="../../nio/Buffer.html#isReadOnly()"><code>Buffer.isReadOnly()</code></a>). Additionally, if this is a native segment, the resulting buffer is <em>direct</em> (see <a href="../../nio/ByteBuffer.html#isDirect()"><code>ByteBuffer.isDirect()</code></a>).<p> The returned buffer's position (see <a href="../../nio/Buffer.html#position()"><code>Buffer.position()</code></a>) is initially set to zero, while the returned buffer's capacity and limit (see <a href="../../nio/Buffer.html#capacity()"><code>Buffer.capacity()</code></a> and <a href="../../nio/Buffer.html#limit()"><code>Buffer.limit()</code></a>, respectively) are set to this segment' size (see <a href="#byteSize()"><code>byteSize()</code></a>). For this reason, a byte buffer cannot be returned if this segment' size is greater than <a href="../Integer.html#MAX_VALUE"><code>Integer.MAX_VALUE</code></a>.                                                </p><p> The life-cycle of the returned buffer will be tied to that of this segment. That is, accessing the returned buffer after the scope associated with this segment is no longer <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>, will throw an <a href="../IllegalStateException.html" title="class in java.lang"><code>IllegalStateException</code></a>. Similarly, accessing the returned buffer from a thread <code>T</code> such that <code>scope().isAccessible(T) == false  </code> will throw a <a href="../WrongThreadException.html" title="class in java.lang"><code>WrongThreadException</code></a>.                                                   </p><p> If this segment is associated with a scope that can only be accessed from a single thread, calling read/write I/O operations on the resulting buffer might result in an unspecified exception being thrown. Examples of such problematic operations are <a href="../../nio/channels/AsynchronousSocketChannel.html#read(java.nio.ByteBuffer)"><code>AsynchronousSocketChannel.read(ByteBuffer)</code></a> and <a href="../../nio/channels/AsynchronousSocketChannel.html#write(java.nio.ByteBuffer)"><code>AsynchronousSocketChannel.write(ByteBuffer)</code></a>.                                          </p><p> Finally, the resulting buffer's byte order is <a href="../../nio/ByteOrder.html#BIG_ENDIAN"><code>ByteOrder.BIG_ENDIAN</code></a>; this can be changed using <a href="../../nio/ByteBuffer.html#order(java.nio.ByteOrder)"><code>ByteBuffer.order(java.nio.ByteOrder)</code></a>.              </p>                                                          </div><dl class="notes"> <dt>Returns:</dt><dd> a <a href="../../nio/ByteBuffer.html" title="class in java.nio"><code>ByteBuffer</code></a> view of this memory segment.       </dd> <dt>Throws:</dt><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment cannot be mapped onto a <a href="../../nio/ByteBuffer.html" title="class in java.nio"><code>ByteBuffer</code></a> instance, e.g. because it models a heap-based segment that is not based on a <code>byte[]</code>), or if its size is greater than <a href="../Integer.html#MAX_VALUE"><code>Integer.MAX_VALUE</code></a>.                                  </dd>  </dl>  </section> <a end_ctx_id="method:asByteBuffer()"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:asByteBuffer()"/> <section class="detail" id="asByteBuffer()"><h3>asByteBuffer</h3><div class="member-signature"> <span class="return-type"><a href="../../nio/ByteBuffer.html" title="class in java.nio">ByteBuffer</a></span><span class="element-name">asByteBuffer</span>() </div><div class="block"> Wraps this segment in a <a href="../../nio/ByteBuffer.html" title="class in java.nio"><code>ByteBuffer</code></a>. Some properties of the returned buffer are linked to the properties of this segment. For instance, if this segment is <em>immutable</em> (e.g. the segment is a read-only segment, see <a href="#isReadOnly()"><code>isReadOnly()</code></a>), then the resulting buffer is <em>read-only</em> (see <a href="../../nio/Buffer.html#isReadOnly()"><code>Buffer.isReadOnly()</code></a>). Additionally, if this is a native segment, the resulting buffer is <em>direct</em> (see <a href="../../nio/ByteBuffer.html#isDirect()"><code>ByteBuffer.isDirect()</code></a>).<p> The returned buffer's position (see <a href="../../nio/Buffer.html#position()"><code>Buffer.position()</code></a>) is initially set to zero, while the returned buffer's capacity and limit (see <a href="../../nio/Buffer.html#capacity()"><code>Buffer.capacity()</code></a> and <a href="../../nio/Buffer.html#limit()"><code>Buffer.limit()</code></a>, respectively) are set to this segment' size (see <a href="#byteSize()"><code>byteSize()</code></a>). For this reason, a byte buffer cannot be returned if this segment' size is greater than <a href="../Integer.html#MAX_VALUE"><code>Integer.MAX_VALUE</code></a>.                                                </p><p> The life-cycle of the returned buffer will be tied to that of this segment. That is, accessing the returned buffer after the scope associated with this segment is no longer <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>, will throw an <a href="../IllegalStateException.html" title="class in java.lang"><code>IllegalStateException</code></a>. Similarly, accessing the returned buffer from a thread <code>T</code> such that <code>isAccessible(T) == false  </code> will throw a <a href="../WrongThreadException.html" title="class in java.lang"><code>WrongThreadException</code></a>.                                                   </p><p> If this segment is accessible from a single thread, calling read/write I/O operations on the resulting buffer might result in an unspecified exception being thrown. Examples of such problematic operations are <a href="../../nio/channels/AsynchronousSocketChannel.html#read(java.nio.ByteBuffer)"><code>AsynchronousSocketChannel.read(ByteBuffer)</code></a> and <a href="../../nio/channels/AsynchronousSocketChannel.html#write(java.nio.ByteBuffer)"><code>AsynchronousSocketChannel.write(ByteBuffer)</code></a>.                                  </p><p> Finally, the resulting buffer's byte order is <a href="../../nio/ByteOrder.html#BIG_ENDIAN"><code>ByteOrder.BIG_ENDIAN</code></a>; this can be changed using <a href="../../nio/ByteBuffer.html#order(java.nio.ByteOrder)"><code>ByteBuffer.order(java.nio.ByteOrder)</code></a>.              </p>                                                          </div><dl class="notes"> <dt>Returns:</dt><dd> a <a href="../../nio/ByteBuffer.html" title="class in java.nio"><code>ByteBuffer</code></a> view of this memory segment.       </dd> <dt>Throws:</dt><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment cannot be mapped onto a <a href="../../nio/ByteBuffer.html" title="class in java.nio"><code>ByteBuffer</code></a> instance, e.g. because it models a heap-based segment that is not based on a <code>byte[]</code>), or if its size is greater than <a href="../Integer.html#MAX_VALUE"><code>Integer.MAX_VALUE</code></a>.                                  </dd>  </dl>  </section> <a end_ctx_id="method:asByteBuffer()"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:toArray(java.lang.foreign.ValueLayout.OfByte) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfByte)"/> <section class="detail" id="toArray(java.lang.foreign.ValueLayout.OfByte)"><h3>toArray</h3><div class="member-signature"> <span class="return-type">byte[]</span><span class="element-name">toArray</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfByte.html" title="interface in java.lang.foreign">ValueLayout.OfByte</a><sup><a href="ValueLayout.OfByte.html#preview-java.lang.foreign.ValueLayout.OfByte">PREVIEW</a></sup>elementLayout)</span>   </div><div class="block">Copy the contents of this memory segment into a new byte array.           </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>elementLayout</code> - the source element layout. If the byte order associated with the layout is different from the <a href="../../nio/ByteOrder.html#nativeOrder()">native order </a>, a byte swap operation will be performed on each array element.                              </dd> <dt>Returns:</dt><dd>a new byte array whose contents are copied from this memory segment.           </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if this segment's contents cannot be copied into a <code>byte[]</code> instance, e.g. its size is greater than <a href="../Integer.html#MAX_VALUE"><code>Integer.MAX_VALUE</code></a>.                    </dd>   </dl>  </section> <a end_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfByte)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfByte)"/> <section class="detail" id="toArray(java.lang.foreign.ValueLayout.OfByte)"><h3>toArray</h3><div class="member-signature"> <span class="return-type">byte[]</span><span class="element-name">toArray</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfByte.html" title="interface in java.lang.foreign">ValueLayout.OfByte</a><sup><a href="ValueLayout.OfByte.html#preview-java.lang.foreign.ValueLayout.OfByte">PREVIEW</a></sup>elementLayout)</span>   </div><div class="block">Copy the contents of this memory segment into a new byte array.           </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>elementLayout</code> - the source element layout. If the byte order associated with the layout is different from the <a href="../../nio/ByteOrder.html#nativeOrder()">native order </a>, a byte swap operation will be performed on each array element.                              </dd> <dt>Returns:</dt><dd>a new byte array whose contents are copied from this memory segment.           </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if this segment's contents cannot be copied into a <code>byte[]</code> instance, e.g. its size is greater than <a href="../Integer.html#MAX_VALUE"><code>Integer.MAX_VALUE</code></a>.                    </dd>   </dl>  </section> <a end_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfByte)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfByte)"/> <section class="detail" id="toArray(java.lang.foreign.ValueLayout.OfByte)"><h3>toArray</h3><div class="member-signature"> <span class="return-type">byte[]</span><span class="element-name">toArray</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfByte.html" title="interface in java.lang.foreign">ValueLayout.OfByte</a><sup><a href="ValueLayout.OfByte.html#preview-java.lang.foreign.ValueLayout.OfByte">PREVIEW</a></sup>elementLayout)</span>   </div><div class="block">Copy the contents of this memory segment into a new byte array.           </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>elementLayout</code> - the source element layout. If the byte order associated with the layout is different from the <a href="../../nio/ByteOrder.html#nativeOrder()">native order </a>, a byte swap operation will be performed on each array element.                              </dd> <dt>Returns:</dt><dd>a new byte array whose contents are copied from this memory segment.           </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if this segment's contents cannot be copied into a <code>byte[]</code> instance, e.g. its size is greater than <a href="../Integer.html#MAX_VALUE"><code>Integer.MAX_VALUE</code></a>.                    </dd>   </dl>  </section> <a end_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfByte)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:toArray(java.lang.foreign.ValueLayout.OfShort) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfShort)"/> <section class="detail" id="toArray(java.lang.foreign.ValueLayout.OfShort)"><h3>toArray</h3><div class="member-signature"> <span class="return-type">short[]</span><span class="element-name">toArray</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfShort.html" title="interface in java.lang.foreign">ValueLayout.OfShort</a><sup><a href="ValueLayout.OfShort.html#preview-java.lang.foreign.ValueLayout.OfShort">PREVIEW</a></sup>elementLayout)</span>   </div><div class="block">Copy the contents of this memory segment into a new short array.           </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>elementLayout</code> - the source element layout. If the byte order associated with the layout is different from the <a href="../../nio/ByteOrder.html#nativeOrder()">native order </a>, a byte swap operation will be performed on each array element.                              </dd> <dt>Returns:</dt><dd>a new short array whose contents are copied from this memory segment.           </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if this segment's contents cannot be copied into a <code>short[]</code> instance, e.g. because <code>byteSize() % 2 != 0    </code>, or <code>byteSize() / 2 &gt; Integer#MAX_VALUE    </code>                  </dd>   </dl>  </section> <a end_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfShort)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfShort)"/> <section class="detail" id="toArray(java.lang.foreign.ValueLayout.OfShort)"><h3>toArray</h3><div class="member-signature"> <span class="return-type">short[]</span><span class="element-name">toArray</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfShort.html" title="interface in java.lang.foreign">ValueLayout.OfShort</a><sup><a href="ValueLayout.OfShort.html#preview-java.lang.foreign.ValueLayout.OfShort">PREVIEW</a></sup>elementLayout)</span>   </div><div class="block">Copy the contents of this memory segment into a new short array.           </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>elementLayout</code> - the source element layout. If the byte order associated with the layout is different from the <a href="../../nio/ByteOrder.html#nativeOrder()">native order </a>, a byte swap operation will be performed on each array element.                              </dd> <dt>Returns:</dt><dd>a new short array whose contents are copied from this memory segment.           </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if this segment's contents cannot be copied into a <code>short[]</code> instance, e.g. because <code>byteSize() % 2 != 0    </code>, or <code>byteSize() / 2 &gt; Integer#MAX_VALUE    </code>                  </dd>   </dl>  </section> <a end_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfShort)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfShort)"/> <section class="detail" id="toArray(java.lang.foreign.ValueLayout.OfShort)"><h3>toArray</h3><div class="member-signature"> <span class="return-type">short[]</span><span class="element-name">toArray</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfShort.html" title="interface in java.lang.foreign">ValueLayout.OfShort</a><sup><a href="ValueLayout.OfShort.html#preview-java.lang.foreign.ValueLayout.OfShort">PREVIEW</a></sup>elementLayout)</span>   </div><div class="block">Copy the contents of this memory segment into a new short array.           </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>elementLayout</code> - the source element layout. If the byte order associated with the layout is different from the <a href="../../nio/ByteOrder.html#nativeOrder()">native order </a>, a byte swap operation will be performed on each array element.                              </dd> <dt>Returns:</dt><dd>a new short array whose contents are copied from this memory segment.           </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if this segment's contents cannot be copied into a <code>short[]</code> instance, e.g. because <code>byteSize() % 2 != 0    </code>, or <code>byteSize() / 2 &gt; Integer#MAX_VALUE    </code>                  </dd>   </dl>  </section> <a end_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfShort)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:toArray(java.lang.foreign.ValueLayout.OfChar) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfChar)"/> <section class="detail" id="toArray(java.lang.foreign.ValueLayout.OfChar)"><h3>toArray</h3><div class="member-signature"> <span class="return-type">char[]</span><span class="element-name">toArray</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfChar.html" title="interface in java.lang.foreign">ValueLayout.OfChar</a><sup><a href="ValueLayout.OfChar.html#preview-java.lang.foreign.ValueLayout.OfChar">PREVIEW</a></sup>elementLayout)</span>   </div><div class="block">Copy the contents of this memory segment into a new char array.           </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>elementLayout</code> - the source element layout. If the byte order associated with the layout is different from the <a href="../../nio/ByteOrder.html#nativeOrder()">native order </a>, a byte swap operation will be performed on each array element.                              </dd> <dt>Returns:</dt><dd>a new char array whose contents are copied from this memory segment.           </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if this segment's contents cannot be copied into a <code>char[]</code> instance, e.g. because <code>byteSize() % 2 != 0    </code>, or <code>byteSize() / 2 &gt; Integer#MAX_VALUE    </code>.                  </dd>   </dl>  </section> <a end_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfChar)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfChar)"/> <section class="detail" id="toArray(java.lang.foreign.ValueLayout.OfChar)"><h3>toArray</h3><div class="member-signature"> <span class="return-type">char[]</span><span class="element-name">toArray</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfChar.html" title="interface in java.lang.foreign">ValueLayout.OfChar</a><sup><a href="ValueLayout.OfChar.html#preview-java.lang.foreign.ValueLayout.OfChar">PREVIEW</a></sup>elementLayout)</span>   </div><div class="block">Copy the contents of this memory segment into a new char array.           </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>elementLayout</code> - the source element layout. If the byte order associated with the layout is different from the <a href="../../nio/ByteOrder.html#nativeOrder()">native order </a>, a byte swap operation will be performed on each array element.                              </dd> <dt>Returns:</dt><dd>a new char array whose contents are copied from this memory segment.           </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if this segment's contents cannot be copied into a <code>char[]</code> instance, e.g. because <code>byteSize() % 2 != 0    </code>, or <code>byteSize() / 2 &gt; Integer#MAX_VALUE    </code>.                  </dd>   </dl>  </section> <a end_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfChar)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfChar)"/> <section class="detail" id="toArray(java.lang.foreign.ValueLayout.OfChar)"><h3>toArray</h3><div class="member-signature"> <span class="return-type">char[]</span><span class="element-name">toArray</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfChar.html" title="interface in java.lang.foreign">ValueLayout.OfChar</a><sup><a href="ValueLayout.OfChar.html#preview-java.lang.foreign.ValueLayout.OfChar">PREVIEW</a></sup>elementLayout)</span>   </div><div class="block">Copy the contents of this memory segment into a new char array.           </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>elementLayout</code> - the source element layout. If the byte order associated with the layout is different from the <a href="../../nio/ByteOrder.html#nativeOrder()">native order </a>, a byte swap operation will be performed on each array element.                              </dd> <dt>Returns:</dt><dd>a new char array whose contents are copied from this memory segment.           </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if this segment's contents cannot be copied into a <code>char[]</code> instance, e.g. because <code>byteSize() % 2 != 0    </code>, or <code>byteSize() / 2 &gt; Integer#MAX_VALUE    </code>.                  </dd>   </dl>  </section> <a end_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfChar)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:toArray(java.lang.foreign.ValueLayout.OfInt) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfInt)"/> <section class="detail" id="toArray(java.lang.foreign.ValueLayout.OfInt)"><h3>toArray</h3><div class="member-signature"> <span class="return-type">int[]</span><span class="element-name">toArray</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfInt.html" title="interface in java.lang.foreign">ValueLayout.OfInt</a><sup><a href="ValueLayout.OfInt.html#preview-java.lang.foreign.ValueLayout.OfInt">PREVIEW</a></sup>elementLayout)</span>   </div><div class="block">Copy the contents of this memory segment into a new int array.           </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>elementLayout</code> - the source element layout. If the byte order associated with the layout is different from the <a href="../../nio/ByteOrder.html#nativeOrder()">native order </a>, a byte swap operation will be performed on each array element.                              </dd> <dt>Returns:</dt><dd>a new int array whose contents are copied from this memory segment.           </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if this segment's contents cannot be copied into a <code>int[]</code> instance, e.g. because <code>byteSize() % 4 != 0    </code>, or <code>byteSize() / 4 &gt; Integer#MAX_VALUE    </code>.                  </dd>   </dl>  </section> <a end_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfInt)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfInt)"/> <section class="detail" id="toArray(java.lang.foreign.ValueLayout.OfInt)"><h3>toArray</h3><div class="member-signature"> <span class="return-type">int[]</span><span class="element-name">toArray</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfInt.html" title="interface in java.lang.foreign">ValueLayout.OfInt</a><sup><a href="ValueLayout.OfInt.html#preview-java.lang.foreign.ValueLayout.OfInt">PREVIEW</a></sup>elementLayout)</span>   </div><div class="block">Copy the contents of this memory segment into a new int array.           </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>elementLayout</code> - the source element layout. If the byte order associated with the layout is different from the <a href="../../nio/ByteOrder.html#nativeOrder()">native order </a>, a byte swap operation will be performed on each array element.                              </dd> <dt>Returns:</dt><dd>a new int array whose contents are copied from this memory segment.           </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if this segment's contents cannot be copied into a <code>int[]</code> instance, e.g. because <code>byteSize() % 4 != 0    </code>, or <code>byteSize() / 4 &gt; Integer#MAX_VALUE    </code>.                  </dd>   </dl>  </section> <a end_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfInt)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfInt)"/> <section class="detail" id="toArray(java.lang.foreign.ValueLayout.OfInt)"><h3>toArray</h3><div class="member-signature"> <span class="return-type">int[]</span><span class="element-name">toArray</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfInt.html" title="interface in java.lang.foreign">ValueLayout.OfInt</a><sup><a href="ValueLayout.OfInt.html#preview-java.lang.foreign.ValueLayout.OfInt">PREVIEW</a></sup>elementLayout)</span>   </div><div class="block">Copy the contents of this memory segment into a new int array.           </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>elementLayout</code> - the source element layout. If the byte order associated with the layout is different from the <a href="../../nio/ByteOrder.html#nativeOrder()">native order </a>, a byte swap operation will be performed on each array element.                              </dd> <dt>Returns:</dt><dd>a new int array whose contents are copied from this memory segment.           </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if this segment's contents cannot be copied into a <code>int[]</code> instance, e.g. because <code>byteSize() % 4 != 0    </code>, or <code>byteSize() / 4 &gt; Integer#MAX_VALUE    </code>.                  </dd>   </dl>  </section> <a end_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfInt)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:toArray(java.lang.foreign.ValueLayout.OfFloat) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfFloat)"/> <section class="detail" id="toArray(java.lang.foreign.ValueLayout.OfFloat)"><h3>toArray</h3><div class="member-signature"> <span class="return-type">float[]</span><span class="element-name">toArray</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfFloat.html" title="interface in java.lang.foreign">ValueLayout.OfFloat</a><sup><a href="ValueLayout.OfFloat.html#preview-java.lang.foreign.ValueLayout.OfFloat">PREVIEW</a></sup>elementLayout)</span>   </div><div class="block">Copy the contents of this memory segment into a new float array.           </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>elementLayout</code> - the source element layout. If the byte order associated with the layout is different from the <a href="../../nio/ByteOrder.html#nativeOrder()">native order </a>, a byte swap operation will be performed on each array element.                              </dd> <dt>Returns:</dt><dd>a new float array whose contents are copied from this memory segment.           </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if this segment's contents cannot be copied into a <code>float[]</code> instance, e.g. because <code>byteSize() % 4 != 0    </code>, or <code>byteSize() / 4 &gt; Integer#MAX_VALUE    </code>.                  </dd>   </dl>  </section> <a end_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfFloat)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfFloat)"/> <section class="detail" id="toArray(java.lang.foreign.ValueLayout.OfFloat)"><h3>toArray</h3><div class="member-signature"> <span class="return-type">float[]</span><span class="element-name">toArray</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfFloat.html" title="interface in java.lang.foreign">ValueLayout.OfFloat</a><sup><a href="ValueLayout.OfFloat.html#preview-java.lang.foreign.ValueLayout.OfFloat">PREVIEW</a></sup>elementLayout)</span>   </div><div class="block">Copy the contents of this memory segment into a new float array.           </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>elementLayout</code> - the source element layout. If the byte order associated with the layout is different from the <a href="../../nio/ByteOrder.html#nativeOrder()">native order </a>, a byte swap operation will be performed on each array element.                              </dd> <dt>Returns:</dt><dd>a new float array whose contents are copied from this memory segment.           </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if this segment's contents cannot be copied into a <code>float[]</code> instance, e.g. because <code>byteSize() % 4 != 0    </code>, or <code>byteSize() / 4 &gt; Integer#MAX_VALUE    </code>.                  </dd>   </dl>  </section> <a end_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfFloat)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfFloat)"/> <section class="detail" id="toArray(java.lang.foreign.ValueLayout.OfFloat)"><h3>toArray</h3><div class="member-signature"> <span class="return-type">float[]</span><span class="element-name">toArray</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfFloat.html" title="interface in java.lang.foreign">ValueLayout.OfFloat</a><sup><a href="ValueLayout.OfFloat.html#preview-java.lang.foreign.ValueLayout.OfFloat">PREVIEW</a></sup>elementLayout)</span>   </div><div class="block">Copy the contents of this memory segment into a new float array.           </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>elementLayout</code> - the source element layout. If the byte order associated with the layout is different from the <a href="../../nio/ByteOrder.html#nativeOrder()">native order </a>, a byte swap operation will be performed on each array element.                              </dd> <dt>Returns:</dt><dd>a new float array whose contents are copied from this memory segment.           </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if this segment's contents cannot be copied into a <code>float[]</code> instance, e.g. because <code>byteSize() % 4 != 0    </code>, or <code>byteSize() / 4 &gt; Integer#MAX_VALUE    </code>.                  </dd>   </dl>  </section> <a end_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfFloat)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:toArray(java.lang.foreign.ValueLayout.OfLong) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfLong)"/> <section class="detail" id="toArray(java.lang.foreign.ValueLayout.OfLong)"><h3>toArray</h3><div class="member-signature"> <span class="return-type">long[]</span><span class="element-name">toArray</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfLong.html" title="interface in java.lang.foreign">ValueLayout.OfLong</a><sup><a href="ValueLayout.OfLong.html#preview-java.lang.foreign.ValueLayout.OfLong">PREVIEW</a></sup>elementLayout)</span>   </div><div class="block">Copy the contents of this memory segment into a new long array.           </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>elementLayout</code> - the source element layout. If the byte order associated with the layout is different from the <a href="../../nio/ByteOrder.html#nativeOrder()">native order </a>, a byte swap operation will be performed on each array element.                              </dd> <dt>Returns:</dt><dd>a new long array whose contents are copied from this memory segment.           </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if this segment's contents cannot be copied into a <code>long[]</code> instance, e.g. because <code>byteSize() % 8 != 0    </code>, or <code>byteSize() / 8 &gt; Integer#MAX_VALUE    </code>.                  </dd>   </dl>  </section> <a end_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfLong)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfLong)"/> <section class="detail" id="toArray(java.lang.foreign.ValueLayout.OfLong)"><h3>toArray</h3><div class="member-signature"> <span class="return-type">long[]</span><span class="element-name">toArray</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfLong.html" title="interface in java.lang.foreign">ValueLayout.OfLong</a><sup><a href="ValueLayout.OfLong.html#preview-java.lang.foreign.ValueLayout.OfLong">PREVIEW</a></sup>elementLayout)</span>   </div><div class="block">Copy the contents of this memory segment into a new long array.           </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>elementLayout</code> - the source element layout. If the byte order associated with the layout is different from the <a href="../../nio/ByteOrder.html#nativeOrder()">native order </a>, a byte swap operation will be performed on each array element.                              </dd> <dt>Returns:</dt><dd>a new long array whose contents are copied from this memory segment.           </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if this segment's contents cannot be copied into a <code>long[]</code> instance, e.g. because <code>byteSize() % 8 != 0    </code>, or <code>byteSize() / 8 &gt; Integer#MAX_VALUE    </code>.                  </dd>   </dl>  </section> <a end_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfLong)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfLong)"/> <section class="detail" id="toArray(java.lang.foreign.ValueLayout.OfLong)"><h3>toArray</h3><div class="member-signature"> <span class="return-type">long[]</span><span class="element-name">toArray</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfLong.html" title="interface in java.lang.foreign">ValueLayout.OfLong</a><sup><a href="ValueLayout.OfLong.html#preview-java.lang.foreign.ValueLayout.OfLong">PREVIEW</a></sup>elementLayout)</span>   </div><div class="block">Copy the contents of this memory segment into a new long array.           </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>elementLayout</code> - the source element layout. If the byte order associated with the layout is different from the <a href="../../nio/ByteOrder.html#nativeOrder()">native order </a>, a byte swap operation will be performed on each array element.                              </dd> <dt>Returns:</dt><dd>a new long array whose contents are copied from this memory segment.           </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if this segment's contents cannot be copied into a <code>long[]</code> instance, e.g. because <code>byteSize() % 8 != 0    </code>, or <code>byteSize() / 8 &gt; Integer#MAX_VALUE    </code>.                  </dd>   </dl>  </section> <a end_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfLong)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:toArray(java.lang.foreign.ValueLayout.OfDouble) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfDouble)"/> <section class="detail" id="toArray(java.lang.foreign.ValueLayout.OfDouble)"><h3>toArray</h3><div class="member-signature"> <span class="return-type">double[]</span><span class="element-name">toArray</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfDouble.html" title="interface in java.lang.foreign">ValueLayout.OfDouble</a><sup><a href="ValueLayout.OfDouble.html#preview-java.lang.foreign.ValueLayout.OfDouble">PREVIEW</a></sup>elementLayout)</span>   </div><div class="block">Copy the contents of this memory segment into a new double array.           </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>elementLayout</code> - the source element layout. If the byte order associated with the layout is different from the <a href="../../nio/ByteOrder.html#nativeOrder()">native order </a>, a byte swap operation will be performed on each array element.                              </dd> <dt>Returns:</dt><dd>a new double array whose contents are copied from this memory segment.           </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if this segment's contents cannot be copied into a <code>double[]</code> instance, e.g. because <code>byteSize() % 8 != 0    </code>, or <code>byteSize() / 8 &gt; Integer#MAX_VALUE    </code>.                  </dd>   </dl>  </section> <a end_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfDouble)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfDouble)"/> <section class="detail" id="toArray(java.lang.foreign.ValueLayout.OfDouble)"><h3>toArray</h3><div class="member-signature"> <span class="return-type">double[]</span><span class="element-name">toArray</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfDouble.html" title="interface in java.lang.foreign">ValueLayout.OfDouble</a><sup><a href="ValueLayout.OfDouble.html#preview-java.lang.foreign.ValueLayout.OfDouble">PREVIEW</a></sup>elementLayout)</span>   </div><div class="block">Copy the contents of this memory segment into a new double array.           </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>elementLayout</code> - the source element layout. If the byte order associated with the layout is different from the <a href="../../nio/ByteOrder.html#nativeOrder()">native order </a>, a byte swap operation will be performed on each array element.                              </dd> <dt>Returns:</dt><dd>a new double array whose contents are copied from this memory segment.           </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if this segment's contents cannot be copied into a <code>double[]</code> instance, e.g. because <code>byteSize() % 8 != 0    </code>, or <code>byteSize() / 8 &gt; Integer#MAX_VALUE    </code>.                  </dd>   </dl>  </section> <a end_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfDouble)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfDouble)"/> <section class="detail" id="toArray(java.lang.foreign.ValueLayout.OfDouble)"><h3>toArray</h3><div class="member-signature"> <span class="return-type">double[]</span><span class="element-name">toArray</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfDouble.html" title="interface in java.lang.foreign">ValueLayout.OfDouble</a><sup><a href="ValueLayout.OfDouble.html#preview-java.lang.foreign.ValueLayout.OfDouble">PREVIEW</a></sup>elementLayout)</span>   </div><div class="block">Copy the contents of this memory segment into a new double array.           </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>elementLayout</code> - the source element layout. If the byte order associated with the layout is different from the <a href="../../nio/ByteOrder.html#nativeOrder()">native order </a>, a byte swap operation will be performed on each array element.                              </dd> <dt>Returns:</dt><dd>a new double array whose contents are copied from this memory segment.           </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if this segment's contents cannot be copied into a <code>double[]</code> instance, e.g. because <code>byteSize() % 8 != 0    </code>, or <code>byteSize() / 8 &gt; Integer#MAX_VALUE    </code>.                  </dd>   </dl>  </section> <a end_ctx_id="method:toArray(java.lang.foreign.ValueLayout.OfDouble)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:getUtf8String(long) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:getUtf8String(long)"/> <section class="detail" id="getUtf8String(long)"><h3>getUtf8String</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type"><a href="../String.html" title="class in java.lang">String</a></span><span class="element-name">getUtf8String</span> <wbr/> <span class="parameters">(longoffset)</span>   </div><div class="block"> Reads a UTF-8 encoded, null-terminated string from this segment at the given offset.<p> This method always replaces malformed-input and unmappable-character sequences with this charset's default replacement string. The <a href="../../nio/charset/CharsetDecoder.html" title="class in java.nio.charset"><code>CharsetDecoder</code></a> class should be used when more control over the decoding process is required.                             </p>             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd> a Java string constructed from the bytes read from the given starting address up to (but not including) the first <code>'\0'</code> terminator character (assuming one is found).                           </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the size of the UTF-8 string is greater than the largest string supported by the platform.                   </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>offset &lt; 0  </code> or <code>S + offset &gt; byteSize()    </code>, where <code>S</code> is the size of the UTF-8 string (including the terminator character).                   </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd>   </dl>  </section> <a end_ctx_id="method:getUtf8String(long)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:getUtf8String(long)"/> <section class="detail" id="getUtf8String(long)"><h3>getUtf8String</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type"><a href="../String.html" title="class in java.lang">String</a></span><span class="element-name">getUtf8String</span> <wbr/> <span class="parameters">(longoffset)</span>   </div><div class="block"> Reads a UTF-8 encoded, null-terminated string from this segment at the given offset.<p> This method always replaces malformed-input and unmappable-character sequences with this charset's default replacement string. The <a href="../../nio/charset/CharsetDecoder.html" title="class in java.nio.charset"><code>CharsetDecoder</code></a> class should be used when more control over the decoding process is required.                             </p>             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd> a Java string constructed from the bytes read from the given starting address up to (but not including) the first <code>'\0'</code> terminator character (assuming one is found).                           </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the size of the UTF-8 string is greater than the largest string supported by the platform.                   </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>offset &lt; 0  </code> or <code>S + offset &gt; byteSize()    </code>, where <code>S</code> is the size of the UTF-8 string (including the terminator character).                   </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd>   </dl>  </section> <a end_ctx_id="method:getUtf8String(long)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:getUtf8String(long)"/> <section class="detail" id="getUtf8String(long)"><h3>getUtf8String</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type"><a href="../String.html" title="class in java.lang">String</a></span><span class="element-name">getUtf8String</span> <wbr/> <span class="parameters">(longoffset)</span>   </div><div class="block"> Reads a UTF-8 encoded, null-terminated string from this segment at the given offset.<p> This method always replaces malformed-input and unmappable-character sequences with this charset's default replacement string. The <a href="../../nio/charset/CharsetDecoder.html" title="class in java.nio.charset"><code>CharsetDecoder</code></a> class should be used when more control over the decoding process is required.                             </p>             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd> a Java string constructed from the bytes read from the given starting address up to (but not including) the first <code>'\0'</code> terminator character (assuming one is found).                           </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the size of the UTF-8 string is greater than the largest string supported by the platform.                   </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>offset &lt; 0  </code> or <code>S + offset &gt; byteSize()    </code>, where <code>S</code> is the size of the UTF-8 string (including the terminator character).                   </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd>   </dl>  </section> <a end_ctx_id="method:getUtf8String(long)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:setUtf8String(long,java.lang.String) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:setUtf8String(long,java.lang.String)"/> <section class="detail" id="setUtf8String(long,java.lang.String)"><h3>setUtf8String</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">setUtf8String</span> <wbr/> <span class="parameters">(longoffset, <a href="../String.html" title="class in java.lang">String</a>str) </span>   </div><div class="block"> Writes the given string into this segment at the given offset, converting it to a null-terminated byte sequence using UTF-8 encoding.<p> This method always replaces malformed-input and unmappable-character sequences with this charset's default replacement string. The <a href="../../nio/charset/CharsetDecoder.html" title="class in java.nio.charset"><code>CharsetDecoder</code></a> class should be used when more control over the decoding process is required.                             </p><p> If the given string contains any <code>'\0'</code> characters, they will be copied as well. This means that, depending on the method used to read the string, such as <a href="#getUtf8String(long)"><code>getUtf8String(long)</code></a>, the string will appear truncated when read again.                                     </p>                     </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur. the final address of this write operation can be expressed as <code>address() + offset  </code>.                             </dd><dd> <code>str</code> - the Java string to be written into this segment.           </dd> <dt>Throws:</dt><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>offset &lt; 0  </code> or <code>str.getBytes().length() + offset &gt;= byteSize()    </code>.      </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd>  </dl>  </section> <a end_ctx_id="method:setUtf8String(long,java.lang.String)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:setUtf8String(long,java.lang.String)"/> <section class="detail" id="setUtf8String(long,java.lang.String)"><h3>setUtf8String</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">setUtf8String</span> <wbr/> <span class="parameters">(longoffset, <a href="../String.html" title="class in java.lang">String</a>str) </span>   </div><div class="block"> Writes the given string into this segment at the given offset, converting it to a null-terminated byte sequence using UTF-8 encoding.<p> This method always replaces malformed-input and unmappable-character sequences with this charset's default replacement string. The <a href="../../nio/charset/CharsetDecoder.html" title="class in java.nio.charset"><code>CharsetDecoder</code></a> class should be used when more control over the decoding process is required.                             </p><p> If the given string contains any <code>'\0'</code> characters, they will be copied as well. This means that, depending on the method used to read the string, such as <a href="#getUtf8String(long)"><code>getUtf8String(long)</code></a>, the string will appear truncated when read again.                                     </p>                     </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur. the final address of this write operation can be expressed as <code>address() + offset  </code>.                             </dd><dd> <code>str</code> - the Java string to be written into this segment.           </dd> <dt>Throws:</dt><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>offset &lt; 0  </code> or <code>str.getBytes().length() + offset &gt;= byteSize()    </code>.      </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd>  </dl>  </section> <a end_ctx_id="method:setUtf8String(long,java.lang.String)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:setUtf8String(long,java.lang.String)"/> <section class="detail" id="setUtf8String(long,java.lang.String)"><h3>setUtf8String</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">setUtf8String</span> <wbr/> <span class="parameters">(longoffset, <a href="../String.html" title="class in java.lang">String</a>str) </span>   </div><div class="block"> Writes the given string into this segment at the given offset, converting it to a null-terminated byte sequence using UTF-8 encoding.<p> This method always replaces malformed-input and unmappable-character sequences with this charset's default replacement string. The <a href="../../nio/charset/CharsetDecoder.html" title="class in java.nio.charset"><code>CharsetDecoder</code></a> class should be used when more control over the decoding process is required.                             </p><p> If the given string contains any <code>'\0'</code> characters, they will be copied as well. This means that, depending on the method used to read the string, such as <a href="#getUtf8String(long)"><code>getUtf8String(long)</code></a>, the string will appear truncated when read again.                                     </p>                     </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur. the final address of this write operation can be expressed as <code>address() + offset  </code>.                             </dd><dd> <code>str</code> - the Java string to be written into this segment.           </dd> <dt>Throws:</dt><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>offset &lt; 0  </code> or <code>str.getBytes().length() + offset &gt;= byteSize()    </code>.      </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd>  </dl>  </section> <a end_ctx_id="method:setUtf8String(long,java.lang.String)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:ofBuffer(java.nio.Buffer) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:ofBuffer(java.nio.Buffer)"/> <section class="detail" id="ofBuffer(java.nio.Buffer)"><h3>ofBuffer</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">ofBuffer</span> <wbr/> <span class="parameters">(<a href="../../nio/Buffer.html" title="class in java.nio">Buffer</a>buffer)</span>   </div><div class="block"> Creates a memory segment that is backed by the same region of memory that backs the given <a href="../../nio/Buffer.html" title="class in java.nio"><code>Buffer</code></a> instance. The segment starts relative to the buffer's position (inclusive) and ends relative to the buffer's limit (exclusive).<p> If the buffer is <a href="../../nio/Buffer.html#isReadOnly()">read-only</a>, the resulting segment will also be <a href="../../nio/Buffer.html#isReadOnly()">read-only</a>. Moreover, if the buffer is a <a href="../../nio/Buffer.html#isDirect()">direct buffer </a>, the returned segment is a native segment; otherwise the returned memory segment is a heap segment.                                   </p><p> <span class="diff-html-removed">The</span> <span class="diff-html-removed">scope</span> <code changeType="diff-removed-tag"><span class="diff-html-removed">S</span></code> <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span><span class="diff-html-added">If</span> the <span class="diff-html-removed">returned</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">computed</span> <span class="diff-html-removed">as</span> <span class="diff-html-removed">follows:</span> <span class="diff-html-removed">if</span> <span class="diff-html-removed">the</span><span class="diff-html-added">provided</span> buffer has been obtained by calling <a href="#asByteBuffer()"><code>asByteBuffer()</code></a> on a memory segment whose <a href="MemorySegment.Scope.html" title="interface in java.lang.foreign">scope</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope"><span class="diff-html-added">PREVIEW</span></a></sup> is <code>S</code><span class="diff-html-removed">'</span>, <span class="diff-html-removed">then</span> <code changeType="diff-removed-tag"><span class="diff-html-removed">S</span> <span class="diff-html-removed">=</span> <span class="diff-html-removed">S'</span>  </code><span class="diff-html-removed">;</span> <span class="diff-html-removed">or</span> <span class="diff-html-removed">if</span><span class="diff-html-added">the</span> <span class="diff-html-added">returned</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">will</span> <span class="diff-html-added">be</span> <span class="diff-html-added">associated</span> <span class="diff-html-added">with</span> the <span class="diff-html-removed">buffer</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">heap</span> <span class="diff-html-removed">buffer,</span> <span class="diff-html-removed">then</span><span class="diff-html-added">same</span> <span class="diff-html-added">scope</span> <code>S</code> <span class="diff-html-removed">is</span><span class="diff-html-added">.</span> <span class="diff-html-added">Otherwise,</span> the <span class="diff-html-removed">global</span>scope <sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed">;</span> <span class="diff-html-removed">or</span> <span class="diff-html-removed">if</span><span class="diff-html-added">of</span> the <span class="diff-html-removed">buffer</span><span class="diff-html-added">returned</span> <span class="diff-html-added">segment</span> is a <span class="diff-html-removed">direct</span> <span class="diff-html-removed">buffer,</span> <span class="diff-html-removed">then</span> <code changeType="diff-removed-tag"><span class="diff-html-removed">S</span></code> <span class="diff-html-removed">is</span> <span class="diff-html-removed">a</span><span class="diff-html-added">fresh</span> scope that is always alive <span class="diff-html-removed">and</span> <span class="diff-html-removed">which</span><span class="diff-html-added">.</span>                                                                         </p><p> <span class="diff-html-added">The</span> <span class="diff-html-added">scope</span> <span class="diff-html-added">associated</span> <span class="diff-html-added">with</span> <span class="diff-html-added">the</span> <span class="diff-html-added">returned</span> <span class="diff-html-added">segment</span> keeps the <span class="diff-html-added">provided</span> buffer reachable. <span class="diff-html-removed">Therefore,</span><span class="diff-html-added">As</span> <span class="diff-html-added">such,</span> <span class="diff-html-added">if</span> the <span class="diff-html-removed">off-heap</span><span class="diff-html-added">provided</span> <span class="diff-html-added">buffer</span> <span class="diff-html-added">is</span> <span class="diff-html-added">a</span> <span class="diff-html-added">direct</span> <span class="diff-html-added">buffer,</span> <span class="diff-html-added">its</span> <span class="diff-html-added">backing</span> <span class="diff-html-added">memory</span> region <span class="diff-html-removed">of</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">backing</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">buffer</span> <span class="diff-html-removed">instance</span>will <span class="diff-html-removed">remain</span> <span class="diff-html-removed">available</span><span class="diff-html-added">not</span> <span class="diff-html-added">be</span> <span class="diff-html-added">deallocated</span> as long as the returned segment <span class="diff-html-removed">is</span><span class="diff-html-added">(or</span> <span class="diff-html-added">any</span> <span class="diff-html-added">of</span> <span class="diff-html-added">its</span> <span class="diff-html-added">slices)</span> <span class="diff-html-added">are</span> <span class="diff-html-added">kept</span> reachable.                                                  </p>                                    </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>buffer</code> - the buffer instance to be turned into a new memory segment.             </dd> <dt>Returns:</dt><dd>a memory segment, derived from the given buffer instance.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the provided <code>buffer</code> is a heap buffer but is not backed by an array. For example, buffers directly or indirectly obtained via (<a href="../../nio/CharBuffer.html#wrap(java.lang.CharSequence)"><code>CharBuffer.wrap(CharSequence)</code></a> or <a href="../../nio/CharBuffer.html#wrap(char%5B%5D,int,int)"><code>CharBuffer.wrap(char[], int, int)  </code></a> are not backed by an array.                                  </dd>   </dl>  </section> <a end_ctx_id="method:ofBuffer(java.nio.Buffer)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:ofBuffer(java.nio.Buffer)"/> <section class="detail" id="ofBuffer(java.nio.Buffer)"><h3>ofBuffer</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">ofBuffer</span> <wbr/> <span class="parameters">(<a href="../../nio/Buffer.html" title="class in java.nio">Buffer</a>buffer)</span>   </div><div class="block"> Creates a memory segment that is backed by the same region of memory that backs the given <a href="../../nio/Buffer.html" title="class in java.nio"><code>Buffer</code></a> instance. The segment starts relative to the buffer's position (inclusive) and ends relative to the buffer's limit (exclusive).<p> If the buffer is <a href="../../nio/Buffer.html#isReadOnly()">read-only</a>, the resulting segment will also be <a href="../../nio/Buffer.html#isReadOnly()">read-only</a>. Moreover, if the buffer is a <a href="../../nio/Buffer.html#isDirect()">direct buffer </a>, the returned segment is a native segment; otherwise the returned memory segment is a heap segment.                                   </p><p> The scope <code changeType="diff-removed-tag">S</code> associated with the returned segment is computed as follows:<ul><li> if the buffer has been obtained by calling <a href="#asByteBuffer()"><code>asByteBuffer()</code></a> on a memory segment whose scope is <code>S'</code>, then <code changeType="diff-removed-tag">S = S'  </code>; or                    </li><li> if the buffer is a heap buffer, then <code>S</code> is the <a href="SegmentScope.html#global()">global scope </a><sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>; or             </li><li> if the buffer is a direct buffer, then <code changeType="diff-removed-tag">S</code> is a scope that is always alive and which keeps the buffer reachable. Therefore, the off-heap region of memory backing the buffer instance will remain available as long as the returned segment is reachable.                                           </li></ul>            </p>                                    </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>buffer</code> - the buffer instance to be turned into a new memory segment.             </dd> <dt>Returns:</dt><dd>a memory segment, derived from the given buffer instance.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the provided <code>buffer</code> is a heap buffer but is not backed by an array. For example, buffers directly or indirectly obtained via (<a href="../../nio/CharBuffer.html#wrap(java.lang.CharSequence)"><code>CharBuffer.wrap(CharSequence)</code></a> or <a href="../../nio/CharBuffer.html#wrap(char%5B%5D,int,int)"><code>CharBuffer.wrap(char[], int, int)  </code></a> are not backed by an array.                                  </dd>   </dl>  </section> <a end_ctx_id="method:ofBuffer(java.nio.Buffer)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:ofBuffer(java.nio.Buffer)"/> <section class="detail" id="ofBuffer(java.nio.Buffer)"><h3>ofBuffer</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">ofBuffer</span> <wbr/> <span class="parameters">(<a href="../../nio/Buffer.html" title="class in java.nio">Buffer</a>buffer)</span>   </div><div class="block"> Creates a memory segment that is backed by the same region of memory that backs the given <a href="../../nio/Buffer.html" title="class in java.nio"><code>Buffer</code></a> instance. The segment starts relative to the buffer's position (inclusive) and ends relative to the buffer's limit (exclusive).<p> If the buffer is <a href="../../nio/Buffer.html#isReadOnly()">read-only</a>, the resulting segment will also be <a href="../../nio/Buffer.html#isReadOnly()">read-only</a>. Moreover, if the buffer is a <a href="../../nio/Buffer.html#isDirect()">direct buffer </a>, the returned segment is a native segment; otherwise the returned memory segment is a heap segment.                                   </p><p> If the provided buffer has been obtained by calling <a href="#asByteBuffer()"><code>asByteBuffer()</code></a> on a memory segment whose <a href="MemorySegment.Scope.html" title="interface in java.lang.foreign">scope</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup> is <code>S</code>, the returned segment will be associated with the same scope <code>S</code>. Otherwise, the scope of the returned segment is a fresh scope that is always alive.                                            </p><p> The scope associated with the returned segment keeps the provided buffer reachable. As such, if the provided buffer is a direct buffer, its backing memory region will not be deallocated as long as the returned segment (or any of its slices) are kept reachable.                                            </p>                                    </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>buffer</code> - the buffer instance to be turned into a new memory segment.             </dd> <dt>Returns:</dt><dd>a memory segment, derived from the given buffer instance.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the provided <code>buffer</code> is a heap buffer but is not backed by an array. For example, buffers directly or indirectly obtained via (<a href="../../nio/CharBuffer.html#wrap(java.lang.CharSequence)"><code>CharBuffer.wrap(CharSequence)</code></a> or <a href="../../nio/CharBuffer.html#wrap(char%5B%5D,int,int)"><code>CharBuffer.wrap(char[], int, int)  </code></a> are not backed by an array.                                  </dd>   </dl>  </section> <a end_ctx_id="method:ofBuffer(java.nio.Buffer)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:ofArray(byte[]) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:ofArray(byte[])"/> <section class="detail" id="ofArray(byte[])"><h3>ofArray</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">ofArray</span> <wbr/> <span class="parameters">(byte[]byteArray)</span>   </div><div class="block"> Creates a heap segment backed by the on-heap region of memory that holds the given byte array. The <span class="diff-html-added">scope</span> <span class="diff-html-added">of</span> <span class="diff-html-added">the</span> returned segment is <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">theglobal</span><span class="diff-html-added">a</span> <span class="diff-html-added">fresh</span> scope <sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-added">that</span> <span class="diff-html-added">is</span> <span class="diff-html-added">always</span> <span class="diff-html-added">alive</span>, and <span class="diff-html-removed">its</span><span class="diff-html-added">keeps</span> <span class="diff-html-added">the</span> <span class="diff-html-added">given</span> <span class="diff-html-added">byte</span> <span class="diff-html-added">array</span> <span class="diff-html-added">reachable.</span> <span class="diff-html-added">The</span> <span class="diff-html-added">returned</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">is</span> <span class="diff-html-added">always</span> <span class="diff-html-added">accessible,</span> <span class="diff-html-added">from</span> <span class="diff-html-added">any</span> <span class="diff-html-added">thread.</span> <span class="diff-html-added">Its</span> <a href="#address()"><code>address()</code></a> is set to zero.                                                       </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>byteArray</code> - the primitive array backing the heap memory segment.          </dd> <dt>Returns:</dt><dd>a heap memory segment backed by a byte array.        </dd>  </dl>  </section> <a end_ctx_id="method:ofArray(byte[])"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:ofArray(byte[])"/> <section class="detail" id="ofArray(byte[])"><h3>ofArray</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">ofArray</span> <wbr/> <span class="parameters">(byte[]byteArray)</span>   </div><div class="block"> Creates a heap segment backed by the on-heap region of memory that holds the given byte array. The returned segment is associated with the <a href="SegmentScope.html#global()">global scope </a><sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>, and its <a href="#address()"><code>address()</code></a> is set to zero.                                </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>byteArray</code> - the primitive array backing the heap memory segment.          </dd> <dt>Returns:</dt><dd>a heap memory segment backed by a byte array.        </dd>  </dl>  </section> <a end_ctx_id="method:ofArray(byte[])"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:ofArray(byte[])"/> <section class="detail" id="ofArray(byte[])"><h3>ofArray</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">ofArray</span> <wbr/> <span class="parameters">(byte[]byteArray)</span>   </div><div class="block"> Creates a heap segment backed by the on-heap region of memory that holds the given byte array. The scope of the returned segment is a fresh scope that is always alive, and keeps the given byte array reachable. The returned segment is always accessible, from any thread. Its <a href="#address()"><code>address()</code></a> is set to zero.                                                     </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>byteArray</code> - the primitive array backing the heap memory segment.          </dd> <dt>Returns:</dt><dd>a heap memory segment backed by a byte array.        </dd>  </dl>  </section> <a end_ctx_id="method:ofArray(byte[])"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:ofArray(char[]) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:ofArray(char[])"/> <section class="detail" id="ofArray(char[])"><h3>ofArray</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">ofArray</span> <wbr/> <span class="parameters">(char[]charArray)</span>   </div><div class="block"> Creates a heap segment backed by the on-heap region of memory that holds the given char array. The <span class="diff-html-added">scope</span> <span class="diff-html-added">of</span> <span class="diff-html-added">the</span> returned segment is <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">theglobal</span><span class="diff-html-added">a</span> <span class="diff-html-added">fresh</span> scope <sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-added">that</span> <span class="diff-html-added">is</span> <span class="diff-html-added">always</span> <span class="diff-html-added">alive</span>, and <span class="diff-html-removed">its</span><span class="diff-html-added">keeps</span> <span class="diff-html-added">the</span> <span class="diff-html-added">given</span> <span class="diff-html-added">byte</span> <span class="diff-html-added">array</span> <span class="diff-html-added">reachable.</span> <span class="diff-html-added">The</span> <span class="diff-html-added">returned</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">is</span> <span class="diff-html-added">always</span> <span class="diff-html-added">accessible,</span> <span class="diff-html-added">from</span> <span class="diff-html-added">any</span> <span class="diff-html-added">thread.</span> <span class="diff-html-added">Its</span> <a href="#address()"><code>address()</code></a> is set to zero.                                                       </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>charArray</code> - the primitive array backing the heap segment.         </dd> <dt>Returns:</dt><dd>a heap memory segment backed by a char array.        </dd>  </dl>  </section> <a end_ctx_id="method:ofArray(char[])"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:ofArray(char[])"/> <section class="detail" id="ofArray(char[])"><h3>ofArray</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">ofArray</span> <wbr/> <span class="parameters">(char[]charArray)</span>   </div><div class="block"> Creates a heap segment backed by the on-heap region of memory that holds the given char array. The returned segment is associated with the <a href="SegmentScope.html#global()">global scope </a><sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>, and its <a href="#address()"><code>address()</code></a> is set to zero.                                </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>charArray</code> - the primitive array backing the heap segment.         </dd> <dt>Returns:</dt><dd>a heap memory segment backed by a char array.        </dd>  </dl>  </section> <a end_ctx_id="method:ofArray(char[])"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:ofArray(char[])"/> <section class="detail" id="ofArray(char[])"><h3>ofArray</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">ofArray</span> <wbr/> <span class="parameters">(char[]charArray)</span>   </div><div class="block"> Creates a heap segment backed by the on-heap region of memory that holds the given char array. The scope of the returned segment is a fresh scope that is always alive, and keeps the given byte array reachable. The returned segment is always accessible, from any thread. Its <a href="#address()"><code>address()</code></a> is set to zero.                                                     </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>charArray</code> - the primitive array backing the heap segment.         </dd> <dt>Returns:</dt><dd>a heap memory segment backed by a char array.        </dd>  </dl>  </section> <a end_ctx_id="method:ofArray(char[])"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:ofArray(short[]) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:ofArray(short[])"/> <section class="detail" id="ofArray(short[])"><h3>ofArray</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">ofArray</span> <wbr/> <span class="parameters">(short[]shortArray)</span>   </div><div class="block"> Creates a heap segment backed by the on-heap region of memory that holds the given short array. The <span class="diff-html-added">scope</span> <span class="diff-html-added">of</span> <span class="diff-html-added">the</span> returned segment is <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">theglobal</span><span class="diff-html-added">a</span> <span class="diff-html-added">fresh</span> scope <sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-added">that</span> <span class="diff-html-added">is</span> <span class="diff-html-added">always</span> <span class="diff-html-added">alive</span>, and <span class="diff-html-removed">its</span><span class="diff-html-added">keeps</span> <span class="diff-html-added">the</span> <span class="diff-html-added">given</span> <span class="diff-html-added">byte</span> <span class="diff-html-added">array</span> <span class="diff-html-added">reachable.</span> <span class="diff-html-added">The</span> <span class="diff-html-added">returned</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">is</span> <span class="diff-html-added">always</span> <span class="diff-html-added">accessible,</span> <span class="diff-html-added">from</span> <span class="diff-html-added">any</span> <span class="diff-html-added">thread.</span> <span class="diff-html-added">Its</span> <a href="#address()"><code>address()</code></a> is set to zero.                                                       </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>shortArray</code> - the primitive array backing the heap segment.         </dd> <dt>Returns:</dt><dd>a heap memory segment backed by a short array.        </dd>  </dl>  </section> <a end_ctx_id="method:ofArray(short[])"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:ofArray(short[])"/> <section class="detail" id="ofArray(short[])"><h3>ofArray</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">ofArray</span> <wbr/> <span class="parameters">(short[]shortArray)</span>   </div><div class="block"> Creates a heap segment backed by the on-heap region of memory that holds the given short array. The returned segment is associated with the <a href="SegmentScope.html#global()">global scope </a><sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>, and its <a href="#address()"><code>address()</code></a> is set to zero.                                </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>shortArray</code> - the primitive array backing the heap segment.         </dd> <dt>Returns:</dt><dd>a heap memory segment backed by a short array.        </dd>  </dl>  </section> <a end_ctx_id="method:ofArray(short[])"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:ofArray(short[])"/> <section class="detail" id="ofArray(short[])"><h3>ofArray</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">ofArray</span> <wbr/> <span class="parameters">(short[]shortArray)</span>   </div><div class="block"> Creates a heap segment backed by the on-heap region of memory that holds the given short array. The scope of the returned segment is a fresh scope that is always alive, and keeps the given byte array reachable. The returned segment is always accessible, from any thread. Its <a href="#address()"><code>address()</code></a> is set to zero.                                                     </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>shortArray</code> - the primitive array backing the heap segment.         </dd> <dt>Returns:</dt><dd>a heap memory segment backed by a short array.        </dd>  </dl>  </section> <a end_ctx_id="method:ofArray(short[])"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:ofArray(int[]) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:ofArray(int[])"/> <section class="detail" id="ofArray(int[])"><h3>ofArray</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">ofArray</span> <wbr/> <span class="parameters">(int[]intArray)</span>   </div><div class="block"> Creates a heap segment backed by the on-heap region of memory that holds the given int array. The <span class="diff-html-added">scope</span> <span class="diff-html-added">of</span> <span class="diff-html-added">the</span> returned segment is <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">theglobal</span><span class="diff-html-added">a</span> <span class="diff-html-added">fresh</span> scope <sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-added">that</span> <span class="diff-html-added">is</span> <span class="diff-html-added">always</span> <span class="diff-html-added">alive</span>, and <span class="diff-html-removed">its</span><span class="diff-html-added">keeps</span> <span class="diff-html-added">the</span> <span class="diff-html-added">given</span> <span class="diff-html-added">byte</span> <span class="diff-html-added">array</span> <span class="diff-html-added">reachable.</span> <span class="diff-html-added">The</span> <span class="diff-html-added">returned</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">is</span> <span class="diff-html-added">always</span> <span class="diff-html-added">accessible,</span> <span class="diff-html-added">from</span> <span class="diff-html-added">any</span> <span class="diff-html-added">thread.</span> <span class="diff-html-added">Its</span> <a href="#address()"><code>address()</code></a> is set to zero.                                                       </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>intArray</code> - the primitive array backing the heap segment.         </dd> <dt>Returns:</dt><dd>a heap memory segment backed by an int array.        </dd>  </dl>  </section> <a end_ctx_id="method:ofArray(int[])"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:ofArray(int[])"/> <section class="detail" id="ofArray(int[])"><h3>ofArray</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">ofArray</span> <wbr/> <span class="parameters">(int[]intArray)</span>   </div><div class="block"> Creates a heap segment backed by the on-heap region of memory that holds the given int array. The returned segment is associated with the <a href="SegmentScope.html#global()">global scope </a><sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>, and its <a href="#address()"><code>address()</code></a> is set to zero.                                </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>intArray</code> - the primitive array backing the heap segment.         </dd> <dt>Returns:</dt><dd>a heap memory segment backed by an int array.        </dd>  </dl>  </section> <a end_ctx_id="method:ofArray(int[])"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:ofArray(int[])"/> <section class="detail" id="ofArray(int[])"><h3>ofArray</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">ofArray</span> <wbr/> <span class="parameters">(int[]intArray)</span>   </div><div class="block"> Creates a heap segment backed by the on-heap region of memory that holds the given int array. The scope of the returned segment is a fresh scope that is always alive, and keeps the given byte array reachable. The returned segment is always accessible, from any thread. Its <a href="#address()"><code>address()</code></a> is set to zero.                                                     </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>intArray</code> - the primitive array backing the heap segment.         </dd> <dt>Returns:</dt><dd>a heap memory segment backed by an int array.        </dd>  </dl>  </section> <a end_ctx_id="method:ofArray(int[])"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:ofArray(float[]) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:ofArray(float[])"/> <section class="detail" id="ofArray(float[])"><h3>ofArray</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">ofArray</span> <wbr/> <span class="parameters">(float[]floatArray)</span>   </div><div class="block"> Creates a heap segment backed by the on-heap region of memory that holds the given float array. The <span class="diff-html-added">scope</span> <span class="diff-html-added">of</span> <span class="diff-html-added">the</span> returned segment is <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">theglobal</span><span class="diff-html-added">a</span> <span class="diff-html-added">fresh</span> scope <sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-added">that</span> <span class="diff-html-added">is</span> <span class="diff-html-added">always</span> <span class="diff-html-added">alive</span>, and <span class="diff-html-removed">its</span><span class="diff-html-added">keeps</span> <span class="diff-html-added">the</span> <span class="diff-html-added">given</span> <span class="diff-html-added">byte</span> <span class="diff-html-added">array</span> <span class="diff-html-added">reachable.</span> <span class="diff-html-added">The</span> <span class="diff-html-added">returned</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">is</span> <span class="diff-html-added">always</span> <span class="diff-html-added">accessible,</span> <span class="diff-html-added">from</span> <span class="diff-html-added">any</span> <span class="diff-html-added">thread.</span> <span class="diff-html-added">Its</span> <a href="#address()"><code>address()</code></a> is set to zero.                                                       </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>floatArray</code> - the primitive array backing the heap segment.         </dd> <dt>Returns:</dt><dd>a heap memory segment backed by a float array.        </dd>  </dl>  </section> <a end_ctx_id="method:ofArray(float[])"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:ofArray(float[])"/> <section class="detail" id="ofArray(float[])"><h3>ofArray</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">ofArray</span> <wbr/> <span class="parameters">(float[]floatArray)</span>   </div><div class="block"> Creates a heap segment backed by the on-heap region of memory that holds the given float array. The returned segment is associated with the <a href="SegmentScope.html#global()">global scope </a><sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>, and its <a href="#address()"><code>address()</code></a> is set to zero.                                </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>floatArray</code> - the primitive array backing the heap segment.         </dd> <dt>Returns:</dt><dd>a heap memory segment backed by a float array.        </dd>  </dl>  </section> <a end_ctx_id="method:ofArray(float[])"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:ofArray(float[])"/> <section class="detail" id="ofArray(float[])"><h3>ofArray</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">ofArray</span> <wbr/> <span class="parameters">(float[]floatArray)</span>   </div><div class="block"> Creates a heap segment backed by the on-heap region of memory that holds the given float array. The scope of the returned segment is a fresh scope that is always alive, and keeps the given byte array reachable. The returned segment is always accessible, from any thread. Its <a href="#address()"><code>address()</code></a> is set to zero.                                                     </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>floatArray</code> - the primitive array backing the heap segment.         </dd> <dt>Returns:</dt><dd>a heap memory segment backed by a float array.        </dd>  </dl>  </section> <a end_ctx_id="method:ofArray(float[])"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:ofArray(long[]) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:ofArray(long[])"/> <section class="detail" id="ofArray(long[])"><h3>ofArray</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">ofArray</span> <wbr/> <span class="parameters">(long[]longArray)</span>   </div><div class="block"> Creates a heap segment backed by the on-heap region of memory that holds the given long array. The <span class="diff-html-added">scope</span> <span class="diff-html-added">of</span> <span class="diff-html-added">the</span> returned segment is <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">theglobal</span><span class="diff-html-added">a</span> <span class="diff-html-added">fresh</span> scope <sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-added">that</span> <span class="diff-html-added">is</span> <span class="diff-html-added">always</span> <span class="diff-html-added">alive</span>, and <span class="diff-html-removed">its</span><span class="diff-html-added">keeps</span> <span class="diff-html-added">the</span> <span class="diff-html-added">given</span> <span class="diff-html-added">byte</span> <span class="diff-html-added">array</span> <span class="diff-html-added">reachable.</span> <span class="diff-html-added">The</span> <span class="diff-html-added">returned</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">is</span> <span class="diff-html-added">always</span> <span class="diff-html-added">accessible,</span> <span class="diff-html-added">from</span> <span class="diff-html-added">any</span> <span class="diff-html-added">thread.</span> <span class="diff-html-added">Its</span> <a href="#address()"><code>address()</code></a> is set to zero.                                                       </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>longArray</code> - the primitive array backing the heap segment.         </dd> <dt>Returns:</dt><dd>a heap memory segment backed by a long array.        </dd>  </dl>  </section> <a end_ctx_id="method:ofArray(long[])"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:ofArray(long[])"/> <section class="detail" id="ofArray(long[])"><h3>ofArray</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">ofArray</span> <wbr/> <span class="parameters">(long[]longArray)</span>   </div><div class="block"> Creates a heap segment backed by the on-heap region of memory that holds the given long array. The returned segment is associated with the <a href="SegmentScope.html#global()">global scope </a><sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>, and its <a href="#address()"><code>address()</code></a> is set to zero.                                </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>longArray</code> - the primitive array backing the heap segment.         </dd> <dt>Returns:</dt><dd>a heap memory segment backed by a long array.        </dd>  </dl>  </section> <a end_ctx_id="method:ofArray(long[])"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:ofArray(long[])"/> <section class="detail" id="ofArray(long[])"><h3>ofArray</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">ofArray</span> <wbr/> <span class="parameters">(long[]longArray)</span>   </div><div class="block"> Creates a heap segment backed by the on-heap region of memory that holds the given long array. The scope of the returned segment is a fresh scope that is always alive, and keeps the given byte array reachable. The returned segment is always accessible, from any thread. Its <a href="#address()"><code>address()</code></a> is set to zero.                                                     </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>longArray</code> - the primitive array backing the heap segment.         </dd> <dt>Returns:</dt><dd>a heap memory segment backed by a long array.        </dd>  </dl>  </section> <a end_ctx_id="method:ofArray(long[])"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:ofArray(double[]) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:ofArray(double[])"/> <section class="detail" id="ofArray(double[])"><h3>ofArray</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">ofArray</span> <wbr/> <span class="parameters">(double[]doubleArray)</span>   </div><div class="block"> Creates a heap segment backed by the on-heap region of memory that holds the given double array. The <span class="diff-html-added">scope</span> <span class="diff-html-added">of</span> <span class="diff-html-added">the</span> returned segment is <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">theglobal</span><span class="diff-html-added">a</span> <span class="diff-html-added">fresh</span> scope <sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-added">that</span> <span class="diff-html-added">is</span> <span class="diff-html-added">always</span> <span class="diff-html-added">alive</span>, and <span class="diff-html-removed">its</span><span class="diff-html-added">keeps</span> <span class="diff-html-added">the</span> <span class="diff-html-added">given</span> <span class="diff-html-added">byte</span> <span class="diff-html-added">array</span> <span class="diff-html-added">reachable.</span> <span class="diff-html-added">The</span> <span class="diff-html-added">returned</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">is</span> <span class="diff-html-added">always</span> <span class="diff-html-added">accessible,</span> <span class="diff-html-added">from</span> <span class="diff-html-added">any</span> <span class="diff-html-added">thread.</span> <span class="diff-html-added">Its</span> <a href="#address()"><code>address()</code></a> is set to zero.                                                       </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>doubleArray</code> - the primitive array backing the heap segment.         </dd> <dt>Returns:</dt><dd>a heap memory segment backed by a double array.        </dd>  </dl>  </section> <a end_ctx_id="method:ofArray(double[])"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:ofArray(double[])"/> <section class="detail" id="ofArray(double[])"><h3>ofArray</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">ofArray</span> <wbr/> <span class="parameters">(double[]doubleArray)</span>   </div><div class="block"> Creates a heap segment backed by the on-heap region of memory that holds the given double array. The returned segment is associated with the <a href="SegmentScope.html#global()">global scope </a><sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>, and its <a href="#address()"><code>address()</code></a> is set to zero.                                </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>doubleArray</code> - the primitive array backing the heap segment.         </dd> <dt>Returns:</dt><dd>a heap memory segment backed by a double array.        </dd>  </dl>  </section> <a end_ctx_id="method:ofArray(double[])"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:ofArray(double[])"/> <section class="detail" id="ofArray(double[])"><h3>ofArray</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">ofArray</span> <wbr/> <span class="parameters">(double[]doubleArray)</span>   </div><div class="block"> Creates a heap segment backed by the on-heap region of memory that holds the given double array. The scope of the returned segment is a fresh scope that is always alive, and keeps the given byte array reachable. The returned segment is always accessible, from any thread. Its <a href="#address()"><code>address()</code></a> is set to zero.                                                     </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>doubleArray</code> - the primitive array backing the heap segment.         </dd> <dt>Returns:</dt><dd>a heap memory segment backed by a double array.        </dd>  </dl>  </section> <a end_ctx_id="method:ofArray(double[])"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:ofAddress(long) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:ofAddress(long)"/> <section class="detail" id="ofAddress(long)"><h3>ofAddress</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">ofAddress</span> <wbr/> <span class="parameters">(longaddress)</span>   </div><div class="block"> Creates a zero-length native segment from the given <a href="#address()">address value </a>. The returned segment is <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span><span class="diff-html-added">always</span> <span class="diff-html-added">accessible,</span> <span class="diff-html-added">from</span> <span class="diff-html-added">any</span> <span class="diff-html-added">thread.</span><p> <span class="diff-html-added">On</span> <span class="diff-html-added">32-bit</span> <span class="diff-html-added">platforms,</span> <span class="diff-html-added">the</span> <span class="diff-html-added">given</span> <span class="diff-html-added">address</span> <span class="diff-html-added">value</span> <span class="diff-html-added">will</span> <span class="diff-html-added">be</span> <span class="diff-html-added">normalized</span> <span class="diff-html-added">such</span> <span class="diff-html-added">that</span> the <a href="SegmentScope.html#global()" changeType="diff-removed-tag"><span class="diff-html-removed">global</span> <span class="diff-html-removed">scope</span> </a><sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed">.</span> <span class="diff-html-removed">This</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">equivalent</span> <span class="diff-html-removed">to</span><span class="diff-html-added">highest-order</span> <span class="diff-html-added">("leftmost")</span> <span class="diff-html-added">32</span> <span class="diff-html-added">bits</span> <span class="diff-html-added">of</span> the <a href="#address()"><code> <span class="diff-html-removed">following</span> <span class="diff-html-removed">code:</span> <button class="copy snippet-copy" changeType="diff-removed-tag"><span data-copied="Copied!"><span class="diff-html-removed">Copy</span></span><span class="diff-html-removed"><img src="../../../../copy.svg" alt="Copy" changeType="diff-removed-image"/></span><span class="diff-html-removed"/></button><span class="diff-html-removed">ofAddress(</span>address   </code><span class="diff-html-removed">,0);</span></a> <span class="diff-html-added">of</span> <span class="diff-html-added">the</span> <span class="diff-html-added">returned</span> <span class="diff-html-added">memory</span> <span class="diff-html-added">segment</span> <span class="diff-html-added">are</span> <span class="diff-html-added">set</span> <span class="diff-html-added">to</span> <span class="diff-html-added">zero.</span>                                 </p>                   </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>address</code> - the address of the returned native segment.         </dd> <dt>Returns:</dt><dd>a zero-length native segment with the given address.       </dd>  </dl>  </section> <a end_ctx_id="method:ofAddress(long)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:ofAddress(long)"/> <section class="detail" id="ofAddress(long)"><h3>ofAddress</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">ofAddress</span> <wbr/> <span class="parameters">(longaddress)</span>   </div><div class="block"> Creates a zero-length native segment from the given <a href="#address()">address value </a>. The returned segment is associated with the <a href="SegmentScope.html#global()" changeType="diff-removed-tag">global scope </a><sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.<p> This is equivalent to the following code:       </p><div class="snippet-container"> <button class="copy snippet-copy" changeType="diff-removed-tag"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                                            <code class="language-java"> ofAddress(address, 0);
</code>
                                                        </pre> </div>                 </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>address</code> - the address of the returned native segment.         </dd> <dt>Returns:</dt><dd>a zero-length native segment with the given address.       </dd>  </dl>  </section> <a end_ctx_id="method:ofAddress(long)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:ofAddress(long)"/> <section class="detail" id="ofAddress(long)"><h3>ofAddress</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">ofAddress</span> <wbr/> <span class="parameters">(longaddress)</span>   </div><div class="block"> Creates a zero-length native segment from the given <a href="#address()">address value </a>. The returned segment is always accessible, from any thread.<p> On 32-bit platforms, the given address value will be normalized such that the highest-order ("leftmost") 32 bits of the <a href="#address()"><code>address</code></a> of the returned memory segment are set to zero.                             </p>                  </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>address</code> - the address of the returned native segment.         </dd> <dt>Returns:</dt><dd>a zero-length native segment with the given address.       </dd>  </dl>  </section> <a end_ctx_id="method:ofAddress(long)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:ofAddress(long,long) [REMOVED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:ofAddress(long,long)" changeType="diff-removed-tag"><span class="diff-html-removed"/></a> <section class="detail" id="ofAddress(long,long)" changeType="diff-removed-tag"><h3><span class="diff-html-removed">ofAddress</span></h3><div class="member-signature"> <span class="modifiers"><span class="diff-html-removed">static</span></span><span class="diff-html-removed"></span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign"><span class="diff-html-removed">MemorySegment</span></a><sup><a href="#preview-java.lang.foreign.MemorySegment"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed"/></span><span class="diff-html-removed"></span><span class="element-name"><span class="diff-html-removed">ofAddress</span></span> <wbr><span class="diff-html-removed"/></wbr> <span class="parameters"><span class="diff-html-removed">(longaddress,</span> <span class="diff-html-removed">longbyteSize)</span> </span>   </div><div class="block"> <span class="diff-html-removed">Creates</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">given</span> <span class="diff-html-removed">size</span> <span class="diff-html-removed">and</span> <a href="#address()"><span class="diff-html-removed">address</span> <span class="diff-html-removed">value</span> </a><span class="diff-html-removed">.</span> <span class="diff-html-removed">The</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">the</span> <a href="SegmentScope.html#global()"><span class="diff-html-removed">global</span> <span class="diff-html-removed">scope</span> </a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed">.</span><p> <span class="diff-html-removed">This</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">equivalent</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">following</span> <span class="diff-html-removed">code:</span>       </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!"><span class="diff-html-removed">Copy</span></span><span class="diff-html-removed"><img src="../../../../copy.svg" alt="Copy" changeType="diff-removed-image"/></span><span class="diff-html-removed"/></button><pre class="snippet"><span class="diff-html-removed">
                                                            </span><code class="language-java"><span class="diff-html-removed"> ofAddress(address, byteSize, SegmentScope.global());
</span></code><span class="diff-html-removed">
                                                        </span></pre> </div> <span class="diff-html-removed">This</span> <span class="diff-html-removed">method</span> <span class="diff-html-removed">is</span> <a href="package-summary.html#restricted"><em><span class="diff-html-removed">restricted</span></em><span class="diff-html-removed"/></a><span class="diff-html-removed">.</span> <span class="diff-html-removed">Restricted</span> <span class="diff-html-removed">methods</span> <span class="diff-html-removed">are</span> <span class="diff-html-removed">unsafe,</span> <span class="diff-html-removed">and,</span> <span class="diff-html-removed">if</span> <span class="diff-html-removed">used</span> <span class="diff-html-removed">incorrectly,</span> <span class="diff-html-removed">their</span> <span class="diff-html-removed">use</span> <span class="diff-html-removed">might</span> <span class="diff-html-removed">crash</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">JVM</span> <span class="diff-html-removed">or,</span> <span class="diff-html-removed">worse,</span> <span class="diff-html-removed">silently</span> <span class="diff-html-removed">result</span> <span class="diff-html-removed">in</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">corruption.</span> <span class="diff-html-removed">Thus,</span> <span class="diff-html-removed">clients</span> <span class="diff-html-removed">should</span> <span class="diff-html-removed">refrain</span> <span class="diff-html-removed">from</span> <span class="diff-html-removed">depending</span> <span class="diff-html-removed">on</span> <span class="diff-html-removed">restricted</span> <span class="diff-html-removed">methods,</span> <span class="diff-html-removed">and</span> <span class="diff-html-removed">use</span> <span class="diff-html-removed">safe</span> <span class="diff-html-removed">and</span> <span class="diff-html-removed">supported</span> <span class="diff-html-removed">functionalities,</span> <span class="diff-html-removed">where</span> <span class="diff-html-removed">possible.</span>                                                            </div><dl class="notes"> <dt><span class="diff-html-removed">Parameters:</span></dt><dd> <code><span class="diff-html-removed">address</span></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">address</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segment.</span>         </dd><dd> <code><span class="diff-html-removed">byteSize</span></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">size</span> <span class="diff-html-removed">(in</span> <span class="diff-html-removed">bytes)</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segment.</span>           </dd> <dt><span class="diff-html-removed">Returns:</span></dt><dd><span class="diff-html-removed">a</span> <span class="diff-html-removed">zero-length</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">given</span> <span class="diff-html-removed">address</span> <span class="diff-html-removed">and</span> <span class="diff-html-removed">size.</span>         </dd> <dt><span class="diff-html-removed">Throws:</span></dt><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang"><span class="diff-html-removed">IllegalArgumentException</span></a><span class="diff-html-removed"/></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">if</span> <code><span class="diff-html-removed">byteSize</span> <span class="diff-html-removed">&lt;</span> <span class="diff-html-removed">0</span>  </code><span class="diff-html-removed">.</span>    </dd><dd> <code><a href="../IllegalCallerException.html" title="class in java.lang"><span class="diff-html-removed">IllegalCallerException</span></a><span class="diff-html-removed"/></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">If</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">caller</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">in</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">module</span> <span class="diff-html-removed">that</span> <span class="diff-html-removed">does</span> <span class="diff-html-removed">not</span> <span class="diff-html-removed">have</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">access</span> <span class="diff-html-removed">enabled.</span>                </dd>   </dl> <span class="diff-html-removed"/> </section> <a end_ctx_id="method:ofAddress(long,long)" changeType="diff-removed-tag"><span class="diff-html-removed"/></a>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:ofAddress(long,long,java.lang.foreign.SegmentScope) [REMOVED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:ofAddress(long,long,java.lang.foreign.SegmentScope)" changeType="diff-removed-tag"><span class="diff-html-removed"/></a> <section class="detail" id="ofAddress(long,long,java.lang.foreign.SegmentScope)" changeType="diff-removed-tag"><h3><span class="diff-html-removed">ofAddress</span></h3><div class="member-signature"> <span class="modifiers"><span class="diff-html-removed">static</span></span><span class="diff-html-removed"></span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign"><span class="diff-html-removed">MemorySegment</span></a><sup><a href="#preview-java.lang.foreign.MemorySegment"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed"/></span><span class="diff-html-removed"></span><span class="element-name"><span class="diff-html-removed">ofAddress</span></span> <wbr><span class="diff-html-removed"/></wbr> <span class="parameters"><span class="diff-html-removed">(longaddress,</span> <span class="diff-html-removed">longbyteSize,</span> <a href="SegmentScope.html" title="interface in java.lang.foreign"><span class="diff-html-removed">SegmentScope</span></a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed">scope)</span>  </span>   </div><div class="block"> <span class="diff-html-removed">Creates</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">given</span> <span class="diff-html-removed">size,</span> <span class="diff-html-removed">address,</span> <span class="diff-html-removed">and</span> <span class="diff-html-removed">scope.</span> <span class="diff-html-removed">This</span> <span class="diff-html-removed">method</span> <span class="diff-html-removed">can</span> <span class="diff-html-removed">be</span> <span class="diff-html-removed">useful</span> <span class="diff-html-removed">when</span> <span class="diff-html-removed">interacting</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">custom</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">sources</span> <span class="diff-html-removed">(e.g.</span> <span class="diff-html-removed">custom</span> <span class="diff-html-removed">allocators),</span> <span class="diff-html-removed">where</span> <span class="diff-html-removed">an</span> <span class="diff-html-removed">address</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">some</span> <span class="diff-html-removed">underlying</span> <span class="diff-html-removed">region</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">typically</span> <span class="diff-html-removed">obtained</span> <span class="diff-html-removed">from</span> <span class="diff-html-removed">foreign</span> <span class="diff-html-removed">code</span> <span class="diff-html-removed">(often</span> <span class="diff-html-removed">as</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">plain</span> <code><span class="diff-html-removed">long</span></code> <span class="diff-html-removed">value).</span><p> <span class="diff-html-removed">The</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">not</span> <span class="diff-html-removed">read-only</span> <span class="diff-html-removed">(see</span> <a href="#isReadOnly()"><code><span class="diff-html-removed">isReadOnly()</span></code><span class="diff-html-removed"/></a><span class="diff-html-removed">),</span> <span class="diff-html-removed">and</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">provided</span> <span class="diff-html-removed">scope.</span>               </p><p> <span class="diff-html-removed">This</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">equivalent</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">following</span> <span class="diff-html-removed">code:</span>       </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!"><span class="diff-html-removed">Copy</span></span><span class="diff-html-removed"><img src="../../../../copy.svg" alt="Copy" changeType="diff-removed-image"/></span><span class="diff-html-removed"/></button><pre class="snippet"><span class="diff-html-removed">
                                                            </span><code class="language-java"><span class="diff-html-removed"> ofAddress(address, byteSize, scope, null);
</span></code><span class="diff-html-removed">
                                                        </span></pre> </div> <span class="diff-html-removed">This</span> <span class="diff-html-removed">method</span> <span class="diff-html-removed">is</span> <a href="package-summary.html#restricted"><em><span class="diff-html-removed">restricted</span></em><span class="diff-html-removed"/></a><span class="diff-html-removed">.</span> <span class="diff-html-removed">Restricted</span> <span class="diff-html-removed">methods</span> <span class="diff-html-removed">are</span> <span class="diff-html-removed">unsafe,</span> <span class="diff-html-removed">and,</span> <span class="diff-html-removed">if</span> <span class="diff-html-removed">used</span> <span class="diff-html-removed">incorrectly,</span> <span class="diff-html-removed">their</span> <span class="diff-html-removed">use</span> <span class="diff-html-removed">might</span> <span class="diff-html-removed">crash</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">JVM</span> <span class="diff-html-removed">or,</span> <span class="diff-html-removed">worse,</span> <span class="diff-html-removed">silently</span> <span class="diff-html-removed">result</span> <span class="diff-html-removed">in</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">corruption.</span> <span class="diff-html-removed">Thus,</span> <span class="diff-html-removed">clients</span> <span class="diff-html-removed">should</span> <span class="diff-html-removed">refrain</span> <span class="diff-html-removed">from</span> <span class="diff-html-removed">depending</span> <span class="diff-html-removed">on</span> <span class="diff-html-removed">restricted</span> <span class="diff-html-removed">methods,</span> <span class="diff-html-removed">and</span> <span class="diff-html-removed">use</span> <span class="diff-html-removed">safe</span> <span class="diff-html-removed">and</span> <span class="diff-html-removed">supported</span> <span class="diff-html-removed">functionalities,</span> <span class="diff-html-removed">where</span> <span class="diff-html-removed">possible.</span>                                                                                        </div><dl class="notes"> <dt><span class="diff-html-removed">Parameters:</span></dt><dd> <code><span class="diff-html-removed">address</span></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">segment's</span> <span class="diff-html-removed">address.</span>      </dd><dd> <code><span class="diff-html-removed">byteSize</span></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">desired</span> <span class="diff-html-removed">size.</span>     </dd><dd> <code><span class="diff-html-removed">scope</span></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">scope</span> <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segment.</span>          </dd> <dt><span class="diff-html-removed">Returns:</span></dt><dd><span class="diff-html-removed">a</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">given</span> <span class="diff-html-removed">address,</span> <span class="diff-html-removed">size</span> <span class="diff-html-removed">and</span> <span class="diff-html-removed">scope.</span>         </dd> <dt><span class="diff-html-removed">Throws:</span></dt><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang"><span class="diff-html-removed">IllegalArgumentException</span></a><span class="diff-html-removed"/></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">if</span> <code><span class="diff-html-removed">byteSize</span> <span class="diff-html-removed">&lt;</span> <span class="diff-html-removed">0</span>  </code><span class="diff-html-removed">.</span>    </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang"><span class="diff-html-removed">IllegalStateException</span></a><span class="diff-html-removed"/></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">if</span> <code><span class="diff-html-removed">scope</span></code> <span class="diff-html-removed">is</span> <span class="diff-html-removed">not</span> <a href="SegmentScope.html#isAlive()"><span class="diff-html-removed">alive</span></a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed">.</span>       </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang"><span class="diff-html-removed">WrongThreadException</span></a><span class="diff-html-removed"/></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">if</span> <span class="diff-html-removed">this</span> <span class="diff-html-removed">method</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">called</span> <span class="diff-html-removed">from</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">thread</span> <code><span class="diff-html-removed">T</span></code><span class="diff-html-removed">,</span> <span class="diff-html-removed">such</span> <span class="diff-html-removed">that</span> <code><span class="diff-html-removed">scope.isAccessibleBy(T)</span> <span class="diff-html-removed">==</span> <span class="diff-html-removed">false</span>  </code><span class="diff-html-removed">.</span>              </dd><dd> <code><a href="../IllegalCallerException.html" title="class in java.lang"><span class="diff-html-removed">IllegalCallerException</span></a><span class="diff-html-removed"/></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">If</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">caller</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">in</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">module</span> <span class="diff-html-removed">that</span> <span class="diff-html-removed">does</span> <span class="diff-html-removed">not</span> <span class="diff-html-removed">have</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">access</span> <span class="diff-html-removed">enabled.</span>                </dd>   </dl> <span class="diff-html-removed"/> </section> <a end_ctx_id="method:ofAddress(long,long,java.lang.foreign.SegmentScope)" changeType="diff-removed-tag"><span class="diff-html-removed"/></a>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:ofAddress(long,long,java.lang.foreign.SegmentScope,java.lang.Runnable) [REMOVED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:ofAddress(long,long,java.lang.foreign.SegmentScope,java.lang.Runnable)" changeType="diff-removed-tag"><span class="diff-html-removed"/></a> <section class="detail" id="ofAddress(long,long,java.lang.foreign.SegmentScope,java.lang.Runnable)" changeType="diff-removed-tag"><h3><span class="diff-html-removed">ofAddress</span></h3><div class="member-signature"> <span class="modifiers"><span class="diff-html-removed">static</span></span><span class="diff-html-removed"></span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign"><span class="diff-html-removed">MemorySegment</span></a><sup><a href="#preview-java.lang.foreign.MemorySegment"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed"/></span><span class="diff-html-removed"></span><span class="element-name"><span class="diff-html-removed">ofAddress</span></span> <wbr><span class="diff-html-removed"/></wbr> <span class="parameters"><span class="diff-html-removed">(longaddress,</span> <span class="diff-html-removed">longbyteSize,</span> <a href="SegmentScope.html" title="interface in java.lang.foreign"><span class="diff-html-removed">SegmentScope</span></a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed">scope,</span> <a href="../Runnable.html" title="interface in java.lang"><span class="diff-html-removed">Runnable</span></a><span class="diff-html-removed">cleanupAction)</span>   </span>   </div><div class="block"> <span class="diff-html-removed">Creates</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">given</span> <span class="diff-html-removed">size,</span> <span class="diff-html-removed">address,</span> <span class="diff-html-removed">and</span> <span class="diff-html-removed">scope.</span> <span class="diff-html-removed">This</span> <span class="diff-html-removed">method</span> <span class="diff-html-removed">can</span> <span class="diff-html-removed">be</span> <span class="diff-html-removed">useful</span> <span class="diff-html-removed">when</span> <span class="diff-html-removed">interacting</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">custom</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">sources</span> <span class="diff-html-removed">(e.g.</span> <span class="diff-html-removed">custom</span> <span class="diff-html-removed">allocators),</span> <span class="diff-html-removed">where</span> <span class="diff-html-removed">an</span> <span class="diff-html-removed">address</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">some</span> <span class="diff-html-removed">underlying</span> <span class="diff-html-removed">region</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">typically</span> <span class="diff-html-removed">obtained</span> <span class="diff-html-removed">from</span> <span class="diff-html-removed">foreign</span> <span class="diff-html-removed">code</span> <span class="diff-html-removed">(often</span> <span class="diff-html-removed">as</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">plain</span> <code><span class="diff-html-removed">long</span></code> <span class="diff-html-removed">value).</span><p> <span class="diff-html-removed">The</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">not</span> <span class="diff-html-removed">read-only</span> <span class="diff-html-removed">(see</span> <a href="#isReadOnly()"><code><span class="diff-html-removed">isReadOnly()</span></code><span class="diff-html-removed"/></a><span class="diff-html-removed">),</span> <span class="diff-html-removed">and</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">provided</span> <span class="diff-html-removed">scope.</span>               </p><p> <span class="diff-html-removed">The</span> <span class="diff-html-removed">provided</span> <span class="diff-html-removed">cleanup</span> <span class="diff-html-removed">action</span> <span class="diff-html-removed">(if</span> <span class="diff-html-removed">any)</span> <span class="diff-html-removed">will</span> <span class="diff-html-removed">be</span> <span class="diff-html-removed">invoked</span> <span class="diff-html-removed">when</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">scope</span> <span class="diff-html-removed">becomes</span> <span class="diff-html-removed">not</span> <a href="SegmentScope.html#isAlive()"><span class="diff-html-removed">alive</span></a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed">.</span>               </p><p> <span class="diff-html-removed">Clients</span> <span class="diff-html-removed">should</span> <span class="diff-html-removed">ensure</span> <span class="diff-html-removed">that</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">address</span> <span class="diff-html-removed">and</span> <span class="diff-html-removed">bounds</span> <span class="diff-html-removed">refer</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">valid</span> <span class="diff-html-removed">region</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">that</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">accessible</span> <span class="diff-html-removed">for</span> <span class="diff-html-removed">reading</span> <span class="diff-html-removed">and,</span> <span class="diff-html-removed">if</span> <span class="diff-html-removed">appropriate,</span> <span class="diff-html-removed">writing;</span> <span class="diff-html-removed">an</span> <span class="diff-html-removed">attempt</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">access</span> <span class="diff-html-removed">an</span> <span class="diff-html-removed">invalid</span> <span class="diff-html-removed">address</span> <span class="diff-html-removed">from</span> <span class="diff-html-removed">Java</span> <span class="diff-html-removed">code</span> <span class="diff-html-removed">will</span> <span class="diff-html-removed">either</span> <span class="diff-html-removed">return</span> <span class="diff-html-removed">an</span> <span class="diff-html-removed">arbitrary</span> <span class="diff-html-removed">value,</span> <span class="diff-html-removed">have</span> <span class="diff-html-removed">no</span> <span class="diff-html-removed">visible</span> <span class="diff-html-removed">effect,</span> <span class="diff-html-removed">or</span> <span class="diff-html-removed">cause</span> <span class="diff-html-removed">an</span> <span class="diff-html-removed">unspecified</span> <span class="diff-html-removed">exception</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">be</span> <span class="diff-html-removed">thrown.</span>                                                    </p><p> <span class="diff-html-removed">This</span> <span class="diff-html-removed">method</span> <span class="diff-html-removed">is</span> <a href="package-summary.html#restricted"><em><span class="diff-html-removed">restricted</span></em><span class="diff-html-removed"/></a><span class="diff-html-removed">.</span> <span class="diff-html-removed">Restricted</span> <span class="diff-html-removed">methods</span> <span class="diff-html-removed">are</span> <span class="diff-html-removed">unsafe,</span> <span class="diff-html-removed">and,</span> <span class="diff-html-removed">if</span> <span class="diff-html-removed">used</span> <span class="diff-html-removed">incorrectly,</span> <span class="diff-html-removed">their</span> <span class="diff-html-removed">use</span> <span class="diff-html-removed">might</span> <span class="diff-html-removed">crash</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">JVM</span> <span class="diff-html-removed">or,</span> <span class="diff-html-removed">worse,</span> <span class="diff-html-removed">silently</span> <span class="diff-html-removed">result</span> <span class="diff-html-removed">in</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">corruption.</span> <span class="diff-html-removed">Thus,</span> <span class="diff-html-removed">clients</span> <span class="diff-html-removed">should</span> <span class="diff-html-removed">refrain</span> <span class="diff-html-removed">from</span> <span class="diff-html-removed">depending</span> <span class="diff-html-removed">on</span> <span class="diff-html-removed">restricted</span> <span class="diff-html-removed">methods,</span> <span class="diff-html-removed">and</span> <span class="diff-html-removed">use</span> <span class="diff-html-removed">safe</span> <span class="diff-html-removed">and</span> <span class="diff-html-removed">supported</span> <span class="diff-html-removed">functionalities,</span> <span class="diff-html-removed">where</span> <span class="diff-html-removed">possible.</span>                                          </p>                                              </div><dl class="notes"> <dt><span class="diff-html-removed">Parameters:</span></dt><dd> <code><span class="diff-html-removed">address</span></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">segment's</span> <span class="diff-html-removed">address.</span>      </dd><dd> <code><span class="diff-html-removed">byteSize</span></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">desired</span> <span class="diff-html-removed">size.</span>     </dd><dd> <code><span class="diff-html-removed">scope</span></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">scope</span> <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segment.</span>          </dd><dd> <code><span class="diff-html-removed">cleanupAction</span></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">custom</span> <span class="diff-html-removed">cleanup</span> <span class="diff-html-removed">action</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">be</span> <span class="diff-html-removed">associated</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">(can</span> <span class="diff-html-removed">be</span> <span class="diff-html-removed">null).</span>                </dd> <dt><span class="diff-html-removed">Returns:</span></dt><dd><span class="diff-html-removed">a</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">given</span> <span class="diff-html-removed">address,</span> <span class="diff-html-removed">size</span> <span class="diff-html-removed">and</span> <span class="diff-html-removed">scope.</span>         </dd> <dt><span class="diff-html-removed">Throws:</span></dt><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang"><span class="diff-html-removed">IllegalArgumentException</span></a><span class="diff-html-removed"/></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">if</span> <code><span class="diff-html-removed">byteSize</span> <span class="diff-html-removed">&lt;</span> <span class="diff-html-removed">0</span>  </code><span class="diff-html-removed">.</span>    </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang"><span class="diff-html-removed">IllegalStateException</span></a><span class="diff-html-removed"/></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">if</span> <code><span class="diff-html-removed">scope</span></code> <span class="diff-html-removed">is</span> <span class="diff-html-removed">not</span> <a href="SegmentScope.html#isAlive()"><span class="diff-html-removed">alive</span></a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed">.</span>       </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang"><span class="diff-html-removed">WrongThreadException</span></a><span class="diff-html-removed"/></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">if</span> <span class="diff-html-removed">this</span> <span class="diff-html-removed">method</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">called</span> <span class="diff-html-removed">from</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">thread</span> <code><span class="diff-html-removed">T</span></code><span class="diff-html-removed">,</span> <span class="diff-html-removed">such</span> <span class="diff-html-removed">that</span> <code><span class="diff-html-removed">scope.isAccessibleBy(T)</span> <span class="diff-html-removed">==</span> <span class="diff-html-removed">false</span>  </code><span class="diff-html-removed">.</span>              </dd><dd> <code><a href="../IllegalCallerException.html" title="class in java.lang"><span class="diff-html-removed">IllegalCallerException</span></a><span class="diff-html-removed"/></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">If</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">caller</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">in</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">module</span> <span class="diff-html-removed">that</span> <span class="diff-html-removed">does</span> <span class="diff-html-removed">not</span> <span class="diff-html-removed">have</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">access</span> <span class="diff-html-removed">enabled.</span>                </dd>   </dl> <span class="diff-html-removed"/> </section> <a end_ctx_id="method:ofAddress(long,long,java.lang.foreign.SegmentScope,java.lang.Runnable)" changeType="diff-removed-tag"><span class="diff-html-removed"/></a>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:allocateNative(java.lang.foreign.MemoryLayout,java.lang.foreign.SegmentScope) [REMOVED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:allocateNative(java.lang.foreign.MemoryLayout,java.lang.foreign.SegmentScope)" changeType="diff-removed-tag"><span class="diff-html-removed"/></a> <section class="detail" id="allocateNative(java.lang.foreign.MemoryLayout,java.lang.foreign.SegmentScope)" changeType="diff-removed-tag"><h3><span class="diff-html-removed">allocateNative</span></h3><div class="member-signature"> <span class="modifiers"><span class="diff-html-removed">static</span></span><span class="diff-html-removed"></span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign"><span class="diff-html-removed">MemorySegment</span></a><sup><a href="#preview-java.lang.foreign.MemorySegment"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed"/></span><span class="diff-html-removed"></span><span class="element-name"><span class="diff-html-removed">allocateNative</span></span> <wbr><span class="diff-html-removed"/></wbr> <span class="parameters"><span class="diff-html-removed">(</span><a href="MemoryLayout.html" title="interface in java.lang.foreign"><span class="diff-html-removed">MemoryLayout</span></a><sup><a href="MemoryLayout.html#preview-java.lang.foreign.MemoryLayout"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed">layout,</span> <a href="SegmentScope.html" title="interface in java.lang.foreign"><span class="diff-html-removed">SegmentScope</span></a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed">scope)</span> </span>   </div><div class="block"> <span class="diff-html-removed">Creates</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">given</span> <span class="diff-html-removed">layout</span> <span class="diff-html-removed">and</span> <span class="diff-html-removed">scope.</span><p> <span class="diff-html-removed">The</span> <span class="diff-html-removed">lifetime</span> <span class="diff-html-removed">off-heap</span> <span class="diff-html-removed">region</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">determined</span> <span class="diff-html-removed">by</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">provided</span> <span class="diff-html-removed">scope.</span> <span class="diff-html-removed">The</span> <span class="diff-html-removed">off-heap</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">region</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">deallocated</span> <span class="diff-html-removed">when</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">scope</span> <span class="diff-html-removed">becomes</span> <span class="diff-html-removed">not</span> <a href="SegmentScope.html#isAlive()"><span class="diff-html-removed">alive</span></a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed">.</span> <span class="diff-html-removed">If</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">scope</span> <span class="diff-html-removed">has</span> <span class="diff-html-removed">been</span> <span class="diff-html-removed">obtained</span> <span class="diff-html-removed">using</span> <span class="diff-html-removed">an</span> <a href="Arena.html" title="interface in java.lang.foreign"><code><span class="diff-html-removed">Arena</span></code><span class="diff-html-removed"/></a><sup><a href="Arena.html#preview-java.lang.foreign.Arena"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed">,</span> <span class="diff-html-removed">clients</span> <span class="diff-html-removed">are</span> <span class="diff-html-removed">responsible</span> <span class="diff-html-removed">for</span> <span class="diff-html-removed">ensuring</span> <span class="diff-html-removed">that</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">arena</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">closed</span> <span class="diff-html-removed">when</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">no</span> <span class="diff-html-removed">longer</span> <span class="diff-html-removed">in</span> <span class="diff-html-removed">use</span> <span class="diff-html-removed">Failure</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">do</span> <span class="diff-html-removed">so</span> <span class="diff-html-removed">will</span> <span class="diff-html-removed">result</span> <span class="diff-html-removed">in</span> <span class="diff-html-removed">off-heap</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">leaks.</span> <span class="diff-html-removed">As</span> <span class="diff-html-removed">an</span> <span class="diff-html-removed">alternative,</span> <span class="diff-html-removed">an</span> <a href="SegmentScope.html#auto()"><span class="diff-html-removed">automatic</span> <span class="diff-html-removed">scope</span> </a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup> <span class="diff-html-removed">can</span> <span class="diff-html-removed">be</span> <span class="diff-html-removed">used,</span> <span class="diff-html-removed">allowing</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">off-heap</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">region</span> <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">be</span> <span class="diff-html-removed">automatically</span> <span class="diff-html-removed">released</span> <span class="diff-html-removed">some</span> <span class="diff-html-removed">unspecified</span> <span class="diff-html-removed">time</span> <span class="diff-html-removed">after</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">scope</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">no</span> <span class="diff-html-removed">longer</span> <span class="diff-html-removed">referenced.</span>                                                                                                     </p><p> <span class="diff-html-removed">The</span> <a href="#address()"><span class="diff-html-removed">address</span></a> <span class="diff-html-removed">of</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">starting</span> <span class="diff-html-removed">address</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">newly</span> <span class="diff-html-removed">allocated</span> <span class="diff-html-removed">off-heap</span> <span class="diff-html-removed">region</span> <span class="diff-html-removed">backing</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">segment.</span> <span class="diff-html-removed">Moreover,</span> <span class="diff-html-removed">the</span> <a href="#address()"><span class="diff-html-removed">address</span></a> <span class="diff-html-removed">of</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">will</span> <span class="diff-html-removed">be</span> <span class="diff-html-removed">aligned</span> <span class="diff-html-removed">according</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">alignment</span> <span class="diff-html-removed">constraint</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">provided</span> <span class="diff-html-removed">layout.</span>                                       </p><p> <span class="diff-html-removed">This</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">equivalent</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">following</span> <span class="diff-html-removed">code:</span>       </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!"><span class="diff-html-removed">Copy</span></span><span class="diff-html-removed"><img src="../../../../copy.svg" alt="Copy" changeType="diff-removed-image"/></span><span class="diff-html-removed"/></button><pre class="snippet"><span class="diff-html-removed">
                                                            </span><code class="language-java"><span class="diff-html-removed">allocateNative(layout.bytesSize(), layout.bytesAlignment(), scope);
</span></code><span class="diff-html-removed">
                                                        </span></pre> </div><p> <span class="diff-html-removed">The</span> <span class="diff-html-removed">region</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">off-heap</span> <span class="diff-html-removed">region</span> <span class="diff-html-removed">backing</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">initialized</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">zero.</span>              </p>          </div><dl class="notes"> <dt><span class="diff-html-removed">Parameters:</span></dt><dd> <code><span class="diff-html-removed">layout</span></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">layout</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">off-heap</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">region</span> <span class="diff-html-removed">backing</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segment.</span>             </dd><dd> <code><span class="diff-html-removed">scope</span></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">scope</span> <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segment.</span>          </dd> <dt><span class="diff-html-removed">Returns:</span></dt><dd><span class="diff-html-removed">a</span> <span class="diff-html-removed">new</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segment.</span>   </dd> <dt><span class="diff-html-removed">Throws:</span></dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang"><span class="diff-html-removed">IllegalStateException</span></a><span class="diff-html-removed"/></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">if</span> <code><span class="diff-html-removed">scope</span></code> <span class="diff-html-removed">is</span> <span class="diff-html-removed">not</span> <a href="SegmentScope.html#isAlive()"><span class="diff-html-removed">alive</span></a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed">.</span>       </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang"><span class="diff-html-removed">WrongThreadException</span></a><span class="diff-html-removed"/></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">if</span> <span class="diff-html-removed">this</span> <span class="diff-html-removed">method</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">called</span> <span class="diff-html-removed">from</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">thread</span> <code><span class="diff-html-removed">T</span></code><span class="diff-html-removed">,</span> <span class="diff-html-removed">such</span> <span class="diff-html-removed">that</span> <code><span class="diff-html-removed">scope.isAccessibleBy(T)</span> <span class="diff-html-removed">==</span> <span class="diff-html-removed">false</span>  </code><span class="diff-html-removed">.</span>              </dd>   </dl> <span class="diff-html-removed"/> </section> <a end_ctx_id="method:allocateNative(java.lang.foreign.MemoryLayout,java.lang.foreign.SegmentScope)" changeType="diff-removed-tag"><span class="diff-html-removed"/></a>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:allocateNative(long,java.lang.foreign.SegmentScope) [REMOVED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:allocateNative(long,java.lang.foreign.SegmentScope)" changeType="diff-removed-tag"><span class="diff-html-removed"/></a> <section class="detail" id="allocateNative(long,java.lang.foreign.SegmentScope)" changeType="diff-removed-tag"><h3><span class="diff-html-removed">allocateNative</span></h3><div class="member-signature"> <span class="modifiers"><span class="diff-html-removed">static</span></span><span class="diff-html-removed"></span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign"><span class="diff-html-removed">MemorySegment</span></a><sup><a href="#preview-java.lang.foreign.MemorySegment"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed"/></span><span class="diff-html-removed"></span><span class="element-name"><span class="diff-html-removed">allocateNative</span></span> <wbr><span class="diff-html-removed"/></wbr> <span class="parameters"><span class="diff-html-removed">(longbyteSize,</span> <a href="SegmentScope.html" title="interface in java.lang.foreign"><span class="diff-html-removed">SegmentScope</span></a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed">scope)</span> </span>   </div><div class="block"> <span class="diff-html-removed">Creates</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">given</span> <span class="diff-html-removed">size</span> <span class="diff-html-removed">(in</span> <span class="diff-html-removed">bytes)</span> <span class="diff-html-removed">and</span> <span class="diff-html-removed">scope.</span><p> <span class="diff-html-removed">The</span> <span class="diff-html-removed">lifetime</span> <span class="diff-html-removed">off-heap</span> <span class="diff-html-removed">region</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">determined</span> <span class="diff-html-removed">by</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">provided</span> <span class="diff-html-removed">scope.</span> <span class="diff-html-removed">The</span> <span class="diff-html-removed">off-heap</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">region</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">deallocated</span> <span class="diff-html-removed">when</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">scope</span> <span class="diff-html-removed">becomes</span> <span class="diff-html-removed">not</span> <a href="SegmentScope.html#isAlive()"><span class="diff-html-removed">alive</span></a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed">.</span> <span class="diff-html-removed">If</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">scope</span> <span class="diff-html-removed">has</span> <span class="diff-html-removed">been</span> <span class="diff-html-removed">obtained</span> <span class="diff-html-removed">using</span> <span class="diff-html-removed">an</span> <a href="Arena.html" title="interface in java.lang.foreign"><code><span class="diff-html-removed">Arena</span></code><span class="diff-html-removed"/></a><sup><a href="Arena.html#preview-java.lang.foreign.Arena"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed">,</span> <span class="diff-html-removed">clients</span> <span class="diff-html-removed">are</span> <span class="diff-html-removed">responsible</span> <span class="diff-html-removed">for</span> <span class="diff-html-removed">ensuring</span> <span class="diff-html-removed">that</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">arena</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">closed</span> <span class="diff-html-removed">when</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">no</span> <span class="diff-html-removed">longer</span> <span class="diff-html-removed">in</span> <span class="diff-html-removed">use</span> <span class="diff-html-removed">Failure</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">do</span> <span class="diff-html-removed">so</span> <span class="diff-html-removed">will</span> <span class="diff-html-removed">result</span> <span class="diff-html-removed">in</span> <span class="diff-html-removed">off-heap</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">leaks.</span> <span class="diff-html-removed">As</span> <span class="diff-html-removed">an</span> <span class="diff-html-removed">alternative,</span> <span class="diff-html-removed">an</span> <a href="SegmentScope.html#auto()"><span class="diff-html-removed">automatic</span> <span class="diff-html-removed">scope</span> </a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup> <span class="diff-html-removed">can</span> <span class="diff-html-removed">be</span> <span class="diff-html-removed">used,</span> <span class="diff-html-removed">allowing</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">off-heap</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">region</span> <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">be</span> <span class="diff-html-removed">automatically</span> <span class="diff-html-removed">released</span> <span class="diff-html-removed">some</span> <span class="diff-html-removed">unspecified</span> <span class="diff-html-removed">time</span> <span class="diff-html-removed">after</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">scope</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">no</span> <span class="diff-html-removed">longer</span> <span class="diff-html-removed">referenced.</span>                                                                                                     </p><p> <span class="diff-html-removed">The</span> <a href="#address()"><span class="diff-html-removed">address</span></a> <span class="diff-html-removed">of</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">starting</span> <span class="diff-html-removed">address</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">newly</span> <span class="diff-html-removed">allocated</span> <span class="diff-html-removed">off-heap</span> <span class="diff-html-removed">region</span> <span class="diff-html-removed">backing</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">segment.</span> <span class="diff-html-removed">Moreover,</span> <span class="diff-html-removed">the</span> <a href="#address()"><span class="diff-html-removed">address</span></a> <span class="diff-html-removed">of</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">guaranteed</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">be</span> <span class="diff-html-removed">at</span> <span class="diff-html-removed">least</span> <span class="diff-html-removed">1-byte</span> <span class="diff-html-removed">aligned.</span>                                   </p><p> <span class="diff-html-removed">This</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">equivalent</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">following</span> <span class="diff-html-removed">code:</span>       </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!"><span class="diff-html-removed">Copy</span></span><span class="diff-html-removed"><img src="../../../../copy.svg" alt="Copy" changeType="diff-removed-image"/></span><span class="diff-html-removed"/></button><pre class="snippet"><span class="diff-html-removed">
                                                            </span><code class="language-java"><span class="diff-html-removed">allocateNative(bytesSize, 1, scope);
</span></code><span class="diff-html-removed">
                                                        </span></pre> </div><p> <span class="diff-html-removed">The</span> <span class="diff-html-removed">region</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">off-heap</span> <span class="diff-html-removed">region</span> <span class="diff-html-removed">backing</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">initialized</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">zero.</span>              </p>            </div><dl class="notes"> <dt><span class="diff-html-removed">Parameters:</span></dt><dd> <code><span class="diff-html-removed">byteSize</span></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">size</span> <span class="diff-html-removed">(in</span> <span class="diff-html-removed">bytes)</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">off-heap</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">region</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">backing</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">segment.</span>                  </dd><dd> <code><span class="diff-html-removed">scope</span></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">scope</span> <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segment.</span>          </dd> <dt><span class="diff-html-removed">Returns:</span></dt><dd><span class="diff-html-removed">a</span> <span class="diff-html-removed">new</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">segment.</span>    </dd> <dt><span class="diff-html-removed">Throws:</span></dt><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang"><span class="diff-html-removed">IllegalArgumentException</span></a><span class="diff-html-removed"/></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">if</span> <code><span class="diff-html-removed">byteSize</span> <span class="diff-html-removed">&lt;</span> <span class="diff-html-removed">0</span>  </code><span class="diff-html-removed">.</span>    </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang"><span class="diff-html-removed">IllegalStateException</span></a><span class="diff-html-removed"/></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">if</span> <code><span class="diff-html-removed">scope</span></code> <span class="diff-html-removed">is</span> <span class="diff-html-removed">not</span> <a href="SegmentScope.html#isAlive()"><span class="diff-html-removed">alive</span></a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed">.</span>       </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang"><span class="diff-html-removed">WrongThreadException</span></a><span class="diff-html-removed"/></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">if</span> <span class="diff-html-removed">this</span> <span class="diff-html-removed">method</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">called</span> <span class="diff-html-removed">from</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">thread</span> <code><span class="diff-html-removed">T</span></code><span class="diff-html-removed">,</span> <span class="diff-html-removed">such</span> <span class="diff-html-removed">that</span> <code><span class="diff-html-removed">scope.isAccessibleBy(T)</span> <span class="diff-html-removed">==</span> <span class="diff-html-removed">false</span>  </code><span class="diff-html-removed">.</span>              </dd>   </dl> <span class="diff-html-removed"/> </section> <a end_ctx_id="method:allocateNative(long,java.lang.foreign.SegmentScope)" changeType="diff-removed-tag"><span class="diff-html-removed"/></a>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:allocateNative(long,long,java.lang.foreign.SegmentScope) [REMOVED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:allocateNative(long,long,java.lang.foreign.SegmentScope)" changeType="diff-removed-tag"><span class="diff-html-removed"/></a> <section class="detail" id="allocateNative(long,long,java.lang.foreign.SegmentScope)" changeType="diff-removed-tag"><h3><span class="diff-html-removed">allocateNative</span></h3><div class="member-signature"> <span class="modifiers"><span class="diff-html-removed">static</span></span><span class="diff-html-removed"></span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign"><span class="diff-html-removed">MemorySegment</span></a><sup><a href="#preview-java.lang.foreign.MemorySegment"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed"/></span><span class="diff-html-removed"></span><span class="element-name"><span class="diff-html-removed">allocateNative</span></span> <wbr><span class="diff-html-removed"/></wbr> <span class="parameters"><span class="diff-html-removed">(longbyteSize,</span> <span class="diff-html-removed">longbyteAlignment,</span> <a href="SegmentScope.html" title="interface in java.lang.foreign"><span class="diff-html-removed">SegmentScope</span></a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed">scope)</span>  </span>   </div><div class="block"> <span class="diff-html-removed">Creates</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">given</span> <span class="diff-html-removed">size</span> <span class="diff-html-removed">(in</span> <span class="diff-html-removed">bytes),</span> <span class="diff-html-removed">alignment</span> <span class="diff-html-removed">(in</span> <span class="diff-html-removed">bytes)</span> <span class="diff-html-removed">and</span> <span class="diff-html-removed">scope.</span><p> <span class="diff-html-removed">The</span> <span class="diff-html-removed">lifetime</span> <span class="diff-html-removed">off-heap</span> <span class="diff-html-removed">region</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">determined</span> <span class="diff-html-removed">by</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">provided</span> <span class="diff-html-removed">scope.</span> <span class="diff-html-removed">The</span> <span class="diff-html-removed">off-heap</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">region</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">deallocated</span> <span class="diff-html-removed">when</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">scope</span> <span class="diff-html-removed">becomes</span> <span class="diff-html-removed">not</span> <a href="SegmentScope.html#isAlive()"><span class="diff-html-removed">alive</span></a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed">.</span> <span class="diff-html-removed">If</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">scope</span> <span class="diff-html-removed">has</span> <span class="diff-html-removed">been</span> <span class="diff-html-removed">obtained</span> <span class="diff-html-removed">using</span> <span class="diff-html-removed">an</span> <a href="Arena.html" title="interface in java.lang.foreign"><code><span class="diff-html-removed">Arena</span></code><span class="diff-html-removed"/></a><sup><a href="Arena.html#preview-java.lang.foreign.Arena"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed">,</span> <span class="diff-html-removed">clients</span> <span class="diff-html-removed">are</span> <span class="diff-html-removed">responsible</span> <span class="diff-html-removed">for</span> <span class="diff-html-removed">ensuring</span> <span class="diff-html-removed">that</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">arena</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">closed</span> <span class="diff-html-removed">when</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">no</span> <span class="diff-html-removed">longer</span> <span class="diff-html-removed">in</span> <span class="diff-html-removed">use</span> <span class="diff-html-removed">Failure</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">do</span> <span class="diff-html-removed">so</span> <span class="diff-html-removed">will</span> <span class="diff-html-removed">result</span> <span class="diff-html-removed">in</span> <span class="diff-html-removed">off-heap</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">leaks.</span> <span class="diff-html-removed">As</span> <span class="diff-html-removed">an</span> <span class="diff-html-removed">alternative,</span> <span class="diff-html-removed">an</span> <a href="SegmentScope.html#auto()"><span class="diff-html-removed">automatic</span> <span class="diff-html-removed">scope</span> </a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup> <span class="diff-html-removed">can</span> <span class="diff-html-removed">be</span> <span class="diff-html-removed">used,</span> <span class="diff-html-removed">allowing</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">off-heap</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">region</span> <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">be</span> <span class="diff-html-removed">automatically</span> <span class="diff-html-removed">released</span> <span class="diff-html-removed">some</span> <span class="diff-html-removed">unspecified</span> <span class="diff-html-removed">time</span> <span class="diff-html-removed">after</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">scope</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">no</span> <span class="diff-html-removed">longer</span> <span class="diff-html-removed">referenced.</span>                                                                                                     </p><p> <span class="diff-html-removed">The</span> <a href="#address()"><span class="diff-html-removed">address</span></a> <span class="diff-html-removed">of</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">starting</span> <span class="diff-html-removed">address</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">newly</span> <span class="diff-html-removed">allocated</span> <span class="diff-html-removed">off-heap</span> <span class="diff-html-removed">region</span> <span class="diff-html-removed">backing</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">segment.</span> <span class="diff-html-removed">Moreover,</span> <span class="diff-html-removed">the</span> <a href="#address()"><span class="diff-html-removed">address</span></a> <span class="diff-html-removed">of</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">will</span> <span class="diff-html-removed">be</span> <span class="diff-html-removed">aligned</span> <span class="diff-html-removed">according</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">provided</span> <span class="diff-html-removed">alignment</span> <span class="diff-html-removed">constraint.</span>                                    </p><p> <span class="diff-html-removed">The</span> <span class="diff-html-removed">region</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">off-heap</span> <span class="diff-html-removed">region</span> <span class="diff-html-removed">backing</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">initialized</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">zero.</span>              </p>               </div><dl class="notes"> <dt><span class="diff-html-removed">Parameters:</span></dt><dd> <code><span class="diff-html-removed">byteSize</span></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">size</span> <span class="diff-html-removed">(in</span> <span class="diff-html-removed">bytes)</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">off-heap</span> <span class="diff-html-removed">region</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">backing</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">segment.</span>                 </dd><dd> <code><span class="diff-html-removed">byteAlignment</span></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">alignment</span> <span class="diff-html-removed">constraint</span> <span class="diff-html-removed">(in</span> <span class="diff-html-removed">bytes)</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">off-heap</span> <span class="diff-html-removed">region</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">backing</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">segment.</span>                  </dd><dd> <code><span class="diff-html-removed">scope</span></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">scope</span> <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segment.</span>          </dd> <dt><span class="diff-html-removed">Returns:</span></dt><dd><span class="diff-html-removed">a</span> <span class="diff-html-removed">new</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">segment.</span>    </dd> <dt><span class="diff-html-removed">Throws:</span></dt><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang"><span class="diff-html-removed">IllegalArgumentException</span></a><span class="diff-html-removed"/></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">if</span> <code><span class="diff-html-removed">byteSize</span> <span class="diff-html-removed">&lt;</span> <span class="diff-html-removed">0</span>  </code><span class="diff-html-removed">,</span> <code><span class="diff-html-removed">byteAlignment</span> <span class="diff-html-removed">&lt;=</span> <span class="diff-html-removed">0</span>  </code><span class="diff-html-removed">,</span> <span class="diff-html-removed">or</span> <span class="diff-html-removed">if</span> <code><span class="diff-html-removed">byteAlignment</span></code> <span class="diff-html-removed">is</span> <span class="diff-html-removed">not</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">power</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">2.</span>              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang"><span class="diff-html-removed">IllegalStateException</span></a><span class="diff-html-removed"/></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">if</span> <code><span class="diff-html-removed">scope</span></code> <span class="diff-html-removed">is</span> <span class="diff-html-removed">not</span> <a href="SegmentScope.html#isAlive()"><span class="diff-html-removed">alive</span></a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-removed">.</span>       </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang"><span class="diff-html-removed">WrongThreadException</span></a><span class="diff-html-removed"/></code> <span class="diff-html-removed">-</span> <span class="diff-html-removed">if</span> <span class="diff-html-removed">this</span> <span class="diff-html-removed">method</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">called</span> <span class="diff-html-removed">from</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">thread</span> <code><span class="diff-html-removed">T</span></code><span class="diff-html-removed">,</span> <span class="diff-html-removed">such</span> <span class="diff-html-removed">that</span> <code><span class="diff-html-removed">scope.isAccessibleBy(T)</span> <span class="diff-html-removed">==</span> <span class="diff-html-removed">false</span>  </code><span class="diff-html-removed">.</span>              </dd>   </dl> <span class="diff-html-removed"/> </section> <a end_ctx_id="method:allocateNative(long,long,java.lang.foreign.SegmentScope)" changeType="diff-removed-tag"><span class="diff-html-removed"/></a>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:copy(java.lang.foreign.MemorySegment,long,java.lang.foreign.MemorySegment,long,long) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:copy(java.lang.foreign.MemorySegment,long,java.lang.foreign.MemorySegment,long,long)"/> <section class="detail" id="copy(java.lang.foreign.MemorySegment,long,java.lang.foreign.MemorySegment,long,long)"><h3>copy</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type">void</span><span class="element-name">copy</span> <wbr/> <span class="parameters">(<a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>srcSegment, longsrcOffset, <a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>dstSegment, longdstOffset, longbytes)    </span>   </div><div class="block"> Performs a bulk copy from source segment to destination segment. More specifically, the bytes at offset <code>srcOffset</code> through <code>srcOffset + bytes - 1    </code> in the source segment are copied into the destination segment at offset <code>dstOffset</code> through <code>dstOffset + bytes - 1    </code>.<p> If the source segment overlaps with this segment, then the copying is performed as if the bytes at offset <code>srcOffset</code> through <code>srcOffset + bytes - 1    </code> in the source segment were first copied into a temporary segment with size <code>bytes</code>, and then the contents of the temporary segment were copied into the destination segment at offset <code>dstOffset</code> through <code>dstOffset + bytes - 1    </code>.                                                       </p><p> The result of a bulk copy is unspecified if, in the uncommon case, the source segment and the destination segment do not overlap, but refer to overlapping regions of the same backing storage using different addresses. For example, this may occur if the same file is <a href="../../nio/channels/FileChannel.html#map(java.nio.channels.FileChannel.MapMode,long,long)">mapped</a> to two segments.                                                  </p><p> Calling this method is equivalent to the following code:         </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                                            <code class="language-java">MemorySegment.copy(srcSegment, ValueLayout.JAVA_BYTE, srcOffset, dstSegment, ValueLayout.JAVA_BYTE, dstOffset, bytes);
</code>
                                                        </pre> </div>                                  </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>srcSegment</code> - the source segment.     </dd><dd> <code>srcOffset</code> - the starting offset, in bytes, of the source segment.           </dd><dd> <code>dstSegment</code> - the destination segment.     </dd><dd> <code>dstOffset</code> - the starting offset, in bytes, of the destination segment.           </dd><dd> <code>bytes</code> - the number of bytes to be copied.         </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with <code>srcSegment</code> is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.           </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>srcSegment.<span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with <code>dstSegment</code> is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.           </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>dstSegment<span class="diff-html-removed">.scope()</span>.isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>srcOffset + bytes &gt; srcSegment.byteSize()    </code> or if <code>dstOffset + bytes &gt; dstSegment.byteSize()    </code>, or if either <code>srcOffset</code>, <code>dstOffset</code> or <code>bytes</code> are <code>&lt; 0 </code>.                </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if the destination segment is read-only (see <a href="#isReadOnly()"><code>isReadOnly()</code></a>).          </dd>  </dl>  </section> <a end_ctx_id="method:copy(java.lang.foreign.MemorySegment,long,java.lang.foreign.MemorySegment,long,long)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:copy(java.lang.foreign.MemorySegment,long,java.lang.foreign.MemorySegment,long,long)"/> <section class="detail" id="copy(java.lang.foreign.MemorySegment,long,java.lang.foreign.MemorySegment,long,long)"><h3>copy</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type">void</span><span class="element-name">copy</span> <wbr/> <span class="parameters">(<a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>srcSegment, longsrcOffset, <a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>dstSegment, longdstOffset, longbytes)    </span>   </div><div class="block"> Performs a bulk copy from source segment to destination segment. More specifically, the bytes at offset <code>srcOffset</code> through <code>srcOffset + bytes - 1    </code> in the source segment are copied into the destination segment at offset <code>dstOffset</code> through <code>dstOffset + bytes - 1    </code>.<p> If the source segment overlaps with this segment, then the copying is performed as if the bytes at offset <code>srcOffset</code> through <code>srcOffset + bytes - 1    </code> in the source segment were first copied into a temporary segment with size <code>bytes</code>, and then the contents of the temporary segment were copied into the destination segment at offset <code>dstOffset</code> through <code>dstOffset + bytes - 1    </code>.                                                       </p><p> The result of a bulk copy is unspecified if, in the uncommon case, the source segment and the destination segment do not overlap, but refer to overlapping regions of the same backing storage using different addresses. For example, this may occur if the same file is <a href="../../nio/channels/FileChannel.html#map(java.nio.channels.FileChannel.MapMode,long,long)">mapped</a> to two segments.                                                  </p><p> Calling this method is equivalent to the following code:         </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                                            <code class="language-java">MemorySegment.copy(srcSegment, ValueLayout.JAVA_BYTE, srcOffset, dstSegment, ValueLayout.JAVA_BYTE, dstOffset, bytes);
</code>
                                                        </pre> </div>                                  </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>srcSegment</code> - the source segment.     </dd><dd> <code>srcOffset</code> - the starting offset, in bytes, of the source segment.           </dd><dd> <code>dstSegment</code> - the destination segment.     </dd><dd> <code>dstOffset</code> - the starting offset, in bytes, of the destination segment.           </dd><dd> <code>bytes</code> - the number of bytes to be copied.         </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with <code>srcSegment</code> is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.           </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>srcSegment.scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with <code>dstSegment</code> is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.           </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>dstSegment.scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>srcOffset + bytes &gt; srcSegment.byteSize()    </code> or if <code>dstOffset + bytes &gt; dstSegment.byteSize()    </code>, or if either <code>srcOffset</code>, <code>dstOffset</code> or <code>bytes</code> are <code>&lt; 0 </code>.                </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if the destination segment is read-only (see <a href="#isReadOnly()"><code>isReadOnly()</code></a>).          </dd>  </dl>  </section> <a end_ctx_id="method:copy(java.lang.foreign.MemorySegment,long,java.lang.foreign.MemorySegment,long,long)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:copy(java.lang.foreign.MemorySegment,long,java.lang.foreign.MemorySegment,long,long)"/> <section class="detail" id="copy(java.lang.foreign.MemorySegment,long,java.lang.foreign.MemorySegment,long,long)"><h3>copy</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type">void</span><span class="element-name">copy</span> <wbr/> <span class="parameters">(<a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>srcSegment, longsrcOffset, <a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>dstSegment, longdstOffset, longbytes)    </span>   </div><div class="block"> Performs a bulk copy from source segment to destination segment. More specifically, the bytes at offset <code>srcOffset</code> through <code>srcOffset + bytes - 1    </code> in the source segment are copied into the destination segment at offset <code>dstOffset</code> through <code>dstOffset + bytes - 1    </code>.<p> If the source segment overlaps with this segment, then the copying is performed as if the bytes at offset <code>srcOffset</code> through <code>srcOffset + bytes - 1    </code> in the source segment were first copied into a temporary segment with size <code>bytes</code>, and then the contents of the temporary segment were copied into the destination segment at offset <code>dstOffset</code> through <code>dstOffset + bytes - 1    </code>.                                                       </p><p> The result of a bulk copy is unspecified if, in the uncommon case, the source segment and the destination segment do not overlap, but refer to overlapping regions of the same backing storage using different addresses. For example, this may occur if the same file is <a href="../../nio/channels/FileChannel.html#map(java.nio.channels.FileChannel.MapMode,long,long)">mapped</a> to two segments.                                                  </p><p> Calling this method is equivalent to the following code:         </p><div class="snippet-container"> <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"/></button><pre class="snippet">
                                                            <code class="language-java">MemorySegment.copy(srcSegment, ValueLayout.JAVA_BYTE, srcOffset, dstSegment, ValueLayout.JAVA_BYTE, dstOffset, bytes);
</code>
                                                        </pre> </div>                                  </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>srcSegment</code> - the source segment.     </dd><dd> <code>srcOffset</code> - the starting offset, in bytes, of the source segment.           </dd><dd> <code>dstSegment</code> - the destination segment.     </dd><dd> <code>dstOffset</code> - the starting offset, in bytes, of the destination segment.           </dd><dd> <code>bytes</code> - the number of bytes to be copied.         </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with <code>srcSegment</code> is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.           </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>srcSegment.isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with <code>dstSegment</code> is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.           </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>dstSegment.isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>srcOffset + bytes &gt; srcSegment.byteSize()    </code> or if <code>dstOffset + bytes &gt; dstSegment.byteSize()    </code>, or if either <code>srcOffset</code>, <code>dstOffset</code> or <code>bytes</code> are <code>&lt; 0 </code>.                </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if the destination segment is read-only (see <a href="#isReadOnly()"><code>isReadOnly()</code></a>).          </dd>  </dl>  </section> <a end_ctx_id="method:copy(java.lang.foreign.MemorySegment,long,java.lang.foreign.MemorySegment,long,long)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:copy(java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,long) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:copy(java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,long)"/> <section class="detail" id="copy(java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,long)"><h3>copy</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type">void</span><span class="element-name">copy</span> <wbr/> <span class="parameters">(<a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>srcSegment, <a href="ValueLayout.html" title="interface in java.lang.foreign">ValueLayout</a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup>srcElementLayout, longsrcOffset, <a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>dstSegment, <a href="ValueLayout.html" title="interface in java.lang.foreign">ValueLayout</a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup>dstElementLayout, longdstOffset, longelementCount)      </span>   </div><div class="block"> Performs a bulk copy from source segment to destination segment. More specifically, if <code>S</code> is the byte size of the element layouts, the bytes at offset <code>srcOffset</code> through <code>srcOffset + (elementCount * S) - 1      </code> in the source segment are copied into the destination segment at offset <code>dstOffset</code> through <code>dstOffset + (elementCount * S) - 1      </code>.<p> The copy occurs in an element-wise fashion: the bytes in the source segment are interpreted as a sequence of elements whose layout is <code>srcElementLayout</code>, whereas the bytes in the destination segment are interpreted as a sequence of elements whose layout is <code>dstElementLayout</code>. Both element layouts must have same size <code>S</code>. If the byte order of the two element layouts differ, the bytes corresponding to each element to be copied are swapped accordingly during the copy operation.                                                                            </p><p> If the source segment overlaps with this segment, then the copying is performed as if the bytes at offset <code>srcOffset</code> through <code>srcOffset + (elementCount * S) - 1      </code> in the source segment were first copied into a temporary segment with size <code>bytes</code>, and then the contents of the temporary segment were copied into the destination segment at offset <code>dstOffset</code> through <code>dstOffset + (elementCount * S) - 1      </code>.                                                       </p><p> The result of a bulk copy is unspecified if, in the uncommon case, the source segment and the destination segment do not overlap, but refer to overlapping regions of the same backing storage using different addresses. For example, this may occur if the same file is <a href="../../nio/channels/FileChannel.html#map(java.nio.channels.FileChannel.MapMode,long,long)">mapped</a> to two segments.                                                  </p>                                            </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>srcSegment</code> - the source segment.     </dd><dd> <code>srcElementLayout</code> - the element layout associated with the source segment.          </dd><dd> <code>srcOffset</code> - the starting offset, in bytes, of the source segment.           </dd><dd> <code>dstSegment</code> - the destination segment.     </dd><dd> <code>dstElementLayout</code> - the element layout associated with the destination segment.          </dd><dd> <code>dstOffset</code> - the starting offset, in bytes, of the destination segment.           </dd><dd> <code>elementCount</code> - the number of elements to be copied.         </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the element layouts have different sizes, if the source (resp. destination) segment/offset are <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the source (resp. destination) element layout, or if the source (resp. destination) element layout alignment is greater than its size.                                      </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with <code>srcSegment</code> is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.           </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>srcSegment().<span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with <code>dstSegment</code> is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.           </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>dstSegment<span class="diff-html-removed">().scope</span>().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>srcOffset + (elementCount * S) &gt; srcSegment.byteSize()      </code> or if <code>dstOffset + (elementCount * S) &gt; dstSegment.byteSize()      </code>, where <code>S</code> is the byte size of the element layouts, or if either <code>srcOffset</code>, <code>dstOffset</code> or <code>elementCount</code> are <code>&lt; 0 </code>.                          </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if the destination segment is read-only (see <a href="#isReadOnly()"><code>isReadOnly()</code></a>).          </dd>  </dl>  </section> <a end_ctx_id="method:copy(java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,long)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:copy(java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,long)"/> <section class="detail" id="copy(java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,long)"><h3>copy</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type">void</span><span class="element-name">copy</span> <wbr/> <span class="parameters">(<a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>srcSegment, <a href="ValueLayout.html" title="interface in java.lang.foreign">ValueLayout</a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup>srcElementLayout, longsrcOffset, <a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>dstSegment, <a href="ValueLayout.html" title="interface in java.lang.foreign">ValueLayout</a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup>dstElementLayout, longdstOffset, longelementCount)      </span>   </div><div class="block"> Performs a bulk copy from source segment to destination segment. More specifically, if <code>S</code> is the byte size of the element layouts, the bytes at offset <code>srcOffset</code> through <code>srcOffset + (elementCount * S) - 1      </code> in the source segment are copied into the destination segment at offset <code>dstOffset</code> through <code>dstOffset + (elementCount * S) - 1      </code>.<p> The copy occurs in an element-wise fashion: the bytes in the source segment are interpreted as a sequence of elements whose layout is <code>srcElementLayout</code>, whereas the bytes in the destination segment are interpreted as a sequence of elements whose layout is <code>dstElementLayout</code>. Both element layouts must have same size <code>S</code>. If the byte order of the two element layouts differ, the bytes corresponding to each element to be copied are swapped accordingly during the copy operation.                                                                            </p><p> If the source segment overlaps with this segment, then the copying is performed as if the bytes at offset <code>srcOffset</code> through <code>srcOffset + (elementCount * S) - 1      </code> in the source segment were first copied into a temporary segment with size <code>bytes</code>, and then the contents of the temporary segment were copied into the destination segment at offset <code>dstOffset</code> through <code>dstOffset + (elementCount * S) - 1      </code>.                                                       </p><p> The result of a bulk copy is unspecified if, in the uncommon case, the source segment and the destination segment do not overlap, but refer to overlapping regions of the same backing storage using different addresses. For example, this may occur if the same file is <a href="../../nio/channels/FileChannel.html#map(java.nio.channels.FileChannel.MapMode,long,long)">mapped</a> to two segments.                                                  </p>                                            </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>srcSegment</code> - the source segment.     </dd><dd> <code>srcElementLayout</code> - the element layout associated with the source segment.          </dd><dd> <code>srcOffset</code> - the starting offset, in bytes, of the source segment.           </dd><dd> <code>dstSegment</code> - the destination segment.     </dd><dd> <code>dstElementLayout</code> - the element layout associated with the destination segment.          </dd><dd> <code>dstOffset</code> - the starting offset, in bytes, of the destination segment.           </dd><dd> <code>elementCount</code> - the number of elements to be copied.         </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the element layouts have different sizes, if the source (resp. destination) segment/offset are <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the source (resp. destination) element layout, or if the source (resp. destination) element layout alignment is greater than its size.                                      </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with <code>srcSegment</code> is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.           </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>srcSegment().scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with <code>dstSegment</code> is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.           </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>dstSegment().scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>srcOffset + (elementCount * S) &gt; srcSegment.byteSize()      </code> or if <code>dstOffset + (elementCount * S) &gt; dstSegment.byteSize()      </code>, where <code>S</code> is the byte size of the element layouts, or if either <code>srcOffset</code>, <code>dstOffset</code> or <code>elementCount</code> are <code>&lt; 0 </code>.                          </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if the destination segment is read-only (see <a href="#isReadOnly()"><code>isReadOnly()</code></a>).          </dd>  </dl>  </section> <a end_ctx_id="method:copy(java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,long)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:copy(java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,long)"/> <section class="detail" id="copy(java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,long)"><h3>copy</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type">void</span><span class="element-name">copy</span> <wbr/> <span class="parameters">(<a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>srcSegment, <a href="ValueLayout.html" title="interface in java.lang.foreign">ValueLayout</a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup>srcElementLayout, longsrcOffset, <a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>dstSegment, <a href="ValueLayout.html" title="interface in java.lang.foreign">ValueLayout</a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup>dstElementLayout, longdstOffset, longelementCount)      </span>   </div><div class="block"> Performs a bulk copy from source segment to destination segment. More specifically, if <code>S</code> is the byte size of the element layouts, the bytes at offset <code>srcOffset</code> through <code>srcOffset + (elementCount * S) - 1      </code> in the source segment are copied into the destination segment at offset <code>dstOffset</code> through <code>dstOffset + (elementCount * S) - 1      </code>.<p> The copy occurs in an element-wise fashion: the bytes in the source segment are interpreted as a sequence of elements whose layout is <code>srcElementLayout</code>, whereas the bytes in the destination segment are interpreted as a sequence of elements whose layout is <code>dstElementLayout</code>. Both element layouts must have same size <code>S</code>. If the byte order of the two element layouts differ, the bytes corresponding to each element to be copied are swapped accordingly during the copy operation.                                                                            </p><p> If the source segment overlaps with this segment, then the copying is performed as if the bytes at offset <code>srcOffset</code> through <code>srcOffset + (elementCount * S) - 1      </code> in the source segment were first copied into a temporary segment with size <code>bytes</code>, and then the contents of the temporary segment were copied into the destination segment at offset <code>dstOffset</code> through <code>dstOffset + (elementCount * S) - 1      </code>.                                                       </p><p> The result of a bulk copy is unspecified if, in the uncommon case, the source segment and the destination segment do not overlap, but refer to overlapping regions of the same backing storage using different addresses. For example, this may occur if the same file is <a href="../../nio/channels/FileChannel.html#map(java.nio.channels.FileChannel.MapMode,long,long)">mapped</a> to two segments.                                                  </p>                                            </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>srcSegment</code> - the source segment.     </dd><dd> <code>srcElementLayout</code> - the element layout associated with the source segment.          </dd><dd> <code>srcOffset</code> - the starting offset, in bytes, of the source segment.           </dd><dd> <code>dstSegment</code> - the destination segment.     </dd><dd> <code>dstElementLayout</code> - the element layout associated with the destination segment.          </dd><dd> <code>dstOffset</code> - the starting offset, in bytes, of the destination segment.           </dd><dd> <code>elementCount</code> - the number of elements to be copied.         </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the element layouts have different sizes, if the source (resp. destination) segment/offset are <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the source (resp. destination) element layout, or if the source (resp. destination) element layout alignment is greater than its size.                                      </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with <code>srcSegment</code> is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.           </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>srcSegment().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with <code>dstSegment</code> is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.           </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>dstSegment().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>srcOffset + (elementCount * S) &gt; srcSegment.byteSize()      </code> or if <code>dstOffset + (elementCount * S) &gt; dstSegment.byteSize()      </code>, where <code>S</code> is the byte size of the element layouts, or if either <code>srcOffset</code>, <code>dstOffset</code> or <code>elementCount</code> are <code>&lt; 0 </code>.                          </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if the destination segment is read-only (see <a href="#isReadOnly()"><code>isReadOnly()</code></a>).          </dd>  </dl>  </section> <a end_ctx_id="method:copy(java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,long)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:get(java.lang.foreign.ValueLayout.OfByte,long) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:get(java.lang.foreign.ValueLayout.OfByte,long)"/> <section class="detail" id="get(java.lang.foreign.ValueLayout.OfByte,long)"><h3>get</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">byte</span><span class="element-name">get</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfByte.html" title="interface in java.lang.foreign">ValueLayout.OfByte</a><sup><a href="ValueLayout.OfByte.html#preview-java.lang.foreign.ValueLayout.OfByte">PREVIEW</a></sup>layout, longoffset) </span>   </div><div class="block">Reads a byte from this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd>a byte value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:get(java.lang.foreign.ValueLayout.OfByte,long)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:get(java.lang.foreign.ValueLayout.OfByte,long)"/> <section class="detail" id="get(java.lang.foreign.ValueLayout.OfByte,long)"><h3>get</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">byte</span><span class="element-name">get</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfByte.html" title="interface in java.lang.foreign">ValueLayout.OfByte</a><sup><a href="ValueLayout.OfByte.html#preview-java.lang.foreign.ValueLayout.OfByte">PREVIEW</a></sup>layout, longoffset) </span>   </div><div class="block">Reads a byte from this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd>a byte value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:get(java.lang.foreign.ValueLayout.OfByte,long)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:get(java.lang.foreign.ValueLayout.OfByte,long)"/> <section class="detail" id="get(java.lang.foreign.ValueLayout.OfByte,long)"><h3>get</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">byte</span><span class="element-name">get</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfByte.html" title="interface in java.lang.foreign">ValueLayout.OfByte</a><sup><a href="ValueLayout.OfByte.html#preview-java.lang.foreign.ValueLayout.OfByte">PREVIEW</a></sup>layout, longoffset) </span>   </div><div class="block">Reads a byte from this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd>a byte value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:get(java.lang.foreign.ValueLayout.OfByte,long)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:set(java.lang.foreign.ValueLayout.OfByte,long,byte) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:set(java.lang.foreign.ValueLayout.OfByte,long,byte)"/> <section class="detail" id="set(java.lang.foreign.ValueLayout.OfByte,long,byte)"><h3>set</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">set</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfByte.html" title="interface in java.lang.foreign">ValueLayout.OfByte</a><sup><a href="ValueLayout.OfByte.html#preview-java.lang.foreign.ValueLayout.OfByte">PREVIEW</a></sup>layout, longoffset, bytevalue)  </span>   </div><div class="block">Writes a byte into this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd><dd> <code>value</code> - the byte value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:set(java.lang.foreign.ValueLayout.OfByte,long,byte)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:set(java.lang.foreign.ValueLayout.OfByte,long,byte)"/> <section class="detail" id="set(java.lang.foreign.ValueLayout.OfByte,long,byte)"><h3>set</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">set</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfByte.html" title="interface in java.lang.foreign">ValueLayout.OfByte</a><sup><a href="ValueLayout.OfByte.html#preview-java.lang.foreign.ValueLayout.OfByte">PREVIEW</a></sup>layout, longoffset, bytevalue)  </span>   </div><div class="block">Writes a byte into this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd><dd> <code>value</code> - the byte value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:set(java.lang.foreign.ValueLayout.OfByte,long,byte)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:set(java.lang.foreign.ValueLayout.OfByte,long,byte)"/> <section class="detail" id="set(java.lang.foreign.ValueLayout.OfByte,long,byte)"><h3>set</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">set</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfByte.html" title="interface in java.lang.foreign">ValueLayout.OfByte</a><sup><a href="ValueLayout.OfByte.html#preview-java.lang.foreign.ValueLayout.OfByte">PREVIEW</a></sup>layout, longoffset, bytevalue)  </span>   </div><div class="block">Writes a byte into this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd><dd> <code>value</code> - the byte value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:set(java.lang.foreign.ValueLayout.OfByte,long,byte)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:get(java.lang.foreign.ValueLayout.OfBoolean,long) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:get(java.lang.foreign.ValueLayout.OfBoolean,long)"/> <section class="detail" id="get(java.lang.foreign.ValueLayout.OfBoolean,long)"><h3>get</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">boolean</span><span class="element-name">get</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfBoolean.html" title="interface in java.lang.foreign">ValueLayout.OfBoolean</a><sup><a href="ValueLayout.OfBoolean.html#preview-java.lang.foreign.ValueLayout.OfBoolean">PREVIEW</a></sup>layout, longoffset) </span>   </div><div class="block">Reads a boolean from this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd>a boolean value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:get(java.lang.foreign.ValueLayout.OfBoolean,long)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:get(java.lang.foreign.ValueLayout.OfBoolean,long)"/> <section class="detail" id="get(java.lang.foreign.ValueLayout.OfBoolean,long)"><h3>get</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">boolean</span><span class="element-name">get</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfBoolean.html" title="interface in java.lang.foreign">ValueLayout.OfBoolean</a><sup><a href="ValueLayout.OfBoolean.html#preview-java.lang.foreign.ValueLayout.OfBoolean">PREVIEW</a></sup>layout, longoffset) </span>   </div><div class="block">Reads a boolean from this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd>a boolean value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:get(java.lang.foreign.ValueLayout.OfBoolean,long)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:get(java.lang.foreign.ValueLayout.OfBoolean,long)"/> <section class="detail" id="get(java.lang.foreign.ValueLayout.OfBoolean,long)"><h3>get</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">boolean</span><span class="element-name">get</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfBoolean.html" title="interface in java.lang.foreign">ValueLayout.OfBoolean</a><sup><a href="ValueLayout.OfBoolean.html#preview-java.lang.foreign.ValueLayout.OfBoolean">PREVIEW</a></sup>layout, longoffset) </span>   </div><div class="block">Reads a boolean from this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd>a boolean value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:get(java.lang.foreign.ValueLayout.OfBoolean,long)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:set(java.lang.foreign.ValueLayout.OfBoolean,long,boolean) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:set(java.lang.foreign.ValueLayout.OfBoolean,long,boolean)"/> <section class="detail" id="set(java.lang.foreign.ValueLayout.OfBoolean,long,boolean)"><h3>set</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">set</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfBoolean.html" title="interface in java.lang.foreign">ValueLayout.OfBoolean</a><sup><a href="ValueLayout.OfBoolean.html#preview-java.lang.foreign.ValueLayout.OfBoolean">PREVIEW</a></sup>layout, longoffset, booleanvalue)  </span>   </div><div class="block">Writes a boolean into this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd><dd> <code>value</code> - the boolean value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:set(java.lang.foreign.ValueLayout.OfBoolean,long,boolean)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:set(java.lang.foreign.ValueLayout.OfBoolean,long,boolean)"/> <section class="detail" id="set(java.lang.foreign.ValueLayout.OfBoolean,long,boolean)"><h3>set</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">set</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfBoolean.html" title="interface in java.lang.foreign">ValueLayout.OfBoolean</a><sup><a href="ValueLayout.OfBoolean.html#preview-java.lang.foreign.ValueLayout.OfBoolean">PREVIEW</a></sup>layout, longoffset, booleanvalue)  </span>   </div><div class="block">Writes a boolean into this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd><dd> <code>value</code> - the boolean value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:set(java.lang.foreign.ValueLayout.OfBoolean,long,boolean)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:set(java.lang.foreign.ValueLayout.OfBoolean,long,boolean)"/> <section class="detail" id="set(java.lang.foreign.ValueLayout.OfBoolean,long,boolean)"><h3>set</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">set</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfBoolean.html" title="interface in java.lang.foreign">ValueLayout.OfBoolean</a><sup><a href="ValueLayout.OfBoolean.html#preview-java.lang.foreign.ValueLayout.OfBoolean">PREVIEW</a></sup>layout, longoffset, booleanvalue)  </span>   </div><div class="block">Writes a boolean into this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd><dd> <code>value</code> - the boolean value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:set(java.lang.foreign.ValueLayout.OfBoolean,long,boolean)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:get(java.lang.foreign.ValueLayout.OfChar,long) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:get(java.lang.foreign.ValueLayout.OfChar,long)"/> <section class="detail" id="get(java.lang.foreign.ValueLayout.OfChar,long)"><h3>get</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">char</span><span class="element-name">get</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfChar.html" title="interface in java.lang.foreign">ValueLayout.OfChar</a><sup><a href="ValueLayout.OfChar.html#preview-java.lang.foreign.ValueLayout.OfChar">PREVIEW</a></sup>layout, longoffset) </span>   </div><div class="block">Reads a char from this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd>a char value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:get(java.lang.foreign.ValueLayout.OfChar,long)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:get(java.lang.foreign.ValueLayout.OfChar,long)"/> <section class="detail" id="get(java.lang.foreign.ValueLayout.OfChar,long)"><h3>get</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">char</span><span class="element-name">get</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfChar.html" title="interface in java.lang.foreign">ValueLayout.OfChar</a><sup><a href="ValueLayout.OfChar.html#preview-java.lang.foreign.ValueLayout.OfChar">PREVIEW</a></sup>layout, longoffset) </span>   </div><div class="block">Reads a char from this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd>a char value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:get(java.lang.foreign.ValueLayout.OfChar,long)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:get(java.lang.foreign.ValueLayout.OfChar,long)"/> <section class="detail" id="get(java.lang.foreign.ValueLayout.OfChar,long)"><h3>get</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">char</span><span class="element-name">get</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfChar.html" title="interface in java.lang.foreign">ValueLayout.OfChar</a><sup><a href="ValueLayout.OfChar.html#preview-java.lang.foreign.ValueLayout.OfChar">PREVIEW</a></sup>layout, longoffset) </span>   </div><div class="block">Reads a char from this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd>a char value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:get(java.lang.foreign.ValueLayout.OfChar,long)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:set(java.lang.foreign.ValueLayout.OfChar,long,char) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:set(java.lang.foreign.ValueLayout.OfChar,long,char)"/> <section class="detail" id="set(java.lang.foreign.ValueLayout.OfChar,long,char)"><h3>set</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">set</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfChar.html" title="interface in java.lang.foreign">ValueLayout.OfChar</a><sup><a href="ValueLayout.OfChar.html#preview-java.lang.foreign.ValueLayout.OfChar">PREVIEW</a></sup>layout, longoffset, charvalue)  </span>   </div><div class="block">Writes a char into this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd><dd> <code>value</code> - the char value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:set(java.lang.foreign.ValueLayout.OfChar,long,char)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:set(java.lang.foreign.ValueLayout.OfChar,long,char)"/> <section class="detail" id="set(java.lang.foreign.ValueLayout.OfChar,long,char)"><h3>set</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">set</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfChar.html" title="interface in java.lang.foreign">ValueLayout.OfChar</a><sup><a href="ValueLayout.OfChar.html#preview-java.lang.foreign.ValueLayout.OfChar">PREVIEW</a></sup>layout, longoffset, charvalue)  </span>   </div><div class="block">Writes a char into this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd><dd> <code>value</code> - the char value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:set(java.lang.foreign.ValueLayout.OfChar,long,char)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:set(java.lang.foreign.ValueLayout.OfChar,long,char)"/> <section class="detail" id="set(java.lang.foreign.ValueLayout.OfChar,long,char)"><h3>set</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">set</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfChar.html" title="interface in java.lang.foreign">ValueLayout.OfChar</a><sup><a href="ValueLayout.OfChar.html#preview-java.lang.foreign.ValueLayout.OfChar">PREVIEW</a></sup>layout, longoffset, charvalue)  </span>   </div><div class="block">Writes a char into this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd><dd> <code>value</code> - the char value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:set(java.lang.foreign.ValueLayout.OfChar,long,char)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:get(java.lang.foreign.ValueLayout.OfShort,long) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:get(java.lang.foreign.ValueLayout.OfShort,long)"/> <section class="detail" id="get(java.lang.foreign.ValueLayout.OfShort,long)"><h3>get</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">short</span><span class="element-name">get</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfShort.html" title="interface in java.lang.foreign">ValueLayout.OfShort</a><sup><a href="ValueLayout.OfShort.html#preview-java.lang.foreign.ValueLayout.OfShort">PREVIEW</a></sup>layout, longoffset) </span>   </div><div class="block">Reads a short from this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd>a short value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:get(java.lang.foreign.ValueLayout.OfShort,long)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:get(java.lang.foreign.ValueLayout.OfShort,long)"/> <section class="detail" id="get(java.lang.foreign.ValueLayout.OfShort,long)"><h3>get</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">short</span><span class="element-name">get</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfShort.html" title="interface in java.lang.foreign">ValueLayout.OfShort</a><sup><a href="ValueLayout.OfShort.html#preview-java.lang.foreign.ValueLayout.OfShort">PREVIEW</a></sup>layout, longoffset) </span>   </div><div class="block">Reads a short from this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd>a short value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:get(java.lang.foreign.ValueLayout.OfShort,long)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:get(java.lang.foreign.ValueLayout.OfShort,long)"/> <section class="detail" id="get(java.lang.foreign.ValueLayout.OfShort,long)"><h3>get</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">short</span><span class="element-name">get</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfShort.html" title="interface in java.lang.foreign">ValueLayout.OfShort</a><sup><a href="ValueLayout.OfShort.html#preview-java.lang.foreign.ValueLayout.OfShort">PREVIEW</a></sup>layout, longoffset) </span>   </div><div class="block">Reads a short from this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd>a short value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:get(java.lang.foreign.ValueLayout.OfShort,long)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:set(java.lang.foreign.ValueLayout.OfShort,long,short) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:set(java.lang.foreign.ValueLayout.OfShort,long,short)"/> <section class="detail" id="set(java.lang.foreign.ValueLayout.OfShort,long,short)"><h3>set</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">set</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfShort.html" title="interface in java.lang.foreign">ValueLayout.OfShort</a><sup><a href="ValueLayout.OfShort.html#preview-java.lang.foreign.ValueLayout.OfShort">PREVIEW</a></sup>layout, longoffset, shortvalue)  </span>   </div><div class="block">Writes a short into this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd><dd> <code>value</code> - the short value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:set(java.lang.foreign.ValueLayout.OfShort,long,short)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:set(java.lang.foreign.ValueLayout.OfShort,long,short)"/> <section class="detail" id="set(java.lang.foreign.ValueLayout.OfShort,long,short)"><h3>set</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">set</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfShort.html" title="interface in java.lang.foreign">ValueLayout.OfShort</a><sup><a href="ValueLayout.OfShort.html#preview-java.lang.foreign.ValueLayout.OfShort">PREVIEW</a></sup>layout, longoffset, shortvalue)  </span>   </div><div class="block">Writes a short into this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd><dd> <code>value</code> - the short value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:set(java.lang.foreign.ValueLayout.OfShort,long,short)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:set(java.lang.foreign.ValueLayout.OfShort,long,short)"/> <section class="detail" id="set(java.lang.foreign.ValueLayout.OfShort,long,short)"><h3>set</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">set</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfShort.html" title="interface in java.lang.foreign">ValueLayout.OfShort</a><sup><a href="ValueLayout.OfShort.html#preview-java.lang.foreign.ValueLayout.OfShort">PREVIEW</a></sup>layout, longoffset, shortvalue)  </span>   </div><div class="block">Writes a short into this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd><dd> <code>value</code> - the short value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:set(java.lang.foreign.ValueLayout.OfShort,long,short)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:get(java.lang.foreign.ValueLayout.OfInt,long) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:get(java.lang.foreign.ValueLayout.OfInt,long)"/> <section class="detail" id="get(java.lang.foreign.ValueLayout.OfInt,long)"><h3>get</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">int</span><span class="element-name">get</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfInt.html" title="interface in java.lang.foreign">ValueLayout.OfInt</a><sup><a href="ValueLayout.OfInt.html#preview-java.lang.foreign.ValueLayout.OfInt">PREVIEW</a></sup>layout, longoffset) </span>   </div><div class="block">Reads an int from this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd>an int value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:get(java.lang.foreign.ValueLayout.OfInt,long)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:get(java.lang.foreign.ValueLayout.OfInt,long)"/> <section class="detail" id="get(java.lang.foreign.ValueLayout.OfInt,long)"><h3>get</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">int</span><span class="element-name">get</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfInt.html" title="interface in java.lang.foreign">ValueLayout.OfInt</a><sup><a href="ValueLayout.OfInt.html#preview-java.lang.foreign.ValueLayout.OfInt">PREVIEW</a></sup>layout, longoffset) </span>   </div><div class="block">Reads an int from this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd>an int value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:get(java.lang.foreign.ValueLayout.OfInt,long)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:get(java.lang.foreign.ValueLayout.OfInt,long)"/> <section class="detail" id="get(java.lang.foreign.ValueLayout.OfInt,long)"><h3>get</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">int</span><span class="element-name">get</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfInt.html" title="interface in java.lang.foreign">ValueLayout.OfInt</a><sup><a href="ValueLayout.OfInt.html#preview-java.lang.foreign.ValueLayout.OfInt">PREVIEW</a></sup>layout, longoffset) </span>   </div><div class="block">Reads an int from this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd>an int value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:get(java.lang.foreign.ValueLayout.OfInt,long)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:set(java.lang.foreign.ValueLayout.OfInt,long,int) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:set(java.lang.foreign.ValueLayout.OfInt,long,int)"/> <section class="detail" id="set(java.lang.foreign.ValueLayout.OfInt,long,int)"><h3>set</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">set</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfInt.html" title="interface in java.lang.foreign">ValueLayout.OfInt</a><sup><a href="ValueLayout.OfInt.html#preview-java.lang.foreign.ValueLayout.OfInt">PREVIEW</a></sup>layout, longoffset, intvalue)  </span>   </div><div class="block">Writes an int into this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd><dd> <code>value</code> - the int value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:set(java.lang.foreign.ValueLayout.OfInt,long,int)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:set(java.lang.foreign.ValueLayout.OfInt,long,int)"/> <section class="detail" id="set(java.lang.foreign.ValueLayout.OfInt,long,int)"><h3>set</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">set</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfInt.html" title="interface in java.lang.foreign">ValueLayout.OfInt</a><sup><a href="ValueLayout.OfInt.html#preview-java.lang.foreign.ValueLayout.OfInt">PREVIEW</a></sup>layout, longoffset, intvalue)  </span>   </div><div class="block">Writes an int into this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd><dd> <code>value</code> - the int value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:set(java.lang.foreign.ValueLayout.OfInt,long,int)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:set(java.lang.foreign.ValueLayout.OfInt,long,int)"/> <section class="detail" id="set(java.lang.foreign.ValueLayout.OfInt,long,int)"><h3>set</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">set</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfInt.html" title="interface in java.lang.foreign">ValueLayout.OfInt</a><sup><a href="ValueLayout.OfInt.html#preview-java.lang.foreign.ValueLayout.OfInt">PREVIEW</a></sup>layout, longoffset, intvalue)  </span>   </div><div class="block">Writes an int into this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd><dd> <code>value</code> - the int value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:set(java.lang.foreign.ValueLayout.OfInt,long,int)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:get(java.lang.foreign.ValueLayout.OfFloat,long) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:get(java.lang.foreign.ValueLayout.OfFloat,long)"/> <section class="detail" id="get(java.lang.foreign.ValueLayout.OfFloat,long)"><h3>get</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">float</span><span class="element-name">get</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfFloat.html" title="interface in java.lang.foreign">ValueLayout.OfFloat</a><sup><a href="ValueLayout.OfFloat.html#preview-java.lang.foreign.ValueLayout.OfFloat">PREVIEW</a></sup>layout, longoffset) </span>   </div><div class="block">Reads a float from this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd>a float value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:get(java.lang.foreign.ValueLayout.OfFloat,long)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:get(java.lang.foreign.ValueLayout.OfFloat,long)"/> <section class="detail" id="get(java.lang.foreign.ValueLayout.OfFloat,long)"><h3>get</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">float</span><span class="element-name">get</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfFloat.html" title="interface in java.lang.foreign">ValueLayout.OfFloat</a><sup><a href="ValueLayout.OfFloat.html#preview-java.lang.foreign.ValueLayout.OfFloat">PREVIEW</a></sup>layout, longoffset) </span>   </div><div class="block">Reads a float from this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd>a float value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:get(java.lang.foreign.ValueLayout.OfFloat,long)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:get(java.lang.foreign.ValueLayout.OfFloat,long)"/> <section class="detail" id="get(java.lang.foreign.ValueLayout.OfFloat,long)"><h3>get</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">float</span><span class="element-name">get</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfFloat.html" title="interface in java.lang.foreign">ValueLayout.OfFloat</a><sup><a href="ValueLayout.OfFloat.html#preview-java.lang.foreign.ValueLayout.OfFloat">PREVIEW</a></sup>layout, longoffset) </span>   </div><div class="block">Reads a float from this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd>a float value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:get(java.lang.foreign.ValueLayout.OfFloat,long)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:set(java.lang.foreign.ValueLayout.OfFloat,long,float) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:set(java.lang.foreign.ValueLayout.OfFloat,long,float)"/> <section class="detail" id="set(java.lang.foreign.ValueLayout.OfFloat,long,float)"><h3>set</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">set</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfFloat.html" title="interface in java.lang.foreign">ValueLayout.OfFloat</a><sup><a href="ValueLayout.OfFloat.html#preview-java.lang.foreign.ValueLayout.OfFloat">PREVIEW</a></sup>layout, longoffset, floatvalue)  </span>   </div><div class="block">Writes a float into this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd><dd> <code>value</code> - the float value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:set(java.lang.foreign.ValueLayout.OfFloat,long,float)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:set(java.lang.foreign.ValueLayout.OfFloat,long,float)"/> <section class="detail" id="set(java.lang.foreign.ValueLayout.OfFloat,long,float)"><h3>set</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">set</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfFloat.html" title="interface in java.lang.foreign">ValueLayout.OfFloat</a><sup><a href="ValueLayout.OfFloat.html#preview-java.lang.foreign.ValueLayout.OfFloat">PREVIEW</a></sup>layout, longoffset, floatvalue)  </span>   </div><div class="block">Writes a float into this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd><dd> <code>value</code> - the float value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:set(java.lang.foreign.ValueLayout.OfFloat,long,float)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:set(java.lang.foreign.ValueLayout.OfFloat,long,float)"/> <section class="detail" id="set(java.lang.foreign.ValueLayout.OfFloat,long,float)"><h3>set</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">set</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfFloat.html" title="interface in java.lang.foreign">ValueLayout.OfFloat</a><sup><a href="ValueLayout.OfFloat.html#preview-java.lang.foreign.ValueLayout.OfFloat">PREVIEW</a></sup>layout, longoffset, floatvalue)  </span>   </div><div class="block">Writes a float into this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd><dd> <code>value</code> - the float value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:set(java.lang.foreign.ValueLayout.OfFloat,long,float)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:get(java.lang.foreign.ValueLayout.OfLong,long) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:get(java.lang.foreign.ValueLayout.OfLong,long)"/> <section class="detail" id="get(java.lang.foreign.ValueLayout.OfLong,long)"><h3>get</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">long</span><span class="element-name">get</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfLong.html" title="interface in java.lang.foreign">ValueLayout.OfLong</a><sup><a href="ValueLayout.OfLong.html#preview-java.lang.foreign.ValueLayout.OfLong">PREVIEW</a></sup>layout, longoffset) </span>   </div><div class="block">Reads a long from this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd>a long value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:get(java.lang.foreign.ValueLayout.OfLong,long)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:get(java.lang.foreign.ValueLayout.OfLong,long)"/> <section class="detail" id="get(java.lang.foreign.ValueLayout.OfLong,long)"><h3>get</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">long</span><span class="element-name">get</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfLong.html" title="interface in java.lang.foreign">ValueLayout.OfLong</a><sup><a href="ValueLayout.OfLong.html#preview-java.lang.foreign.ValueLayout.OfLong">PREVIEW</a></sup>layout, longoffset) </span>   </div><div class="block">Reads a long from this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd>a long value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:get(java.lang.foreign.ValueLayout.OfLong,long)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:get(java.lang.foreign.ValueLayout.OfLong,long)"/> <section class="detail" id="get(java.lang.foreign.ValueLayout.OfLong,long)"><h3>get</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">long</span><span class="element-name">get</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfLong.html" title="interface in java.lang.foreign">ValueLayout.OfLong</a><sup><a href="ValueLayout.OfLong.html#preview-java.lang.foreign.ValueLayout.OfLong">PREVIEW</a></sup>layout, longoffset) </span>   </div><div class="block">Reads a long from this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd>a long value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:get(java.lang.foreign.ValueLayout.OfLong,long)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:set(java.lang.foreign.ValueLayout.OfLong,long,long) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:set(java.lang.foreign.ValueLayout.OfLong,long,long)"/> <section class="detail" id="set(java.lang.foreign.ValueLayout.OfLong,long,long)"><h3>set</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">set</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfLong.html" title="interface in java.lang.foreign">ValueLayout.OfLong</a><sup><a href="ValueLayout.OfLong.html#preview-java.lang.foreign.ValueLayout.OfLong">PREVIEW</a></sup>layout, longoffset, longvalue)  </span>   </div><div class="block">Writes a long into this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd><dd> <code>value</code> - the long value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:set(java.lang.foreign.ValueLayout.OfLong,long,long)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:set(java.lang.foreign.ValueLayout.OfLong,long,long)"/> <section class="detail" id="set(java.lang.foreign.ValueLayout.OfLong,long,long)"><h3>set</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">set</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfLong.html" title="interface in java.lang.foreign">ValueLayout.OfLong</a><sup><a href="ValueLayout.OfLong.html#preview-java.lang.foreign.ValueLayout.OfLong">PREVIEW</a></sup>layout, longoffset, longvalue)  </span>   </div><div class="block">Writes a long into this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd><dd> <code>value</code> - the long value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:set(java.lang.foreign.ValueLayout.OfLong,long,long)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:set(java.lang.foreign.ValueLayout.OfLong,long,long)"/> <section class="detail" id="set(java.lang.foreign.ValueLayout.OfLong,long,long)"><h3>set</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">set</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfLong.html" title="interface in java.lang.foreign">ValueLayout.OfLong</a><sup><a href="ValueLayout.OfLong.html#preview-java.lang.foreign.ValueLayout.OfLong">PREVIEW</a></sup>layout, longoffset, longvalue)  </span>   </div><div class="block">Writes a long into this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd><dd> <code>value</code> - the long value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:set(java.lang.foreign.ValueLayout.OfLong,long,long)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:get(java.lang.foreign.ValueLayout.OfDouble,long) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:get(java.lang.foreign.ValueLayout.OfDouble,long)"/> <section class="detail" id="get(java.lang.foreign.ValueLayout.OfDouble,long)"><h3>get</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">double</span><span class="element-name">get</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfDouble.html" title="interface in java.lang.foreign">ValueLayout.OfDouble</a><sup><a href="ValueLayout.OfDouble.html#preview-java.lang.foreign.ValueLayout.OfDouble">PREVIEW</a></sup>layout, longoffset) </span>   </div><div class="block">Reads a double from this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd>a double value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:get(java.lang.foreign.ValueLayout.OfDouble,long)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:get(java.lang.foreign.ValueLayout.OfDouble,long)"/> <section class="detail" id="get(java.lang.foreign.ValueLayout.OfDouble,long)"><h3>get</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">double</span><span class="element-name">get</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfDouble.html" title="interface in java.lang.foreign">ValueLayout.OfDouble</a><sup><a href="ValueLayout.OfDouble.html#preview-java.lang.foreign.ValueLayout.OfDouble">PREVIEW</a></sup>layout, longoffset) </span>   </div><div class="block">Reads a double from this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd>a double value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:get(java.lang.foreign.ValueLayout.OfDouble,long)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:get(java.lang.foreign.ValueLayout.OfDouble,long)"/> <section class="detail" id="get(java.lang.foreign.ValueLayout.OfDouble,long)"><h3>get</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">double</span><span class="element-name">get</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfDouble.html" title="interface in java.lang.foreign">ValueLayout.OfDouble</a><sup><a href="ValueLayout.OfDouble.html#preview-java.lang.foreign.ValueLayout.OfDouble">PREVIEW</a></sup>layout, longoffset) </span>   </div><div class="block">Reads a double from this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd>a double value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:get(java.lang.foreign.ValueLayout.OfDouble,long)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:set(java.lang.foreign.ValueLayout.OfDouble,long,double) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:set(java.lang.foreign.ValueLayout.OfDouble,long,double)"/> <section class="detail" id="set(java.lang.foreign.ValueLayout.OfDouble,long,double)"><h3>set</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">set</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfDouble.html" title="interface in java.lang.foreign">ValueLayout.OfDouble</a><sup><a href="ValueLayout.OfDouble.html#preview-java.lang.foreign.ValueLayout.OfDouble">PREVIEW</a></sup>layout, longoffset, doublevalue)  </span>   </div><div class="block">Writes a double into this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd><dd> <code>value</code> - the double value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:set(java.lang.foreign.ValueLayout.OfDouble,long,double)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:set(java.lang.foreign.ValueLayout.OfDouble,long,double)"/> <section class="detail" id="set(java.lang.foreign.ValueLayout.OfDouble,long,double)"><h3>set</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">set</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfDouble.html" title="interface in java.lang.foreign">ValueLayout.OfDouble</a><sup><a href="ValueLayout.OfDouble.html#preview-java.lang.foreign.ValueLayout.OfDouble">PREVIEW</a></sup>layout, longoffset, doublevalue)  </span>   </div><div class="block">Writes a double into this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd><dd> <code>value</code> - the double value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:set(java.lang.foreign.ValueLayout.OfDouble,long,double)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:set(java.lang.foreign.ValueLayout.OfDouble,long,double)"/> <section class="detail" id="set(java.lang.foreign.ValueLayout.OfDouble,long,double)"><h3>set</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">set</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfDouble.html" title="interface in java.lang.foreign">ValueLayout.OfDouble</a><sup><a href="ValueLayout.OfDouble.html#preview-java.lang.foreign.ValueLayout.OfDouble">PREVIEW</a></sup>layout, longoffset, doublevalue)  </span>   </div><div class="block">Writes a double into this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd><dd> <code>value</code> - the double value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:set(java.lang.foreign.ValueLayout.OfDouble,long,double)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:get(java.lang.foreign.ValueLayout.OfAddress,long) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:get(java.lang.foreign.ValueLayout.OfAddress,long)"/> <section class="detail" id="get(java.lang.foreign.ValueLayout.OfAddress,long)"><h3>get</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">get</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfAddress.html" title="interface in java.lang.foreign">ValueLayout.OfAddress</a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress">PREVIEW</a></sup>layout, longoffset) </span>   </div><div class="block"> Reads an address from this segment at the given offset, with the given layout. The read address is wrapped in a native segment, associated with <span class="diff-html-removed">theglobal</span><span class="diff-html-added">a</span> <span class="diff-html-added">fresh</span> scope <sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-added">that</span> <span class="diff-html-added">is</span> <span class="diff-html-added">always</span> <span class="diff-html-added">alive</span>. Under normal conditions, the size of the returned segment is <code>0</code>. However, if the provided <span class="diff-html-added">address</span> layout <span class="diff-html-removed">is</span> <span class="diff-html-removed">an</span> <a href="ValueLayout.OfAddress.html#asUnbounded()" changeType="diff-removed-tag"><span class="diff-html-removed">unbounded</span></a><span class="diff-html-added">has</span> <span class="diff-html-added">a</span> <a href="ValueLayout.OfAddress.html#targetLayout()"><span class="diff-html-added">ValueLayout.OfAddress.targetLayout()</span></a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress">PREVIEW</a></sup><code> <span class="diff-html-removed">address</span> <span class="diff-html-removed">layout</span><span class="diff-html-added">T</span>  </code>, then the size of the returned segment is <code changeType="diff-removed-tag"><span class="diff-html-removed">Long.MAX_VALUE</span></code><span class="diff-html-added">set</span> <span class="diff-html-added">to</span> <code><span class="diff-html-added">T.byteSize()</span></code>.                                                                 </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd>a native segment wrapping an address read from this segment.         </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout<span class="diff-html-added">.</span>            </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang"><span class="diff-html-added">IllegalArgumentException</span></a></code> <span class="diff-html-added">-</span> <span class="diff-html-added">if</span> <span class="diff-html-added">provided</span> <span class="diff-html-added">address</span> <span class="diff-html-added">layout</span> <span class="diff-html-added">has</span> <span class="diff-html-added">a</span> <a href="ValueLayout.OfAddress.html#targetLayout()"><span class="diff-html-added">target</span> <span class="diff-html-added">layout</span> </a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress"><span class="diff-html-added">PREVIEW</span></a></sup><code><span class="diff-html-added">T</span></code><span class="diff-html-added">,</span> <span class="diff-html-added">and</span> <span class="diff-html-added">the</span> <span class="diff-html-added">address</span> <span class="diff-html-added">of</span> <span class="diff-html-added">the</span> <span class="diff-html-added">returned</span> <span class="diff-html-added">segment</span> <a href="MemorySegment.html#segment-alignment"><span class="diff-html-added">incompatible</span> <span class="diff-html-added">with</span> <span class="diff-html-added">the</span> <span class="diff-html-added">alignment</span> <span class="diff-html-added">constraint</span>    </a> <span class="diff-html-added">in</span> <code><span class="diff-html-added">T</span></code>.                   </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:get(java.lang.foreign.ValueLayout.OfAddress,long)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:get(java.lang.foreign.ValueLayout.OfAddress,long)"/> <section class="detail" id="get(java.lang.foreign.ValueLayout.OfAddress,long)"><h3>get</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">get</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfAddress.html" title="interface in java.lang.foreign">ValueLayout.OfAddress</a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress">PREVIEW</a></sup>layout, longoffset) </span>   </div><div class="block"> Reads an address from this segment at the given offset, with the given layout. The read address is wrapped in a native segment, associated with the <a href="SegmentScope.html#global()">global scope </a><sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>. Under normal conditions, the size of the returned segment is <code>0</code>. However, if the provided layout is an <a href="ValueLayout.OfAddress.html#asUnbounded()" changeType="diff-removed-tag">unbounded</a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress">PREVIEW</a></sup> address layout, then the size of the returned segment is <code changeType="diff-removed-tag">Long.MAX_VALUE</code>.                                                         </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd>a native segment wrapping an address read from this segment.         </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:get(java.lang.foreign.ValueLayout.OfAddress,long)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:get(java.lang.foreign.ValueLayout.OfAddress,long)"/> <section class="detail" id="get(java.lang.foreign.ValueLayout.OfAddress,long)"><h3>get</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">get</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfAddress.html" title="interface in java.lang.foreign">ValueLayout.OfAddress</a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress">PREVIEW</a></sup>layout, longoffset) </span>   </div><div class="block"> Reads an address from this segment at the given offset, with the given layout. The read address is wrapped in a native segment, associated with a fresh scope that is always alive. Under normal conditions, the size of the returned segment is <code>0</code>. However, if the provided address layout has a <a href="ValueLayout.OfAddress.html#targetLayout()">ValueLayout.OfAddress.targetLayout()</a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress">PREVIEW</a></sup><code>T</code>, then the size of the returned segment is set to <code>T.byteSize()</code>.                                                               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd> <dt>Returns:</dt><dd>a native segment wrapping an address read from this segment.         </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if provided address layout has a <a href="ValueLayout.OfAddress.html#targetLayout()">target layout </a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress">PREVIEW</a></sup><code>T</code>, and the address of the returned segment <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in <code>T</code>.                   </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:get(java.lang.foreign.ValueLayout.OfAddress,long)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:set(java.lang.foreign.ValueLayout.OfAddress,long,java.lang.foreign.MemorySegment) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:set(java.lang.foreign.ValueLayout.OfAddress,long,java.lang.foreign.MemorySegment)"/> <section class="detail" id="set(java.lang.foreign.ValueLayout.OfAddress,long,java.lang.foreign.MemorySegment)"><h3>set</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">set</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfAddress.html" title="interface in java.lang.foreign">ValueLayout.OfAddress</a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress">PREVIEW</a></sup>layout, longoffset, <a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>value)  </span>   </div><div class="block">Writes an address into this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd><dd> <code>value</code> - the address value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if <code>value</code> is not a <a href="#isNative()">native</a> segment.         </dd>  </dl>  </section> <a end_ctx_id="method:set(java.lang.foreign.ValueLayout.OfAddress,long,java.lang.foreign.MemorySegment)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:set(java.lang.foreign.ValueLayout.OfAddress,long,java.lang.foreign.MemorySegment)"/> <section class="detail" id="set(java.lang.foreign.ValueLayout.OfAddress,long,java.lang.foreign.MemorySegment)"><h3>set</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">set</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfAddress.html" title="interface in java.lang.foreign">ValueLayout.OfAddress</a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress">PREVIEW</a></sup>layout, longoffset, <a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>value)  </span>   </div><div class="block">Writes an address into this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd><dd> <code>value</code> - the address value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if <code>value</code> is not a <a href="#isNative()">native</a> segment.         </dd>  </dl>  </section> <a end_ctx_id="method:set(java.lang.foreign.ValueLayout.OfAddress,long,java.lang.foreign.MemorySegment)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:set(java.lang.foreign.ValueLayout.OfAddress,long,java.lang.foreign.MemorySegment)"/> <section class="detail" id="set(java.lang.foreign.ValueLayout.OfAddress,long,java.lang.foreign.MemorySegment)"><h3>set</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">set</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfAddress.html" title="interface in java.lang.foreign">ValueLayout.OfAddress</a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress">PREVIEW</a></sup>layout, longoffset, <a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>value)  </span>   </div><div class="block">Writes an address into this segment at the given offset, with the given layout.             </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>offset</code> - offset in bytes (relative to this segment address) at which this access operation will occur.                 </dd><dd> <code>value</code> - the address value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout.            </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if <code>value</code> is not a <a href="#isNative()">native</a> segment.         </dd>  </dl>  </section> <a end_ctx_id="method:set(java.lang.foreign.ValueLayout.OfAddress,long,java.lang.foreign.MemorySegment)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:getAtIndex(java.lang.foreign.ValueLayout.OfChar,long) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfChar,long)"/> <section class="detail" id="getAtIndex(java.lang.foreign.ValueLayout.OfChar,long)"><h3>getAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">char</span><span class="element-name">getAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfChar.html" title="interface in java.lang.foreign">ValueLayout.OfChar</a><sup><a href="ValueLayout.OfChar.html#preview-java.lang.foreign.ValueLayout.OfChar">PREVIEW</a></sup>layout, longindex) </span>   </div><div class="block">Reads a char from this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd> <dt>Returns:</dt><dd>a char value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfChar,long)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfChar,long)"/> <section class="detail" id="getAtIndex(java.lang.foreign.ValueLayout.OfChar,long)"><h3>getAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">char</span><span class="element-name">getAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfChar.html" title="interface in java.lang.foreign">ValueLayout.OfChar</a><sup><a href="ValueLayout.OfChar.html#preview-java.lang.foreign.ValueLayout.OfChar">PREVIEW</a></sup>layout, longindex) </span>   </div><div class="block">Reads a char from this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd> <dt>Returns:</dt><dd>a char value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfChar,long)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfChar,long)"/> <section class="detail" id="getAtIndex(java.lang.foreign.ValueLayout.OfChar,long)"><h3>getAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">char</span><span class="element-name">getAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfChar.html" title="interface in java.lang.foreign">ValueLayout.OfChar</a><sup><a href="ValueLayout.OfChar.html#preview-java.lang.foreign.ValueLayout.OfChar">PREVIEW</a></sup>layout, longindex) </span>   </div><div class="block">Reads a char from this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd> <dt>Returns:</dt><dd>a char value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfChar,long)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:setAtIndex(java.lang.foreign.ValueLayout.OfChar,long,char) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfChar,long,char)"/> <section class="detail" id="setAtIndex(java.lang.foreign.ValueLayout.OfChar,long,char)"><h3>setAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">setAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfChar.html" title="interface in java.lang.foreign">ValueLayout.OfChar</a><sup><a href="ValueLayout.OfChar.html#preview-java.lang.foreign.ValueLayout.OfChar">PREVIEW</a></sup>layout, longindex, charvalue)  </span>   </div><div class="block">Writes a char into this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd><dd> <code>value</code> - the char value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfChar,long,char)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfChar,long,char)"/> <section class="detail" id="setAtIndex(java.lang.foreign.ValueLayout.OfChar,long,char)"><h3>setAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">setAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfChar.html" title="interface in java.lang.foreign">ValueLayout.OfChar</a><sup><a href="ValueLayout.OfChar.html#preview-java.lang.foreign.ValueLayout.OfChar">PREVIEW</a></sup>layout, longindex, charvalue)  </span>   </div><div class="block">Writes a char into this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd><dd> <code>value</code> - the char value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfChar,long,char)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfChar,long,char)"/> <section class="detail" id="setAtIndex(java.lang.foreign.ValueLayout.OfChar,long,char)"><h3>setAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">setAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfChar.html" title="interface in java.lang.foreign">ValueLayout.OfChar</a><sup><a href="ValueLayout.OfChar.html#preview-java.lang.foreign.ValueLayout.OfChar">PREVIEW</a></sup>layout, longindex, charvalue)  </span>   </div><div class="block">Writes a char into this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd><dd> <code>value</code> - the char value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfChar,long,char)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:getAtIndex(java.lang.foreign.ValueLayout.OfShort,long) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfShort,long)"/> <section class="detail" id="getAtIndex(java.lang.foreign.ValueLayout.OfShort,long)"><h3>getAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">short</span><span class="element-name">getAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfShort.html" title="interface in java.lang.foreign">ValueLayout.OfShort</a><sup><a href="ValueLayout.OfShort.html#preview-java.lang.foreign.ValueLayout.OfShort">PREVIEW</a></sup>layout, longindex) </span>   </div><div class="block">Reads a short from this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd> <dt>Returns:</dt><dd>a short value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfShort,long)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfShort,long)"/> <section class="detail" id="getAtIndex(java.lang.foreign.ValueLayout.OfShort,long)"><h3>getAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">short</span><span class="element-name">getAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfShort.html" title="interface in java.lang.foreign">ValueLayout.OfShort</a><sup><a href="ValueLayout.OfShort.html#preview-java.lang.foreign.ValueLayout.OfShort">PREVIEW</a></sup>layout, longindex) </span>   </div><div class="block">Reads a short from this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd> <dt>Returns:</dt><dd>a short value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfShort,long)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfShort,long)"/> <section class="detail" id="getAtIndex(java.lang.foreign.ValueLayout.OfShort,long)"><h3>getAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">short</span><span class="element-name">getAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfShort.html" title="interface in java.lang.foreign">ValueLayout.OfShort</a><sup><a href="ValueLayout.OfShort.html#preview-java.lang.foreign.ValueLayout.OfShort">PREVIEW</a></sup>layout, longindex) </span>   </div><div class="block">Reads a short from this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd> <dt>Returns:</dt><dd>a short value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfShort,long)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:setAtIndex(java.lang.foreign.ValueLayout.OfShort,long,short) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfShort,long,short)"/> <section class="detail" id="setAtIndex(java.lang.foreign.ValueLayout.OfShort,long,short)"><h3>setAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">setAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfShort.html" title="interface in java.lang.foreign">ValueLayout.OfShort</a><sup><a href="ValueLayout.OfShort.html#preview-java.lang.foreign.ValueLayout.OfShort">PREVIEW</a></sup>layout, longindex, shortvalue)  </span>   </div><div class="block">Writes a short into this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd><dd> <code>value</code> - the short value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfShort,long,short)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfShort,long,short)"/> <section class="detail" id="setAtIndex(java.lang.foreign.ValueLayout.OfShort,long,short)"><h3>setAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">setAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfShort.html" title="interface in java.lang.foreign">ValueLayout.OfShort</a><sup><a href="ValueLayout.OfShort.html#preview-java.lang.foreign.ValueLayout.OfShort">PREVIEW</a></sup>layout, longindex, shortvalue)  </span>   </div><div class="block">Writes a short into this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd><dd> <code>value</code> - the short value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfShort,long,short)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfShort,long,short)"/> <section class="detail" id="setAtIndex(java.lang.foreign.ValueLayout.OfShort,long,short)"><h3>setAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">setAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfShort.html" title="interface in java.lang.foreign">ValueLayout.OfShort</a><sup><a href="ValueLayout.OfShort.html#preview-java.lang.foreign.ValueLayout.OfShort">PREVIEW</a></sup>layout, longindex, shortvalue)  </span>   </div><div class="block">Writes a short into this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd><dd> <code>value</code> - the short value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfShort,long,short)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:getAtIndex(java.lang.foreign.ValueLayout.OfInt,long) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfInt,long)"/> <section class="detail" id="getAtIndex(java.lang.foreign.ValueLayout.OfInt,long)"><h3>getAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">int</span><span class="element-name">getAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfInt.html" title="interface in java.lang.foreign">ValueLayout.OfInt</a><sup><a href="ValueLayout.OfInt.html#preview-java.lang.foreign.ValueLayout.OfInt">PREVIEW</a></sup>layout, longindex) </span>   </div><div class="block">Reads an int from this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd> <dt>Returns:</dt><dd>an int value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfInt,long)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfInt,long)"/> <section class="detail" id="getAtIndex(java.lang.foreign.ValueLayout.OfInt,long)"><h3>getAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">int</span><span class="element-name">getAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfInt.html" title="interface in java.lang.foreign">ValueLayout.OfInt</a><sup><a href="ValueLayout.OfInt.html#preview-java.lang.foreign.ValueLayout.OfInt">PREVIEW</a></sup>layout, longindex) </span>   </div><div class="block">Reads an int from this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd> <dt>Returns:</dt><dd>an int value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfInt,long)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfInt,long)"/> <section class="detail" id="getAtIndex(java.lang.foreign.ValueLayout.OfInt,long)"><h3>getAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">int</span><span class="element-name">getAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfInt.html" title="interface in java.lang.foreign">ValueLayout.OfInt</a><sup><a href="ValueLayout.OfInt.html#preview-java.lang.foreign.ValueLayout.OfInt">PREVIEW</a></sup>layout, longindex) </span>   </div><div class="block">Reads an int from this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd> <dt>Returns:</dt><dd>an int value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfInt,long)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:setAtIndex(java.lang.foreign.ValueLayout.OfInt,long,int) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfInt,long,int)"/> <section class="detail" id="setAtIndex(java.lang.foreign.ValueLayout.OfInt,long,int)"><h3>setAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">setAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfInt.html" title="interface in java.lang.foreign">ValueLayout.OfInt</a><sup><a href="ValueLayout.OfInt.html#preview-java.lang.foreign.ValueLayout.OfInt">PREVIEW</a></sup>layout, longindex, intvalue)  </span>   </div><div class="block">Writes an int into this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd><dd> <code>value</code> - the int value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfInt,long,int)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfInt,long,int)"/> <section class="detail" id="setAtIndex(java.lang.foreign.ValueLayout.OfInt,long,int)"><h3>setAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">setAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfInt.html" title="interface in java.lang.foreign">ValueLayout.OfInt</a><sup><a href="ValueLayout.OfInt.html#preview-java.lang.foreign.ValueLayout.OfInt">PREVIEW</a></sup>layout, longindex, intvalue)  </span>   </div><div class="block">Writes an int into this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd><dd> <code>value</code> - the int value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfInt,long,int)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfInt,long,int)"/> <section class="detail" id="setAtIndex(java.lang.foreign.ValueLayout.OfInt,long,int)"><h3>setAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">setAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfInt.html" title="interface in java.lang.foreign">ValueLayout.OfInt</a><sup><a href="ValueLayout.OfInt.html#preview-java.lang.foreign.ValueLayout.OfInt">PREVIEW</a></sup>layout, longindex, intvalue)  </span>   </div><div class="block">Writes an int into this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd><dd> <code>value</code> - the int value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfInt,long,int)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:getAtIndex(java.lang.foreign.ValueLayout.OfFloat,long) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfFloat,long)"/> <section class="detail" id="getAtIndex(java.lang.foreign.ValueLayout.OfFloat,long)"><h3>getAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">float</span><span class="element-name">getAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfFloat.html" title="interface in java.lang.foreign">ValueLayout.OfFloat</a><sup><a href="ValueLayout.OfFloat.html#preview-java.lang.foreign.ValueLayout.OfFloat">PREVIEW</a></sup>layout, longindex) </span>   </div><div class="block">Reads a float from this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd> <dt>Returns:</dt><dd>a float value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfFloat,long)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfFloat,long)"/> <section class="detail" id="getAtIndex(java.lang.foreign.ValueLayout.OfFloat,long)"><h3>getAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">float</span><span class="element-name">getAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfFloat.html" title="interface in java.lang.foreign">ValueLayout.OfFloat</a><sup><a href="ValueLayout.OfFloat.html#preview-java.lang.foreign.ValueLayout.OfFloat">PREVIEW</a></sup>layout, longindex) </span>   </div><div class="block">Reads a float from this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd> <dt>Returns:</dt><dd>a float value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfFloat,long)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfFloat,long)"/> <section class="detail" id="getAtIndex(java.lang.foreign.ValueLayout.OfFloat,long)"><h3>getAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">float</span><span class="element-name">getAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfFloat.html" title="interface in java.lang.foreign">ValueLayout.OfFloat</a><sup><a href="ValueLayout.OfFloat.html#preview-java.lang.foreign.ValueLayout.OfFloat">PREVIEW</a></sup>layout, longindex) </span>   </div><div class="block">Reads a float from this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd> <dt>Returns:</dt><dd>a float value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfFloat,long)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:setAtIndex(java.lang.foreign.ValueLayout.OfFloat,long,float) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfFloat,long,float)"/> <section class="detail" id="setAtIndex(java.lang.foreign.ValueLayout.OfFloat,long,float)"><h3>setAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">setAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfFloat.html" title="interface in java.lang.foreign">ValueLayout.OfFloat</a><sup><a href="ValueLayout.OfFloat.html#preview-java.lang.foreign.ValueLayout.OfFloat">PREVIEW</a></sup>layout, longindex, floatvalue)  </span>   </div><div class="block">Writes a float into this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd><dd> <code>value</code> - the float value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfFloat,long,float)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfFloat,long,float)"/> <section class="detail" id="setAtIndex(java.lang.foreign.ValueLayout.OfFloat,long,float)"><h3>setAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">setAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfFloat.html" title="interface in java.lang.foreign">ValueLayout.OfFloat</a><sup><a href="ValueLayout.OfFloat.html#preview-java.lang.foreign.ValueLayout.OfFloat">PREVIEW</a></sup>layout, longindex, floatvalue)  </span>   </div><div class="block">Writes a float into this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd><dd> <code>value</code> - the float value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfFloat,long,float)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfFloat,long,float)"/> <section class="detail" id="setAtIndex(java.lang.foreign.ValueLayout.OfFloat,long,float)"><h3>setAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">setAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfFloat.html" title="interface in java.lang.foreign">ValueLayout.OfFloat</a><sup><a href="ValueLayout.OfFloat.html#preview-java.lang.foreign.ValueLayout.OfFloat">PREVIEW</a></sup>layout, longindex, floatvalue)  </span>   </div><div class="block">Writes a float into this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd><dd> <code>value</code> - the float value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfFloat,long,float)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:getAtIndex(java.lang.foreign.ValueLayout.OfLong,long) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfLong,long)"/> <section class="detail" id="getAtIndex(java.lang.foreign.ValueLayout.OfLong,long)"><h3>getAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">long</span><span class="element-name">getAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfLong.html" title="interface in java.lang.foreign">ValueLayout.OfLong</a><sup><a href="ValueLayout.OfLong.html#preview-java.lang.foreign.ValueLayout.OfLong">PREVIEW</a></sup>layout, longindex) </span>   </div><div class="block">Reads a long from this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd> <dt>Returns:</dt><dd>a long value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfLong,long)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfLong,long)"/> <section class="detail" id="getAtIndex(java.lang.foreign.ValueLayout.OfLong,long)"><h3>getAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">long</span><span class="element-name">getAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfLong.html" title="interface in java.lang.foreign">ValueLayout.OfLong</a><sup><a href="ValueLayout.OfLong.html#preview-java.lang.foreign.ValueLayout.OfLong">PREVIEW</a></sup>layout, longindex) </span>   </div><div class="block">Reads a long from this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd> <dt>Returns:</dt><dd>a long value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfLong,long)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfLong,long)"/> <section class="detail" id="getAtIndex(java.lang.foreign.ValueLayout.OfLong,long)"><h3>getAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">long</span><span class="element-name">getAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfLong.html" title="interface in java.lang.foreign">ValueLayout.OfLong</a><sup><a href="ValueLayout.OfLong.html#preview-java.lang.foreign.ValueLayout.OfLong">PREVIEW</a></sup>layout, longindex) </span>   </div><div class="block">Reads a long from this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd> <dt>Returns:</dt><dd>a long value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfLong,long)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:setAtIndex(java.lang.foreign.ValueLayout.OfLong,long,long) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfLong,long,long)"/> <section class="detail" id="setAtIndex(java.lang.foreign.ValueLayout.OfLong,long,long)"><h3>setAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">setAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfLong.html" title="interface in java.lang.foreign">ValueLayout.OfLong</a><sup><a href="ValueLayout.OfLong.html#preview-java.lang.foreign.ValueLayout.OfLong">PREVIEW</a></sup>layout, longindex, longvalue)  </span>   </div><div class="block">Writes a long into this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd><dd> <code>value</code> - the long value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfLong,long,long)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfLong,long,long)"/> <section class="detail" id="setAtIndex(java.lang.foreign.ValueLayout.OfLong,long,long)"><h3>setAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">setAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfLong.html" title="interface in java.lang.foreign">ValueLayout.OfLong</a><sup><a href="ValueLayout.OfLong.html#preview-java.lang.foreign.ValueLayout.OfLong">PREVIEW</a></sup>layout, longindex, longvalue)  </span>   </div><div class="block">Writes a long into this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd><dd> <code>value</code> - the long value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfLong,long,long)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfLong,long,long)"/> <section class="detail" id="setAtIndex(java.lang.foreign.ValueLayout.OfLong,long,long)"><h3>setAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">setAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfLong.html" title="interface in java.lang.foreign">ValueLayout.OfLong</a><sup><a href="ValueLayout.OfLong.html#preview-java.lang.foreign.ValueLayout.OfLong">PREVIEW</a></sup>layout, longindex, longvalue)  </span>   </div><div class="block">Writes a long into this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd><dd> <code>value</code> - the long value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfLong,long,long)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:getAtIndex(java.lang.foreign.ValueLayout.OfDouble,long) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfDouble,long)"/> <section class="detail" id="getAtIndex(java.lang.foreign.ValueLayout.OfDouble,long)"><h3>getAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">double</span><span class="element-name">getAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfDouble.html" title="interface in java.lang.foreign">ValueLayout.OfDouble</a><sup><a href="ValueLayout.OfDouble.html#preview-java.lang.foreign.ValueLayout.OfDouble">PREVIEW</a></sup>layout, longindex) </span>   </div><div class="block">Reads a double from this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd> <dt>Returns:</dt><dd>a double value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfDouble,long)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfDouble,long)"/> <section class="detail" id="getAtIndex(java.lang.foreign.ValueLayout.OfDouble,long)"><h3>getAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">double</span><span class="element-name">getAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfDouble.html" title="interface in java.lang.foreign">ValueLayout.OfDouble</a><sup><a href="ValueLayout.OfDouble.html#preview-java.lang.foreign.ValueLayout.OfDouble">PREVIEW</a></sup>layout, longindex) </span>   </div><div class="block">Reads a double from this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd> <dt>Returns:</dt><dd>a double value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfDouble,long)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfDouble,long)"/> <section class="detail" id="getAtIndex(java.lang.foreign.ValueLayout.OfDouble,long)"><h3>getAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">double</span><span class="element-name">getAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfDouble.html" title="interface in java.lang.foreign">ValueLayout.OfDouble</a><sup><a href="ValueLayout.OfDouble.html#preview-java.lang.foreign.ValueLayout.OfDouble">PREVIEW</a></sup>layout, longindex) </span>   </div><div class="block">Reads a double from this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd> <dt>Returns:</dt><dd>a double value read from this segment.      </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfDouble,long)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:setAtIndex(java.lang.foreign.ValueLayout.OfDouble,long,double) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfDouble,long,double)"/> <section class="detail" id="setAtIndex(java.lang.foreign.ValueLayout.OfDouble,long,double)"><h3>setAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">setAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfDouble.html" title="interface in java.lang.foreign">ValueLayout.OfDouble</a><sup><a href="ValueLayout.OfDouble.html#preview-java.lang.foreign.ValueLayout.OfDouble">PREVIEW</a></sup>layout, longindex, doublevalue)  </span>   </div><div class="block">Writes a double into this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd><dd> <code>value</code> - the double value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfDouble,long,double)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfDouble,long,double)"/> <section class="detail" id="setAtIndex(java.lang.foreign.ValueLayout.OfDouble,long,double)"><h3>setAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">setAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfDouble.html" title="interface in java.lang.foreign">ValueLayout.OfDouble</a><sup><a href="ValueLayout.OfDouble.html#preview-java.lang.foreign.ValueLayout.OfDouble">PREVIEW</a></sup>layout, longindex, doublevalue)  </span>   </div><div class="block">Writes a double into this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd><dd> <code>value</code> - the double value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfDouble,long,double)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfDouble,long,double)"/> <section class="detail" id="setAtIndex(java.lang.foreign.ValueLayout.OfDouble,long,double)"><h3>setAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">setAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfDouble.html" title="interface in java.lang.foreign">ValueLayout.OfDouble</a><sup><a href="ValueLayout.OfDouble.html#preview-java.lang.foreign.ValueLayout.OfDouble">PREVIEW</a></sup>layout, longindex, doublevalue)  </span>   </div><div class="block">Writes a double into this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd><dd> <code>value</code> - the double value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd>  </dl>  </section> <a end_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfDouble,long,double)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:getAtIndex(java.lang.foreign.ValueLayout.OfAddress,long) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfAddress,long)"/> <section class="detail" id="getAtIndex(java.lang.foreign.ValueLayout.OfAddress,long)"><h3>getAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">getAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfAddress.html" title="interface in java.lang.foreign">ValueLayout.OfAddress</a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress">PREVIEW</a></sup>layout, longindex) </span>   </div><div class="block"> Reads an address from this segment at the given at the given index, scaled by the given layout size. The read address is wrapped in a native segment, associated with <span class="diff-html-removed">theglobal</span><span class="diff-html-added">a</span> <span class="diff-html-added">fresh</span> scope <sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"/></sup><span class="diff-html-added">that</span> <span class="diff-html-added">is</span> <span class="diff-html-added">always</span> <span class="diff-html-added">alive</span>. Under normal conditions, the size of the returned segment is <code>0</code>. However, if the provided <span class="diff-html-added">address</span> layout <span class="diff-html-removed">is</span> <span class="diff-html-removed">an</span> <a href="ValueLayout.OfAddress.html#asUnbounded()" changeType="diff-removed-tag"><span class="diff-html-removed">unbounded</span></a><span class="diff-html-added">has</span> <span class="diff-html-added">a</span> <a href="ValueLayout.OfAddress.html#targetLayout()"><span class="diff-html-added">ValueLayout.OfAddress.targetLayout()</span></a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress">PREVIEW</a></sup><code> <span class="diff-html-removed">address</span> <span class="diff-html-removed">layout</span><span class="diff-html-added">T</span>  </code>, then the size of the returned segment is <code changeType="diff-removed-tag"><span class="diff-html-removed">Long.MAX_VALUE</span></code><span class="diff-html-added">set</span> <span class="diff-html-added">to</span> <code><span class="diff-html-added">T.byteSize()</span></code>.                                                                      </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd> <dt>Returns:</dt><dd>a native segment wrapping an address read from this segment.         </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size<span class="diff-html-added">.</span>                      </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang"><span class="diff-html-added">IllegalArgumentException</span></a></code> <span class="diff-html-added">-</span> <span class="diff-html-added">if</span> <span class="diff-html-added">provided</span> <span class="diff-html-added">address</span> <span class="diff-html-added">layout</span> <span class="diff-html-added">has</span> <span class="diff-html-added">a</span> <a href="ValueLayout.OfAddress.html#targetLayout()"><span class="diff-html-added">target</span> <span class="diff-html-added">layout</span> </a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress"><span class="diff-html-added">PREVIEW</span></a></sup><code><span class="diff-html-added">T</span></code><span class="diff-html-added">,</span> <span class="diff-html-added">and</span> <span class="diff-html-added">the</span> <span class="diff-html-added">address</span> <span class="diff-html-added">of</span> <span class="diff-html-added">the</span> <span class="diff-html-added">returned</span> <span class="diff-html-added">segment</span> <a href="MemorySegment.html#segment-alignment"><span class="diff-html-added">incompatible</span> <span class="diff-html-added">with</span> <span class="diff-html-added">the</span> <span class="diff-html-added">alignment</span> <span class="diff-html-added">constraint</span>    </a> <span class="diff-html-added">in</span> <code><span class="diff-html-added">T</span></code>.                   </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfAddress,long)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfAddress,long)"/> <section class="detail" id="getAtIndex(java.lang.foreign.ValueLayout.OfAddress,long)"><h3>getAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">getAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfAddress.html" title="interface in java.lang.foreign">ValueLayout.OfAddress</a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress">PREVIEW</a></sup>layout, longindex) </span>   </div><div class="block"> Reads an address from this segment at the given at the given index, scaled by the given layout size. The read address is wrapped in a native segment, associated with the <a href="SegmentScope.html#global()">global scope </a><sup changeType="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>. Under normal conditions, the size of the returned segment is <code>0</code>. However, if the provided layout is an <a href="ValueLayout.OfAddress.html#asUnbounded()" changeType="diff-removed-tag">unbounded</a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress">PREVIEW</a></sup> address layout, then the size of the returned segment is <code changeType="diff-removed-tag">Long.MAX_VALUE</code>.                                                              </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd> <dt>Returns:</dt><dd>a native segment wrapping an address read from this segment.         </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfAddress,long)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfAddress,long)"/> <section class="detail" id="getAtIndex(java.lang.foreign.ValueLayout.OfAddress,long)"><h3>getAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type"><a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup></span><span class="element-name">getAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfAddress.html" title="interface in java.lang.foreign">ValueLayout.OfAddress</a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress">PREVIEW</a></sup>layout, longindex) </span>   </div><div class="block"> Reads an address from this segment at the given at the given index, scaled by the given layout size. The read address is wrapped in a native segment, associated with a fresh scope that is always alive. Under normal conditions, the size of the returned segment is <code>0</code>. However, if the provided address layout has a <a href="ValueLayout.OfAddress.html#targetLayout()">ValueLayout.OfAddress.targetLayout()</a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress">PREVIEW</a></sup><code>T</code>, then the size of the returned segment is set to <code>T.byteSize()</code>.                                                                    </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be read.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd> <dt>Returns:</dt><dd>a native segment wrapping an address read from this segment.         </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if provided address layout has a <a href="ValueLayout.OfAddress.html#targetLayout()">target layout </a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress">PREVIEW</a></sup><code>T</code>, and the address of the returned segment <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in <code>T</code>.                   </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd>   </dl>  </section> <a end_ctx_id="method:getAtIndex(java.lang.foreign.ValueLayout.OfAddress,long)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:setAtIndex(java.lang.foreign.ValueLayout.OfAddress,long,java.lang.foreign.MemorySegment) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfAddress,long,java.lang.foreign.MemorySegment)"/> <section class="detail" id="setAtIndex(java.lang.foreign.ValueLayout.OfAddress,long,java.lang.foreign.MemorySegment)"><h3>setAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">setAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfAddress.html" title="interface in java.lang.foreign">ValueLayout.OfAddress</a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress">PREVIEW</a></sup>layout, longindex, <a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>value)  </span>   </div><div class="block">Writes an address into this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd><dd> <code>value</code> - the address value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code><span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if <code>value</code> is not a <a href="#isNative()">native</a> segment.         </dd>  </dl>  </section> <a end_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfAddress,long,java.lang.foreign.MemorySegment)"/>   </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfAddress,long,java.lang.foreign.MemorySegment)"/> <section class="detail" id="setAtIndex(java.lang.foreign.ValueLayout.OfAddress,long,java.lang.foreign.MemorySegment)"><h3>setAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">setAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfAddress.html" title="interface in java.lang.foreign">ValueLayout.OfAddress</a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress">PREVIEW</a></sup>layout, longindex, <a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>value)  </span>   </div><div class="block">Writes an address into this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd><dd> <code>value</code> - the address value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if <code>value</code> is not a <a href="#isNative()">native</a> segment.         </dd>  </dl>  </section> <a end_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfAddress,long,java.lang.foreign.MemorySegment)"/>   </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfAddress,long,java.lang.foreign.MemorySegment)"/> <section class="detail" id="setAtIndex(java.lang.foreign.ValueLayout.OfAddress,long,java.lang.foreign.MemorySegment)"><h3>setAtIndex</h3><div class="member-signature"> <span class="modifiers">default</span><span class="return-type">void</span><span class="element-name">setAtIndex</span> <wbr/> <span class="parameters">(<a href="ValueLayout.OfAddress.html" title="interface in java.lang.foreign">ValueLayout.OfAddress</a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress">PREVIEW</a></sup>layout, longindex, <a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>value)  </span>   </div><div class="block">Writes an address into this segment at the given index, scaled by the given layout size.               </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>layout</code> - the layout of the region of memory to be written.            </dd><dd> <code>index</code> - a logical index. The offset in bytes (relative to this segment address) at which the access operation will occur can be expressed as <code>(index * layout.byteSize())  </code>.                          </dd><dd> <code>value</code> - the address value to be written.        </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with this segment is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.            </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the access operation is <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the provided layout, or if the layout alignment is greater than its size.                      </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - when the access operation falls outside the <em>spatial bounds </em> of the memory segment.              </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment is <a href="#isReadOnly()">read-only</a>.       </dd><dd> <code><a href="../UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if <code>value</code> is not a <a href="#isNative()">native</a> segment.         </dd>  </dl>  </section> <a end_ctx_id="method:setAtIndex(java.lang.foreign.ValueLayout.OfAddress,long,java.lang.foreign.MemorySegment)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:equals(java.lang.Object) [NONE]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:equals(java.lang.Object)"/> <section class="detail" id="equals(java.lang.Object)"><h3>equals</h3><div class="member-signature"> <span class="return-type">boolean</span><span class="element-name">equals</span> <wbr/> <span class="parameters">(<a href="../Object.html" title="class in java.lang">Object</a>that)</span>   </div><div class="block"> Compares the specified object with this memory segment for equality. Returns <code>true</code> if and only if the specified object is also a memory segment, and if the two segments refer to the same location, in some region of memory. More specifically, for two segments <code>s1</code> and <code>s2</code> to be considered equals, all the following must be true:<ul><li> <code>s1.array().equals(s2.array())</code>, that is, the two segments must be of the same kind; either both are <a href="#isNative()">native segments </a>, backed by off-heap memory, or both are backed by the same on-heap Java array;                              </li><li> <code>s1.address() == s2.address()  </code>, that is, the address of the two segments should be the same. This means that the two segments either refer to the same location in some off-heap region, or they refer to the same position inside their associated Java array instance.                                          </li></ul>                                                         </div><dl class="notes"> <dt>Overrides:</dt><dd> <code><a href="../Object.html#equals(java.lang.Object)">equals</a></code>in class<code><a href="../Object.html" title="class in java.lang">Object</a></code>  </dd> <dt>API Note: </dt><dd> This method does not perform a structural comparison of the contents of the two memory segments. Clients can compare memory segments structurally by using the <a href="#mismatch(java.lang.foreign.MemorySegment)"><code>mismatch(MemorySegment)</code></a> method instead. Note that this method does <em>not</em> compare the temporal and spatial bounds of two segments. As such it is suitable to perform address checks, such as checking if a native segment has the <code>NULL</code> address.                                                               </dd> <dt>Parameters:</dt><dd> <code>that</code> - the object to be compared for equality with this memory segment.             </dd> <dt>Returns:</dt><dd> <code>true</code> if the specified object is equal to this memory segment.           </dd> <dt>See Also: </dt><dd><ul class="tag-list"><li> <a href="#mismatch(java.lang.foreign.MemorySegment)"><code>mismatch(MemorySegment)</code></a> </li></ul></dd>     </dl>  </section> <a end_ctx_id="method:equals(java.lang.Object)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:hashCode() [NONE]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:hashCode()"/> <section class="detail" id="hashCode()"><h3>hashCode</h3><div class="member-signature"> <span class="return-type">int</span><span class="element-name">hashCode</span>() </div><div class="block">Returns the hash code value for this memory segment.        </div><dl class="notes"> <dt>Overrides:</dt><dd> <code><a href="../Object.html#hashCode()">hashCode</a></code>in class<code><a href="../Object.html" title="class in java.lang">Object</a></code>  </dd> <dt>Returns:</dt><dd>the hash code value for this memory segment       </dd> <dt>See Also: </dt><dd><ul class="tag-list-long"><li> <a href="../Object.html#equals(java.lang.Object)"><code>Object.equals(java.lang.Object)</code></a> </li><li> <a href="../System.html#identityHashCode(java.lang.Object)"><code>System.identityHashCode(java.lang.Object)</code></a> </li></ul></dd>   </dl>  </section> <a end_ctx_id="method:hashCode()"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:copy(java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,java.lang.Object,int,int) [NONE]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:copy(java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,java.lang.Object,int,int)"/> <section class="detail" id="copy(java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,java.lang.Object,int,int)"><h3>copy</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type">void</span><span class="element-name">copy</span> <wbr/> <span class="parameters">(<a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>srcSegment, <a href="ValueLayout.html" title="interface in java.lang.foreign">ValueLayout</a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup>srcLayout, longsrcOffset, <a href="../Object.html" title="class in java.lang">Object</a>dstArray, intdstIndex, intelementCount)     </span>   </div><div class="block"> Copies a number of elements from a source memory segment to a destination array. The elements, whose size and alignment constraints are specified by the given layout, are read from the source segment, starting at the given offset (expressed in bytes), and are copied into the destination array, at the given index. Supported array types are <code>byte[]</code>, <code>char[]</code>, <code>short[]</code>, <code>int[]</code>, <code>float[]</code>, <code>long[]</code> and <code>double[]</code>.                                                                </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>srcSegment</code> - the source segment.     </dd><dd> <code>srcLayout</code> - the source element layout. If the byte order associated with the layout is different from the <a href="../../nio/ByteOrder.html#nativeOrder()">native order </a>, a byte swap operation will be performed on each array element.                              </dd><dd> <code>srcOffset</code> - the starting offset, in bytes, of the source segment.           </dd><dd> <code>dstArray</code> - the destination array.     </dd><dd> <code>dstIndex</code> - the starting index of the destination array.         </dd><dd> <code>elementCount</code> - the number of array elements to be copied.          </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with <code>srcSegment</code> is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.           </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>srcSegment().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>dstArray</code> is not an array, or if it is an array but whose type is not supported, if the destination array component type does not match the carrier of the source element layout, if the source segment/offset are <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the source element layout, or if the destination element layout alignment is greater than its size.                                                           </dd>  </dl>  </section> <a end_ctx_id="method:copy(java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,java.lang.Object,int,int)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:copy(java.lang.Object,int,java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,int) [NONE]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:copy(java.lang.Object,int,java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,int)"/> <section class="detail" id="copy(java.lang.Object,int,java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,int)"><h3>copy</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type">void</span><span class="element-name">copy</span> <wbr/> <span class="parameters">(<a href="../Object.html" title="class in java.lang">Object</a>srcArray, intsrcIndex, <a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>dstSegment, <a href="ValueLayout.html" title="interface in java.lang.foreign">ValueLayout</a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup>dstLayout, longdstOffset, intelementCount)     </span>   </div><div class="block"> Copies a number of elements from a source array to a destination memory segment. The elements, whose size and alignment constraints are specified by the given layout, are read from the source array, starting at the given index, and are copied into the destination segment, at the given offset (expressed in bytes). Supported array types are <code>byte[]</code>, <code>char[]</code>, <code>short[]</code>, <code>int[]</code>, <code>float[]</code>, <code>long[]</code> and <code>double[]</code>.                                                                </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>srcArray</code> - the source array.     </dd><dd> <code>srcIndex</code> - the starting index of the source array.         </dd><dd> <code>dstSegment</code> - the destination segment.     </dd><dd> <code>dstLayout</code> - the destination element layout. If the byte order associated with the layout is different from the <a href="../../nio/ByteOrder.html#nativeOrder()">native order </a>, a byte swap operation will be performed on each array element.                              </dd><dd> <code>dstOffset</code> - the starting offset, in bytes, of the destination segment.           </dd><dd> <code>elementCount</code> - the number of array elements to be copied.          </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with <code>dstSegment</code> is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.           </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>dstSegment().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>srcArray</code> is not an array, or if it is an array but whose type is not supported, if the source array component type does not match the carrier of the destination element layout, if the destination segment/offset are <a href="MemorySegment.html#segment-alignment">incompatible with the alignment constraint    </a> in the destination element layout, or if the destination element layout alignment is greater than its size.                                                           </dd>  </dl>  </section> <a end_ctx_id="method:copy(java.lang.Object,int,java.lang.foreign.MemorySegment,java.lang.foreign.ValueLayout,long,int)"/>   </td></tr></table></td></tr></table><table border="0" cellpadding="1" cellspacing="0" width="100%"><tr><td><h3 class="ctxid">method:mismatch(java.lang.foreign.MemorySegment,long,long,java.lang.foreign.MemorySegment,long,long) [CHANGED]</h3></td></tr><tr><td><table border="0" cellpadding="5" cellspacing="1" bgcolor="black" width="100%"><tr valign="top"><td bgcolor="#EEEEEE" colspan="2"> <a start_ctx_id="method:mismatch(java.lang.foreign.MemorySegment,long,long,java.lang.foreign.MemorySegment,long,long)"/> <section class="detail" id="mismatch(java.lang.foreign.MemorySegment,long,long,java.lang.foreign.MemorySegment,long,long)"><h3>mismatch</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type">long</span><span class="element-name">mismatch</span> <wbr/> <span class="parameters">(<a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>srcSegment, longsrcFromOffset, longsrcToOffset, <a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>dstSegment, longdstFromOffset, longdstToOffset)     </span>   </div><div class="block"> Finds and returns the relative offset, in bytes, of the first mismatch between the source and the destination segments. More specifically, the bytes at offset <code>srcFromOffset</code> through <code>srcToOffset - 1  </code> in the source segment are compared against the bytes at offset <code>dstFromOffset</code> through <code>dstToOffset - 1  </code> in the destination segment.<p> If the two segments, over the specified ranges, share a common prefix then the returned offset is the length of the common prefix, and it follows that there is a mismatch between the two segments at that relative offset within the respective segments. If one segment is a proper prefix of the other, over the specified ranges, then the returned offset is the smallest range, and it follows that the relative offset is only valid for the segment with the larger range. Otherwise, there is no mismatch and <code>-1</code> is returned.                                                                                           </p>                                              </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>srcSegment</code> - the source segment.     </dd><dd> <code>srcFromOffset</code> - the offset (inclusive) of the first byte in the source segment to be tested.                </dd><dd> <code>srcToOffset</code> - the offset (exclusive) of the last byte in the source segment to be tested.                </dd><dd> <code>dstSegment</code> - the destination segment.     </dd><dd> <code>dstFromOffset</code> - the offset (inclusive) of the first byte in the destination segment to be tested.                </dd><dd> <code>dstToOffset</code> - the offset (exclusive) of the last byte in the destination segment to be tested.                </dd> <dt>Returns:</dt><dd>the relative offset, in bytes, of the first mismatch between the source and destination segments, otherwise -1 if no mismatch.                   </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with <code>srcSegment</code> is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.           </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>srcSegment.<span class="diff-html-removed">scope().</span>isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with <code>dstSegment</code> is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.           </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>dstSegment<span class="diff-html-removed">.scope()</span>.isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>srcFromOffset &lt; 0  </code>, <code>srcToOffset &lt; srcFromOffset  </code> or <code>srcToOffset &gt; srcSegment.byteSize()  </code>       </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>dstFromOffset &lt; 0  </code>, <code>dstToOffset &lt; dstFromOffset  </code> or <code>dstToOffset &gt; dstSegment.byteSize()  </code>       </dd> <dt>See Also: </dt><dd><ul class="tag-list-long"><li> <a href="#mismatch(java.lang.foreign.MemorySegment)"><code>mismatch(MemorySegment)</code></a> </li><li> <a href="../../util/Arrays.html#mismatch(java.lang.Object%5B%5D,int,int,java.lang.Object%5B%5D,int,int)"><code>Arrays.mismatch(Object[], int, int, Object[], int, int)     </code></a> </li></ul></dd>    </dl>  </section>   <a end_ctx_id="method:mismatch(java.lang.foreign.MemorySegment,long,long,java.lang.foreign.MemorySegment,long,long)"/>     </td></tr><tr valign="top"><td bgcolor="#CCCCCC" colspan="1"> <a start_ctx_id="method:mismatch(java.lang.foreign.MemorySegment,long,long,java.lang.foreign.MemorySegment,long,long)"/> <section class="detail" id="mismatch(java.lang.foreign.MemorySegment,long,long,java.lang.foreign.MemorySegment,long,long)"><h3>mismatch</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type">long</span><span class="element-name">mismatch</span> <wbr/> <span class="parameters">(<a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>srcSegment, longsrcFromOffset, longsrcToOffset, <a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>dstSegment, longdstFromOffset, longdstToOffset)     </span>   </div><div class="block"> Finds and returns the relative offset, in bytes, of the first mismatch between the source and the destination segments. More specifically, the bytes at offset <code>srcFromOffset</code> through <code>srcToOffset - 1  </code> in the source segment are compared against the bytes at offset <code>dstFromOffset</code> through <code>dstToOffset - 1  </code> in the destination segment.<p> If the two segments, over the specified ranges, share a common prefix then the returned offset is the length of the common prefix, and it follows that there is a mismatch between the two segments at that relative offset within the respective segments. If one segment is a proper prefix of the other, over the specified ranges, then the returned offset is the smallest range, and it follows that the relative offset is only valid for the segment with the larger range. Otherwise, there is no mismatch and <code>-1</code> is returned.                                                                                           </p>                                              </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>srcSegment</code> - the source segment.     </dd><dd> <code>srcFromOffset</code> - the offset (inclusive) of the first byte in the source segment to be tested.                </dd><dd> <code>srcToOffset</code> - the offset (exclusive) of the last byte in the source segment to be tested.                </dd><dd> <code>dstSegment</code> - the destination segment.     </dd><dd> <code>dstFromOffset</code> - the offset (inclusive) of the first byte in the destination segment to be tested.                </dd><dd> <code>dstToOffset</code> - the offset (exclusive) of the last byte in the destination segment to be tested.                </dd> <dt>Returns:</dt><dd>the relative offset, in bytes, of the first mismatch between the source and destination segments, otherwise -1 if no mismatch.                   </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with <code>srcSegment</code> is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.           </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>srcSegment.scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with <code>dstSegment</code> is not <a href="SegmentScope.html#isAlive()">alive</a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope">PREVIEW</a></sup>.           </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>dstSegment.scope().isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>srcFromOffset &lt; 0  </code>, <code>srcToOffset &lt; srcFromOffset  </code> or <code>srcToOffset &gt; srcSegment.byteSize()  </code>       </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>dstFromOffset &lt; 0  </code>, <code>dstToOffset &lt; dstFromOffset  </code> or <code>dstToOffset &gt; dstSegment.byteSize()  </code>       </dd> <dt>See Also: </dt><dd><ul class="tag-list-long"><li> <a href="#mismatch(java.lang.foreign.MemorySegment)"><code>mismatch(MemorySegment)</code></a> </li><li> <a href="../../util/Arrays.html#mismatch(java.lang.Object%5B%5D,int,int,java.lang.Object%5B%5D,int,int)"><code>Arrays.mismatch(Object[], int, int, Object[], int, int)     </code></a> </li></ul></dd>    </dl>  </section>   <a end_ctx_id="method:mismatch(java.lang.foreign.MemorySegment,long,long,java.lang.foreign.MemorySegment,long,long)"/>     </td><td bgcolor="#FFFFFF" colspan="1"> <a start_ctx_id="method:mismatch(java.lang.foreign.MemorySegment,long,long,java.lang.foreign.MemorySegment,long,long)"/> <section class="detail" id="mismatch(java.lang.foreign.MemorySegment,long,long,java.lang.foreign.MemorySegment,long,long)"><h3>mismatch</h3><div class="member-signature"> <span class="modifiers">static</span><span class="return-type">long</span><span class="element-name">mismatch</span> <wbr/> <span class="parameters">(<a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>srcSegment, longsrcFromOffset, longsrcToOffset, <a href="MemorySegment.html" title="interface in java.lang.foreign">MemorySegment</a><sup><a href="#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>dstSegment, longdstFromOffset, longdstToOffset)     </span>   </div><div class="block"> Finds and returns the relative offset, in bytes, of the first mismatch between the source and the destination segments. More specifically, the bytes at offset <code>srcFromOffset</code> through <code>srcToOffset - 1  </code> in the source segment are compared against the bytes at offset <code>dstFromOffset</code> through <code>dstToOffset - 1  </code> in the destination segment.<p> If the two segments, over the specified ranges, share a common prefix then the returned offset is the length of the common prefix, and it follows that there is a mismatch between the two segments at that relative offset within the respective segments. If one segment is a proper prefix of the other, over the specified ranges, then the returned offset is the smallest range, and it follows that the relative offset is only valid for the segment with the larger range. Otherwise, there is no mismatch and <code>-1</code> is returned.                                                                                           </p>                                              </div><dl class="notes"> <dt>Parameters:</dt><dd> <code>srcSegment</code> - the source segment.     </dd><dd> <code>srcFromOffset</code> - the offset (inclusive) of the first byte in the source segment to be tested.                </dd><dd> <code>srcToOffset</code> - the offset (exclusive) of the last byte in the source segment to be tested.                </dd><dd> <code>dstSegment</code> - the destination segment.     </dd><dd> <code>dstFromOffset</code> - the offset (inclusive) of the first byte in the destination segment to be tested.                </dd><dd> <code>dstToOffset</code> - the offset (exclusive) of the last byte in the destination segment to be tested.                </dd> <dt>Returns:</dt><dd>the relative offset, in bytes, of the first mismatch between the source and destination segments, otherwise -1 if no mismatch.                   </dd> <dt>Throws:</dt><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with <code>srcSegment</code> is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.           </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>srcSegment.isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the <a href="#scope()">scope</a> associated with <code>dstSegment</code> is not <a href="MemorySegment.Scope.html#isAlive()">alive</a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope">PREVIEW</a></sup>.           </dd><dd> <code><a href="../WrongThreadException.html" title="class in java.lang">WrongThreadException</a></code> - if this method is called from a thread <code>T</code>, such that <code>dstSegment.isAccessibleBy(T) == false  </code>.              </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>srcFromOffset &lt; 0  </code>, <code>srcToOffset &lt; srcFromOffset  </code> or <code>srcToOffset &gt; srcSegment.byteSize()  </code>       </dd><dd> <code><a href="../IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>dstFromOffset &lt; 0  </code>, <code>dstToOffset &lt; dstFromOffset  </code> or <code>dstToOffset &gt; dstSegment.byteSize()  </code>       </dd> <dt>See Also: </dt><dd><ul class="tag-list-long"><li> <a href="#mismatch(java.lang.foreign.MemorySegment)"><code>mismatch(MemorySegment)</code></a> </li><li> <a href="../../util/Arrays.html#mismatch(java.lang.Object%5B%5D,int,int,java.lang.Object%5B%5D,int,int)"><code>Arrays.mismatch(Object[], int, int, Object[], int, int)     </code></a> </li></ul></dd>    </dl>  </section>   <a end_ctx_id="method:mismatch(java.lang.foreign.MemorySegment,long,long,java.lang.foreign.MemorySegment,long,long)"/>     </td></tr></table></td></tr></table></diff></diffreport>