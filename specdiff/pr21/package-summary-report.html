<html>
    <head>
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <style>
                        h3.ctxid {
                        padding-top:10;
                        margin: 0;
                        font-size: 12;
                        color: darkblue;
                        }
                        .diff-html-added {
                        font-size: 120%;
                        color: darkgreen;
                        background-color: #ccffcc;
                        cursor: pointer;
                        }
                        .diff-html-removed {
                        font-size: 100%;
                        text-decoration: line-through;
                        background-color: #fdc6c6;
                        cursor: pointer;
                        }
                        span.diff-html-added img{
                        border: 2px solid #ccffcc;
                        }
                        span.diff-html-removed img{
                        border: 2px solid #fdc6c6;
                        }
                    </style>
    </head>
    <body>
        <table cellpadding="1" cellspacing="0" border="0" width="100%">
            <tr>
                <td><a href="overview-summary.html" target="_parent">Overview Summary</a></td>
            </tr>
        </table>
        <div class="flex-box">
            <header role="banner" class="flex-header">
                <div style="padding: 6px; text-align: center; font-size: 80%; font-family: DejaVu Sans, Arial, Helvetica, sans-serif; font-weight: normal;">
                    This specification is not final and is subject to change. Use is subject to <a href="https://www.oracle.com/java/javase/terms/license/java21speclicense.html" target="_parent">license terms </a>.              
                </div>
                <nav role="navigation">
                    <div class="top-nav" id="navbar-top">
                        <button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
                        <div class="skip-nav">
                            <a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links  </a>
                        </div>
                        <div class="about-language">
                            <div style="margin-top: 9px;">
                                <strong>Java SE 21  </strong>
                                <br>
                                <strong>DRAFT 21-internal-LTS-2023-03-02-<span class="diff-html-removed">0913252</span><span class="diff-html-added">0908135</span>.per-ake.minborg.minborg-jdk </strong>
                            </div>
                        </div>
                        <ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
                            <li>
                                <a href="../../../../index.html" target="_parent">Overview</a>
                            </li>
                            <li>
                                <a href="../../../module-summary.html" target="_parent">Module</a>
                            </li>
                            <li class="nav-bar-cell1-rev">Package</li>
                            <li>Class</li>
                            <li>
                                <a href="package-use.html" target="_parent">Use</a>
                            </li>
                            <li>
                                <a href="package-tree.html" target="_parent">Tree</a>
                            </li>
                            <li>
                                <a href="../../../../preview-list.html" target="_parent">Preview</a>
                            </li>
                            <li>
                                <a href="../../../../new-list.html" target="_parent">New</a>
                            </li>
                            <li>
                                <a href="../../../../deprecated-list.html" target="_parent">Deprecated</a>
                            </li>
                            <li>
                                <a href="../../../../index-files/index-1.html" target="_parent">Index</a>
                            </li>
                            <li>
                                <a href="../../../../help-doc.html#package" target="_parent">Help</a>
                            </li>
                        </ul>
                        <ul class="sub-nav-list-small">
                            <li>
                                <p>Package:</p>
                                <ul>
                                    <li>
                                        <a href="#package-description">Description</a>
                                    </li>
                                    <li>
                                        <a href="#related-package-summary">Related Packages </a>
                                    </li>
                                    <li>
                                        <a href="#class-summary">Classes and Interfaces  </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <div class="sub-nav">
                        <div id="navbar-sub-list">
                            <ul class="sub-nav-list">
                                <li>Package:&nbsp;</li>
                                <li>
                                    <a href="#package-description">Description</a>&nbsp;|&nbsp;
                                </li>
                                <li>
                                    <a href="#related-package-summary">Related Packages </a>&nbsp;|&nbsp;
                                </li>
                                <li>
                                    <a href="#class-summary">Classes and Interfaces  </a>
                                </li>
                            </ul>
                        </div>
                        <div class="nav-list-search">
                            <a href="../../../../search.html" target="_parent">SEARCH</a><input type="text" id="search-input" disabled placeholder="Search"><input type="reset" id="reset-button" disabled value="reset">
                        </div>
                    </div>
                    <span class="skip-nav" id="skip-navbar-top"></span>
                </nav>
            </header>
            <div class="flex-content">
                <main role="main">
                    <div class="header">
                        <div class="sub-title">
                            <span class="module-label-in-package">Module</span>&nbsp;<a href="../../../module-summary.html" target="_parent">java.base</a>
                        </div>
                        <h1 title="Package java.lang.foreign" class="title">Package java.lang.foreign </h1>
                    </div>
                    <hr>
                    <div class="package-signature">
                        package <span class="element-name">java.lang.foreign</span> 
                    </div>
                    <section class="package-description" id="package-description">
                        <div class="block">
                            <p>Provides low-level access to memory and functions outside the Java runtime.          </p>
                            <h2 id="fma">Foreign memory access  </h2>
                            <p>
                                 The main abstraction introduced to support foreign memory access is <a href="MemorySegment.html" title="interface in java.lang.foreign" target="_parent"><code>MemorySegment</code></a><sup><a href="MemorySegment.html#preview-java.lang.foreign.MemorySegment" target="_parent">PREVIEW</a></sup>, which models a contiguous region of memory, residing either inside or outside the Java heap. The contents of a memory segment can be described using a <a href="MemoryLayout.html" title="interface in java.lang.foreign" target="_parent"><code>memory layout </code></a><sup><a href="MemoryLayout.html#preview-java.lang.foreign.MemoryLayout" target="_parent">PREVIEW</a></sup>, which provides basic operations to query sizes, offsets and alignment constraints. Memory layouts also provide an alternate, more abstract way, to <a href="MemorySegment.html#segment-deref" target="_parent">access memory segments  </a> using <a href="MemoryLayout.html#varHandle(java.lang.foreign.MemoryLayout.PathElement...)" target="_parent">var handles </a><sup><a href="MemoryLayout.html#preview-java.lang.foreign.MemoryLayout" target="_parent">PREVIEW</a></sup>, which can be computed using <a href="MemoryLayout.html#layout-paths" target="_parent"><em>layout paths </em></a>. For example, to allocate an off-heap region of memory big enough to hold 10 values of the primitive type <code>int</code>, and fill it with values ranging from <code>0</code> to <code>9</code>, we can use the following code:                                                                                                        
                            </p>
                            <div class="snippet-container">
                                <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"></button>
                                <pre class="snippet">
                                    <code class="language-java"> MemorySegment segment = <span class="diff-html-removed">MemorySegment</span><span class="diff-html-added">Arena.ofAuto()</span>.<span class="diff-html-removed">allocateNative</span><span class="diff-html-added">allocate</span>(10 * 4, <span class="diff-html-removed">SegmentScope.auto()</span><span class="diff-html-added">1</span>);
 for (int i = 0 ; i &lt; 10 ; i++) {
     segment.setAtIndex(ValueLayout.JAVA_INT, i, i);
 }
</code>
                                </pre>
                            </div>
                             This code creates a <em>native</em> memory segment, that is, a memory segment backed by off-heap memory; the size of the segment is 40 bytes, enough to store 10 values of the primitive type <code>int</code>. <span class="diff-html-removed">The</span><span class="diff-html-added">Native</span> <span class="diff-html-added">segments</span> <span class="diff-html-added">are</span> <span class="diff-html-added">allocated</span> <span class="diff-html-added">using</span> <span class="diff-html-added">an</span> <a href="Arena.html" title="interface in java.lang.foreign" target="_parent"><code><span class="diff-html-added">Arena</span></code></a><sup><a href="Arena.html#preview-java.lang.foreign.Arena" target="_parent"><span class="diff-html-added">PREVIEW</span></a></sup><span class="diff-html-added">.</span> <span class="diff-html-added">An</span> <span class="diff-html-added">arena</span> <span class="diff-html-added">controls</span> <span class="diff-html-added">the</span> <span class="diff-html-added">lifetime</span> <span class="diff-html-added">of</span> <span class="diff-html-added">all</span> <span class="diff-html-added">the</span> <span class="diff-html-added">segments</span> <span class="diff-html-added">allocated</span> <span class="diff-html-added">from</span> <span class="diff-html-added">it.</span> <span class="diff-html-added">In</span> <span class="diff-html-added">this</span> <span class="diff-html-added">case,</span> <span class="diff-html-added">as</span> <span class="diff-html-added">the</span> segment is <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span><span class="diff-html-added">allocated</span> <span class="diff-html-added">using</span> an <a href="Arena.html#ofAuto()" target="_parent">automatic <span class="diff-html-removed">scope</span><span class="diff-html-added">arena</span> </a><sup><a href="Arena.html#preview-java.lang.foreign.Arena" target="_parent">PREVIEW</a></sup>. This means that the off-heap region of memory backing the segment is managed, automatically, by the garbage collector. As such, the off-heap memory backing the native segment will be released at some unspecified point <em>after</em> the segment becomes <a href="../../../java/lang/ref/package.html#reachability" target="_parent">unreachable</a>. This is similar to what happens with direct buffers created via <a href="../../nio/ByteBuffer.html#allocateDirect(int)" target="_parent"><code>ByteBuffer.allocateDirect(int)</code></a>. It is also possible to manage the lifecycle of allocated native segments more directly, as shown in a later section.
                            <p>
                                 Inside a loop, we then initialize the contents of the memory segment; note how the <a href="MemorySegment.html#setAtIndex(java.lang.foreign.ValueLayout.OfInt,long,int)" target="_parent">access method </a><sup><a href="MemorySegment.html#preview-java.lang.foreign.MemorySegment" target="_parent">PREVIEW</a></sup> accepts a <a href="ValueLayout.html" title="interface in java.lang.foreign" target="_parent">value layout </a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout" target="_parent">PREVIEW</a></sup>, which specifies the size, alignment constraint, byte order as well as the Java type (<code>int</code>, in this case) associated with the access operation. More specifically, if we view the memory segment as a set of 10 adjacent slots, <code>s[i]</code>, where <code>0 &lt;= i &lt; 10    </code>, where the size of each slot is exactly 4 bytes, the initialization logic above will set each slot so that <code>s[i] = i  </code>, again where <code>0 &lt;= i &lt; 10    </code>.                                                                                    
                            </p>
                            <h3 id="deallocation">Deterministic deallocation </h3>
                             When writing code that manipulates memory segments, especially if backed by memory which resides outside the Java heap, it is often crucial that the resources associated with a memory segment are released when the segment is no longer in use, and in a timely fashion. For this reason, there might be cases where waiting for the garbage collector to determine that a segment is <a href="../../../java/lang/ref/package.html#reachability" target="_parent">unreachable</a> is not optimal. Clients that operate under these assumptions might want to programmatically release the memory backing a memory segment. This can be done, using <span class="diff-html-removed">the</span> <a href="Arena.html" title="interface in java.lang.foreign" changetype="diff-removed-tag" target="_parent"><code><span class="diff-html-removed">Arena</span></code><span class="diff-html-removed"></span></a><sup changetype="diff-removed-tag"><a href="Arena.html#preview-java.lang.foreign.Arena" target="_parent"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"></span></sup> <span class="diff-html-removed">abstraction</span><span class="diff-html-added">a</span> <em><span class="diff-html-added">confined</span> <span class="diff-html-added">arena</span> </em>, as shown below:
                            <div class="snippet-container">
                                <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"></button>
                                <pre class="snippet">
                                    <code class="language-java"> try (Arena arena = Arena.<span class="diff-html-removed">openConfined</span><span class="diff-html-added">ofConfined</span>()) {
     MemorySegment segment = arena.allocate(10 * 4);
     for (int i = 0 ; i &lt; 10 ; i++) {
         segment.setAtIndex(ValueLayout.JAVA_INT, i, i);
     }
 }
</code>
                                </pre>
                            </div>
                             <span class="diff-html-removed">This</span> <span class="diff-html-removed">example</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">almost</span> <span class="diff-html-removed">identical</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">prior</span> <span class="diff-html-removed">one;</span> <span class="diff-html-removed">this</span> <span class="diff-html-removed">time</span> <span class="diff-html-removed">we</span> <span class="diff-html-removed">first</span> <span class="diff-html-removed">create</span> <span class="diff-html-removed">an</span><span class="diff-html-added">A</span> <span class="diff-html-added">confined</span> <span class="diff-html-added">arena</span> <span class="diff-html-added">can</span> <span class="diff-html-added">be</span> <a href="Arena.html#close()" target="_parent"><span class="diff-html-added">closed</span></a><sup><a href="Arena.html#preview-java.lang.foreign.Arena" target="_parent"><span class="diff-html-added">PREVIEW</span></a></sup><span class="diff-html-added">.</span> <span class="diff-html-added">When</span> <span class="diff-html-added">a</span> <span class="diff-html-added">confined</span> arena <span class="diff-html-removed">which</span>is <span class="diff-html-removed">used</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">allocate</span> <span class="diff-html-removed">multiple</span> <span class="diff-html-removed">native</span> <span class="diff-html-removed">segments</span> <span class="diff-html-removed">which</span> <span class="diff-html-removed">share</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">same</span> <span class="diff-html-removed">life-cycle.</span> <span class="diff-html-removed">That</span> <span class="diff-html-removed">is</span><span class="diff-html-added">closed</span>, all the segments allocated by <span class="diff-html-removed">the</span> <span class="diff-html-removed">arena</span> <span class="diff-html-removed">will</span> <span class="diff-html-removed">be</span> <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">same</span> <a href="SegmentScope.html" title="interface in java.lang.foreign" changetype="diff-removed-tag" target="_parent"><span class="diff-html-removed">scope</span></a><sup changetype="diff-removed-tag"><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope" target="_parent"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"></span></sup><span class="diff-html-added">it</span> <span class="diff-html-added">are</span> <span class="diff-html-added">invalidated,</span> <span class="diff-html-added">and</span> <span class="diff-html-added">become</span> <span class="diff-html-added">inaccessible</span>. Note the use of the <em>try-with-resources</em> construct: this idiom ensures that the off-heap region of memory backing the native segment will be released at the end of the block, according to the semantics described in Section <a href="https://docs.oracle.com/javase/specs/jls/se21/html/jls-14.html#jls-14.20.3" target="_parent">14.20.3</a> of <cite>The Java Language Specification   </cite>.
                            <h3 id="safety">Safety</h3>
                             This API provides strong safety guarantees when it comes to memory access. First, when dereferencing a memory segment, the access coordinates are validated (upon access), to make sure that access does not occur at any address which resides <em>outside</em> the boundaries of the memory segment used by the access operation. We call this guarantee <em>spatial safety </em>; in other words, access to memory segments is bounds-checked, in the same way as array access is, as described in Section <a href="https://docs.oracle.com/javase/specs/jls/se21/html/jls-15.html#jls-15.10.4" target="_parent">15.10.4</a> of <cite>The Java Language Specification   </cite>.
                            <p>
                                 Since memory segments created with an arena can become invalid (see above), segments are also validated (upon access) to make sure that the <span class="diff-html-removed">scope</span> <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span><span class="diff-html-added">arena</span> <span class="diff-html-added">from</span> <span class="diff-html-added">which</span> the segment <span class="diff-html-removed">being</span> <span class="diff-html-removed">accessed</span> <span class="diff-html-removed">is</span> <span class="diff-html-removed">still</span> <span class="diff-html-removed">alive</span><span class="diff-html-added">has</span> <span class="diff-html-added">been</span> <span class="diff-html-added">obtained</span> <span class="diff-html-added">has</span> <span class="diff-html-added">not</span> <span class="diff-html-added">been</span> <span class="diff-html-added">closed</span>. We call this guarantee <em>temporal safety </em>. Together, spatial and temporal safety ensure that each memory access operation either succeeds - and accesses a valid location within the region of memory backing the memory segment - or fails.                                                                             
                            </p>
                            <h2 id="ffa">Foreign function access  </h2>
                             The key abstractions introduced to support foreign function access are <a href="SymbolLookup.html" title="interface in java.lang.foreign" target="_parent"><code>SymbolLookup</code></a><sup><a href="SymbolLookup.html#preview-java.lang.foreign.SymbolLookup" target="_parent">PREVIEW</a></sup>, <a href="FunctionDescriptor.html" title="interface in java.lang.foreign" target="_parent"><code>FunctionDescriptor</code></a><sup><a href="FunctionDescriptor.html#preview-java.lang.foreign.FunctionDescriptor" target="_parent">PREVIEW</a></sup> and <a href="Linker.html" title="interface in java.lang.foreign" target="_parent"><code>Linker</code></a><sup><a href="Linker.html#preview-java.lang.foreign.Linker" target="_parent">PREVIEW</a></sup>. The first is used to look up symbols inside libraries; the second is used to model the signature of foreign functions, while the third provides linking capabilities which allows modelling foreign functions as <a href="../invoke/MethodHandle.html" title="class in java.lang.invoke" target="_parent"><code>MethodHandle</code></a> instances, so that clients can perform foreign function calls directly in Java, without the need for intermediate layers of C/C++ code (as is the case with the <a href="../../../../../specs/jni/index.html" target="_parent">Java Native Interface (JNI)   </a>).
                            <p>
                                 For example, to compute the length of a string using the C standard library function <code>strlen</code> on a Linux x64 platform, we can use the following code:                           
                            </p>
                            <div class="snippet-container">
                                <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"></button>
                                <pre class="snippet">
                                    <code class="language-java"> Linker linker = Linker.nativeLinker();
 SymbolLookup stdlib = linker.defaultLookup();
 MethodHandle strlen = linker.downcallHandle(
     stdlib.find("strlen").get(),
     FunctionDescriptor.of(ValueLayout.JAVA_LONG, ValueLayout.ADDRESS)
 );

 try (Arena arena = Arena.<span class="diff-html-removed">openConfined</span><span class="diff-html-added">ofConfined</span>()) {
     MemorySegment cString = arena.allocateUtf8String("Hello");
     long len = (long)strlen.invoke(cString); // 5
 }
</code>
                                </pre>
                            </div>
                             Here, we obtain a <a href="Linker.html#nativeLinker()" target="_parent">native linker </a><sup><a href="Linker.html#preview-java.lang.foreign.Linker" target="_parent">PREVIEW</a></sup> and we use it to <a href="SymbolLookup.html#find(java.lang.String)" target="_parent">look up </a><sup><a href="SymbolLookup.html#preview-java.lang.foreign.SymbolLookup" target="_parent">PREVIEW</a></sup> the <code>strlen</code> symbol in the standard C library; a <em>downcall method handle  </em> targeting said symbol is subsequently <a href="Linker.html#downcallHandle(java.lang.foreign.FunctionDescriptor,java.lang.foreign.Linker.Option...)" target="_parent">obtained</a><sup><a href="Linker.html#preview-java.lang.foreign.Linker" target="_parent">PREVIEW</a></sup>. To complete the linking successfully, we must provide a <a href="FunctionDescriptor.html" title="interface in java.lang.foreign" target="_parent"><code>FunctionDescriptor</code></a><sup><a href="FunctionDescriptor.html#preview-java.lang.foreign.FunctionDescriptor" target="_parent">PREVIEW</a></sup> instance, describing the signature of the <code>strlen</code> function. From this information, the linker will uniquely determine the sequence of steps which will turn the method handle invocation (here performed using <a href="../invoke/MethodHandle.html#invoke(java.lang.Object...)" target="_parent"><code>MethodHandle.invoke(java.lang.Object...)</code></a>) into a foreign function call, according to the rules specified by the ABI of the underlying platform. The <a href="Arena.html" title="interface in java.lang.foreign" target="_parent"><code>Arena</code></a><sup><a href="Arena.html#preview-java.lang.foreign.Arena" target="_parent">PREVIEW</a></sup> class also provides many useful methods for interacting with foreign code, such as <a href="SegmentAllocator.html#allocateUtf8String(java.lang.String)" target="_parent">converting</a><sup><a href="SegmentAllocator.html#preview-java.lang.foreign.SegmentAllocator" target="_parent">PREVIEW</a></sup> Java strings into zero-terminated, UTF-8 strings, as demonstrated in the above example.
                            <h3 id="upcalls">Upcalls</h3>
                             The <a href="Linker.html" title="interface in java.lang.foreign" target="_parent"><code>Linker</code></a><sup><a href="Linker.html#preview-java.lang.foreign.Linker" target="_parent">PREVIEW</a></sup> interface also allows clients to turn an existing method handle (which might point to a Java method) into a memory segment, so that Java code can effectively be passed to other foreign functions. For instance, we can write a method that compares two integer values, as follows:
                            <div class="snippet-container">
                                <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"></button>
                                <pre class="snippet">
                                    <code class="language-java">class IntComparator {
    static int intCompare(MemorySegment addr1, MemorySegment addr2) {
        return addr1.get(ValueLayout.JAVA_INT, 0) -
               addr2.get(ValueLayout.JAVA_INT, 0);

    }
}
</code>
                                </pre>
                            </div>
                             The above method accesses two foreign memory segments containing an integer value, and performs a simple comparison by returning the difference between such values. We can then obtain a method handle which targets the above static method, as follows:
                            <div class="snippet-container">
                                <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"></button>
                                <pre class="snippet">
                                    <code class="language-java"> FunctionDescriptor intCompareDescriptor = FunctionDescriptor.of(ValueLayout.JAVA_INT,
                                                                 ValueLayout.ADDRESS.asUnbounded(),
                                                                 ValueLayout.ADDRESS.asUnbounded());
 MethodHandle intCompareHandle = MethodHandles.lookup().findStatic(IntComparator.class,
                                                 "intCompare",
                                                 intCompareDescriptor.toMethodType());
</code>
                                </pre>
                            </div>
                             As before, we need to create a <a href="FunctionDescriptor.html" title="interface in java.lang.foreign" target="_parent"><code>FunctionDescriptor</code></a><sup><a href="FunctionDescriptor.html#preview-java.lang.foreign.FunctionDescriptor" target="_parent">PREVIEW</a></sup> instance, this time describing the signature of the function pointer we want to create. The descriptor can be used to <a href="FunctionDescriptor.html#toMethodType()" target="_parent">derive</a><sup><a href="FunctionDescriptor.html#preview-java.lang.foreign.FunctionDescriptor" target="_parent">PREVIEW</a></sup> a method type that can be used to look up the method handle for <code>IntComparator.intCompare</code>.
                            <p>
                                 Now that we have a method handle instance, we can turn it into a fresh function pointer, using the <a href="Linker.html" title="interface in java.lang.foreign" target="_parent"><code>Linker</code></a><sup><a href="Linker.html#preview-java.lang.foreign.Linker" target="_parent">PREVIEW</a></sup> interface, as follows:                       
                            </p>
                            <div class="snippet-container">
                                <button class="copy snippet-copy"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"></button>
                                <pre class="snippet">
                                    <code class="language-java"> <span class="diff-html-removed">SegmentScope</span><span class="diff-html-added">Arena</span> <span class="diff-html-removed">scope</span><span class="diff-html-added">arena</span> = ...
 MemorySegment comparFunc = Linker.nativeLinker().upcallStub(
     intCompareHandle, intCompareDescriptor, <span class="diff-html-removed">scope</span><span class="diff-html-added">arena</span>);
 );
</code>
                                </pre>
                            </div>
                             The <a href="FunctionDescriptor.html" title="interface in java.lang.foreign" target="_parent"><code>FunctionDescriptor</code></a><sup><a href="FunctionDescriptor.html#preview-java.lang.foreign.FunctionDescriptor" target="_parent">PREVIEW</a></sup> instance created in the previous step is then used to <a href="Linker.html#upcallStub(java.lang.invoke.MethodHandle,java.lang.foreign.FunctionDescriptor,java.lang.foreign.Arena,java.lang.foreign.Linker.Option...)" target="_parent">create</a><sup><a href="Linker.html#preview-java.lang.foreign.Linker" target="_parent">PREVIEW</a></sup> a new upcall stub; the layouts in the function descriptors allow the linker to determine the sequence of steps which allow foreign code to call the stub for <code>intCompareHandle</code> according to the rules specified by the ABI of the underlying platform. The lifecycle of the upcall stub is tied to the <a href="Arena.html" title="interface in java.lang.foreign" target="_parent"> <a href="SegmentScope.html" title="interface in java.lang.foreign" changetype="diff-removed-tag" target="_parent"><span class="diff-html-removed">scope</span></a><span class="diff-html-added">arena</span> </a><sup><a href="Arena.html#preview-java.lang.foreign.Arena" target="_parent">PREVIEW</a></sup> provided when the upcall stub is created. <span class="diff-html-removed">This</span> <span class="diff-html-removed">same</span> <span class="diff-html-removed">scope</span><span class="diff-html-added">If</span> <span class="diff-html-added">the</span> <span class="diff-html-added">provided</span> <span class="diff-html-added">arena</span> is <span class="diff-html-removed">made</span> <span class="diff-html-removed">available</span> <span class="diff-html-removed">by</span><span class="diff-html-added">a</span> <span class="diff-html-added">confined</span> <span class="diff-html-added">arena,</span> <span class="diff-html-added">the</span> <span class="diff-html-added">upcall</span> <span class="diff-html-added">stub</span> <span class="diff-html-added">will</span> <span class="diff-html-added">be</span> <span class="diff-html-added">deallocated</span> <span class="diff-html-added">when</span> the <a href="MemorySegment.html" title="interface in java.lang.foreign" changetype="diff-removed-tag" target="_parent"><code><span class="diff-html-removed">MemorySegment</span></code><span class="diff-html-removed"></span></a><span class="diff-html-added">confined</span> <span class="diff-html-added">arena</span> <span class="diff-html-added">is</span> <a href="Arena.html#close()" target="_parent"><span class="diff-html-added">closed</span></a><sup><a href="Arena.html#preview-java.lang.foreign.Arena" target="_parent">PREVIEW</a></sup> <span class="diff-html-removed">instance</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">by</span> <span class="diff-html-removed">that</span> <span class="diff-html-removed">method</span>.
                            <h2 id="restricted">Restricted methods </h2>
                             Some methods in this package are considered <em>restricted</em>. Restricted methods are typically used to bind native foreign data and/or functions to first-class Java API elements which can then be used directly by clients. For instance the restricted method <a href="MemorySegment.html#reinterpret(long)" target="_parent"><code>MemorySegment.<span class="diff-html-removed">ofAddress</span><span class="diff-html-added">reinterpret</span>(<span class="diff-html-removed">long,</span>long<span class="diff-html-removed">,</span> <span class="diff-html-removed">SegmentScope</span>) </code></a><sup><a href="MemorySegment.html#preview-java.lang.foreign.MemorySegment" target="_parent">PREVIEW</a></sup> <span class="diff-html-added">()}</span> can be used to create a fresh segment with the <span class="diff-html-removed">given</span> <span class="diff-html-removed">spatial</span><span class="diff-html-added">same</span> <span class="diff-html-added">address</span> <span class="diff-html-added">and</span> <span class="diff-html-added">temporal</span> bounds <span class="diff-html-removed">out</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">a</span><span class="diff-html-added">,</span> <span class="diff-html-added">but</span> <span class="diff-html-added">with</span> <span class="diff-html-added">the</span> <span class="diff-html-added">provided</span> <span class="diff-html-added">size.</span> <span class="diff-html-added">This</span> <span class="diff-html-added">can</span> <span class="diff-html-added">be</span> <span class="diff-html-added">useful</span> <span class="diff-html-added">to</span> <span class="diff-html-added">resize</span> <span class="diff-html-added">memory</span> <span class="diff-html-added">segments</span> <span class="diff-html-added">obtained</span> <span class="diff-html-added">when</span> <span class="diff-html-added">interacting</span> <span class="diff-html-added">with</span> native <span class="diff-html-removed">address</span><span class="diff-html-added">functions</span>.
                            <p>
                                 Binding foreign data and/or functions is generally unsafe and, if done incorrectly, can result in VM crashes, or memory corruption when the bound Java API element is accessed. For instance, <span class="diff-html-removed">in</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">case</span> <span class="diff-html-removed">of</span><span class="diff-html-added">incorrectly</span> <span class="diff-html-added">resizing</span> <span class="diff-html-added">a</span> <span class="diff-html-added">native</span> <span class="diff-html-added">memory</span> <span class="diff-html-added">sgement</span> <span class="diff-html-added">using</span> <a href="MemorySegment.html#reinterpret(long)" target="_parent"><code>MemorySegment.<span class="diff-html-removed">ofAddress</span><span class="diff-html-added">reinterpret</span>(long<span class="diff-html-removed">,</span> <span class="diff-html-removed">long,</span> <span class="diff-html-removed">SegmentScope</span>)  </code></a><sup><a href="MemorySegment.html#preview-java.lang.foreign.MemorySegment" target="_parent">PREVIEW</a></sup> <span class="diff-html-removed">,</span> <span class="diff-html-removed">if</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">provided</span> <span class="diff-html-removed">spatial</span> <span class="diff-html-removed">bounds</span> <span class="diff-html-removed">are</span> <span class="diff-html-removed">incorrect,</span><span class="diff-html-added">can</span> <span class="diff-html-added">lead</span> <span class="diff-html-added">to</span> a <span class="diff-html-removed">client</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">returned</span> <span class="diff-html-removed">by</span> <span class="diff-html-removed">that</span> <span class="diff-html-removed">method</span> <span class="diff-html-removed">might</span><span class="diff-html-added">JVM</span> crash <span class="diff-html-removed">the</span> <span class="diff-html-removed">VM</span>, or <span class="diff-html-removed">corrupt</span><span class="diff-html-added">,</span> <span class="diff-html-added">worse,</span> <span class="diff-html-added">lead</span> <span class="diff-html-added">to</span> <span class="diff-html-added">silent</span> memory <span class="diff-html-added">corruption</span> when attempting to access <span class="diff-html-removed">said</span><span class="diff-html-added">the</span> <span class="diff-html-added">resized</span> segment. For these reasons, it is crucial for code that calls a restricted method to never pass arguments that might cause incorrect binding of foreign data and/or functions to a Java API.                                                                                                              
                            </p>
                            <p>
                                 Given the potential danger of restricted methods, the Java runtime issues a warning on the standard error stream every time a restricted method is invoked. Such warnings can be disabled by granting access to restricted methods to selected modules. This can be done either via implementation-specific command line options, or programmatically, e.g. by calling <a href="../ModuleLayer.Controller.html#enableNativeAccess(java.lang.Module)" target="_parent"><code>ModuleLayer.Controller.enableNativeAccess(java.lang.Module)</code></a><sup><a href="../ModuleLayer.Controller.html#preview-enableNativeAccess(java.lang.Module)" target="_parent">PREVIEW</a></sup>.                                                       
                            </p>
                            <p>
                                 For every class in this package, unless specified otherwise, any method arguments of reference type must not be null, and any null argument will elicit a <code>NullPointerException</code>. This fact is not individually documented for methods of this API.                                      
                            </p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                        </div>
                        <dl class="notes">
                            <dt>API Note: </dt>
                            <dd>
                                Usual memory model guarantees, for example stated in <a href="https://docs.oracle.com/javase/specs/jls/se21/html/jls-6.html#jls-6.6" target="_parent">6.6</a> and <a href="https://docs.oracle.com/javase/specs/jls/se21/html/jls-10.html#jls-10.4" target="_parent">10.4</a>, do not apply when accessing native memory segments as these segments are backed by off-heap regions of memory.                            
                            </dd>
                            <dt>Implementation Note: </dt>
                            <dd>
                                In the reference implementation, access to restricted methods can be granted to specific modules using the command line option <code>--enable-native-access=M1,M2, ... Mn  </code>, where <code>M1</code>, <code>M2</code>, <code>... Mn </code> are module names (for the unnamed module, the special value <code>ALL-UNNAMED</code> can be used). If this option is specified, access to restricted methods is only granted to the modules listed by that option. If this option is not specified, access to restricted methods is enabled for all modules, but access to restricted methods will result in runtime warnings.                                                                                 
                            </dd>
                        </dl>
                    </section>
                    <section class="summary">
                        <ul class="summary-list">
                            <li>
                                <div id="related-package-summary">
                                    <div class="caption">
                                        <span>Related Packages </span>
                                    </div>
                                    <div class="summary-table two-column-summary">
                                        <div class="table-header col-first">Package</div>
                                        <div class="table-header col-last">Description</div>
                                        <div class="col-first even-row-color">
                                            <a href="../package-summary.html" target="_parent">java.lang</a>
                                        </div>
                                        <div class="col-last even-row-color">
                                            <div class="block">Provides classes that are fundamental to the design of the Java programming language.            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <div id="class-summary">
                                    <div class="caption">
                                        <span>Interfaces</span>
                                    </div>
                                    <div class="summary-table two-column-summary">
                                        <div class="table-header col-first">Class</div>
                                        <div class="table-header col-last">Description</div>
                                        <div class="col-first even-row-color class-summary class-summary-tab1">
                                            <a href="Arena.html" title="interface in java.lang.foreign" target="_parent">Arena</a><sup><a href="Arena.html#preview-java.lang.foreign.Arena" target="_parent">PREVIEW</a></sup>
                                        </div>
                                        <div class="col-last even-row-color class-summary class-summary-tab1">
                                            <div class="block">
                                                <span class="preview-label">Preview.</span>
                                            </div>
                                            <div class="block">
                                                An arena controls the lifecycle of <span class="diff-html-added">native</span> memory segments, providing both flexible allocation and timely deallocation.               
                                            </div>
                                        </div>
                                        <div class="col-first odd-row-color class-summary class-summary-tab1">
                                            <a href="FunctionDescriptor.html" title="interface in java.lang.foreign" target="_parent">FunctionDescriptor</a><sup><a href="FunctionDescriptor.html#preview-java.lang.foreign.FunctionDescriptor" target="_parent">PREVIEW</a></sup>
                                        </div>
                                        <div class="col-last odd-row-color class-summary class-summary-tab1">
                                            <div class="block">
                                                <span class="preview-label">Preview.</span>
                                            </div>
                                            <div class="block">A function descriptor models the signature of foreign functions.        </div>
                                        </div>
                                        <div class="col-first even-row-color class-summary class-summary-tab1">
                                            <a href="GroupLayout.html" title="interface in java.lang.foreign" target="_parent">GroupLayout</a><sup><a href="GroupLayout.html#preview-java.lang.foreign.GroupLayout" target="_parent">PREVIEW</a></sup>
                                        </div>
                                        <div class="col-last even-row-color class-summary class-summary-tab1">
                                            <div class="block">
                                                <span class="preview-label">Preview.</span>
                                            </div>
                                            <div class="block">
                                                A compound layout that aggregates multiple <em>member layouts </em>.      
                                            </div>
                                        </div>
                                        <div class="col-first odd-row-color class-summary class-summary-tab1">
                                            <a href="Linker.html" title="interface in java.lang.foreign" target="_parent">Linker</a><sup><a href="Linker.html#preview-java.lang.foreign.Linker" target="_parent">PREVIEW</a></sup>
                                        </div>
                                        <div class="col-last odd-row-color class-summary class-summary-tab1">
                                            <div class="block">
                                                <span class="preview-label">Preview.</span>
                                            </div>
                                            <div class="block">A linker provides access to foreign functions from Java code, and access to Java code from foreign functions.                 </div>
                                        </div>
                                        <div class="col-first even-row-color class-summary class-summary-tab1">
                                            <a href="Linker.Option.html" title="interface in java.lang.foreign" target="_parent">Linker.Option</a><sup><a href="Linker.Option.html#preview-java.lang.foreign.Linker.Option" target="_parent">PREVIEW</a></sup>
                                        </div>
                                        <div class="col-last even-row-color class-summary class-summary-tab1">
                                            <div class="block">
                                                <span class="preview-label">Preview.</span>
                                            </div>
                                            <div class="block">
                                                A linker option is used to indicate additional linking requirements to the linker, besides what is described by a function descriptor<span class="diff-html-removed">.</span>
                                                <div class="col-first odd-row-color class-summary class-summary-tab1" changetype="diff-removed-tag">
                                                    <a href="Linker.Option.CaptureCallState.html" title="interface in java.lang.foreign" target="_parent"><span class="diff-html-removed">Linker.Option.CaptureCallState</span></a><sup><a href="Linker.Option.CaptureCallState.html#preview-java.lang.foreign.Linker.Option.CaptureCallState" target="_parent"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"></span></sup>
                                                </div>
                                                <div class="block" changetype="diff-removed-tag">
                                                    <span class="preview-label"><span class="diff-html-removed">Preview.</span></span>
                                                </div>
                                                <span class="diff-html-removed">A</span> <span class="diff-html-removed">linker</span> <span class="diff-html-removed">option</span> <span class="diff-html-removed">for</span> <span class="diff-html-removed">saving</span> <span class="diff-html-removed">portions</span> <span class="diff-html-removed">of</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">execution</span> <span class="diff-html-removed">state</span> <span class="diff-html-removed">immediately</span> <span class="diff-html-removed">after</span> <span class="diff-html-removed">calling</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">foreign</span> <span class="diff-html-removed">function</span> <span class="diff-html-removed">associated</span> <span class="diff-html-removed">with</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">downcall</span> <span class="diff-html-removed">method</span> <span class="diff-html-removed">handle,</span> <span class="diff-html-removed">before</span> <span class="diff-html-removed">it</span> <span class="diff-html-removed">can</span> <span class="diff-html-removed">be</span> <span class="diff-html-removed">overwritten</span> <span class="diff-html-removed">by</span> <span class="diff-html-removed">the</span> <span class="diff-html-removed">runtime,</span> <span class="diff-html-removed">or</span> <span class="diff-html-removed">read</span> <span class="diff-html-removed">through</span> <span class="diff-html-removed">conventional</span> <span class="diff-html-removed">means</span>.                                                      
                                            </div>
                                        </div>
                                        <div class="col-first odd-row-color class-summary class-summary-tab1">
                                            <a href="MemoryLayout.html" title="interface in java.lang.foreign" target="_parent">MemoryLayout</a><sup><a href="MemoryLayout.html#preview-java.lang.foreign.MemoryLayout" target="_parent">PREVIEW</a></sup>
                                        </div>
                                        <div class="col-last odd-row-color class-summary class-summary-tab1">
                                            <div class="block">
                                                <span class="preview-label">Preview.</span>
                                            </div>
                                            <div class="block">A memory layout describes the contents of a memory segment.         </div>
                                        </div>
                                        <div class="col-first even-row-color class-summary class-summary-tab1">
                                            <a href="MemoryLayout.PathElement.html" title="interface in java.lang.foreign" target="_parent">MemoryLayout.PathElement</a><sup><a href="MemoryLayout.PathElement.html#preview-java.lang.foreign.MemoryLayout.PathElement" target="_parent">PREVIEW</a></sup>
                                        </div>
                                        <div class="col-last even-row-color class-summary class-summary-tab1">
                                            <div class="block">
                                                <span class="preview-label">Preview.</span>
                                            </div>
                                            <div class="block">
                                                An element in a <a href="MemoryLayout.html#layout-paths" target="_parent"><em>layout path </em></a>.    
                                            </div>
                                        </div>
                                        <div class="col-first odd-row-color class-summary class-summary-tab1">
                                            <a href="MemorySegment.html" title="interface in java.lang.foreign" target="_parent">MemorySegment</a><sup><a href="MemorySegment.html#preview-java.lang.foreign.MemorySegment" target="_parent">PREVIEW</a></sup>
                                        </div>
                                        <div class="col-last odd-row-color class-summary class-summary-tab1">
                                            <div class="block">
                                                <span class="preview-label">Preview.</span>
                                            </div>
                                            <div class="block">
                                                A memory segment provides access to a contiguous region <span class="diff-html-added">of</span> <span class="diff-html-added">memory.</span>          
                                            </div>
                                        </div>
                                        <div class="col-first even-row-color class-summary class-summary-tab1">
                                            <a href="MemorySegment.Scope.html" title="interface in java.lang.foreign" target="_parent"><span class="diff-html-added">MemorySegment.Scope</span></a><sup><a href="MemorySegment.Scope.html#preview-java.lang.foreign.MemorySegment.Scope" target="_parent"><span class="diff-html-added">PREVIEW</span></a></sup>
                                        </div>
                                        <div class="col-last even-row-color class-summary class-summary-tab1">
                                            <div class="block">
                                                <span class="preview-label"><span class="diff-html-added">Preview.</span></span>
                                            </div>
                                            <div class="block">
                                                <span class="diff-html-added">A</span> <span class="diff-html-added">scope</span> <span class="diff-html-added">models</span> <span class="diff-html-added">the</span> <em><span class="diff-html-added">lifetime</span></em> of <span class="diff-html-added">all</span> <span class="diff-html-added">the</span> memory <span class="diff-html-added">segments</span> <span class="diff-html-added">associated</span> <span class="diff-html-added">with</span> <span class="diff-html-added">it</span>.            
                                            </div>
                                        </div>
                                        <div class="col-first odd-row-color class-summary class-summary-tab1">
                                            <a href="PaddingLayout.html" title="interface in java.lang.foreign" target="_parent">PaddingLayout</a><sup><a href="PaddingLayout.html#preview-java.lang.foreign.PaddingLayout" target="_parent">PREVIEW</a></sup>
                                        </div>
                                        <div class="col-last odd-row-color class-summary class-summary-tab1">
                                            <div class="block">
                                                <span class="preview-label">Preview.</span>
                                            </div>
                                            <div class="block">A padding layout.  </div>
                                        </div>
                                        <div class="col-first even-row-color class-summary class-summary-tab1">
                                            <a href="SegmentAllocator.html" title="interface in java.lang.foreign" target="_parent">SegmentAllocator</a><sup><a href="SegmentAllocator.html#preview-java.lang.foreign.SegmentAllocator" target="_parent">PREVIEW</a></sup>
                                        </div>
                                        <div class="col-last even-row-color class-summary class-summary-tab1">
                                            <div class="block">
                                                <span class="preview-label">Preview.</span>
                                            </div>
                                            <div class="block">
                                                An object that may be used to allocate <a href="MemorySegment.html" title="interface in java.lang.foreign" target="_parent">memory segments </a><sup><a href="MemorySegment.html#preview-java.lang.foreign.MemorySegment" target="_parent">PREVIEW</a></sup>.        
                                            </div>
                                        </div>
                                        <div class="col-first odd-row-color class-summary class-summary-tab1">
                                            <a href="SequenceLayout.html" title="interface in java.lang.foreign" target="_parent">
                                                <div class="col-first odd-row-color class-summary class-summary-tab1" changetype="diff-removed-tag">
                                                    <a href="SegmentScope.html" title="interface in java.lang.foreign" target="_parent"><span class="diff-html-removed">SegmentScope</span></a><sup><a href="SegmentScope.html#preview-java.lang.foreign.SegmentScope" target="_parent"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"></span></sup>
                                                </div>
                                                <div class="col-last odd-row-color class-summary class-summary-tab1" changetype="diff-removed-tag">
                                                    <div class="block">
                                                        <span class="preview-label"><span class="diff-html-removed">Preview.</span></span>
                                                    </div>
                                                    <div class="block">
                                                        <span class="diff-html-removed">A</span> <span class="diff-html-removed">segment</span> <span class="diff-html-removed">scope</span> <span class="diff-html-removed">controls</span> <span class="diff-html-removed">access</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">memory</span> <span class="diff-html-removed">segments.</span>       
                                                    </div>
                                                </div>
                                                SequenceLayout</a><sup><a href="SequenceLayout.html#preview-java.lang.foreign.SequenceLayout" target="_parent">PREVIEW</a></sup>
                                        </div>
                                        <div class="col-last odd-row-color class-summary class-summary-tab1">
                                            <div class="block">
                                                <span class="preview-label">Preview.</span>
                                            </div>
                                            <div class="block">
                                                A compound layout that denotes a repetition of a given <em>element layout </em>.          
                                            </div>
                                        </div>
                                        <div class="col-first even-row-color class-summary class-summary-tab1">
                                            <a href="StructLayout.html" title="interface in java.lang.foreign" target="_parent">StructLayout</a><sup><a href="StructLayout.html#preview-java.lang.foreign.StructLayout" target="_parent">PREVIEW</a></sup>
                                        </div>
                                        <div class="col-last even-row-color class-summary class-summary-tab1">
                                            <div class="block">
                                                <span class="preview-label">Preview.</span>
                                            </div>
                                            <div class="block">A group layout whose member layouts are laid out one after the other.            </div>
                                        </div>
                                        <div class="col-first odd-row-color class-summary class-summary-tab1">
                                            <a href="SymbolLookup.html" title="interface in java.lang.foreign" target="_parent">SymbolLookup</a><sup><a href="SymbolLookup.html#preview-java.lang.foreign.SymbolLookup" target="_parent">PREVIEW</a></sup>
                                        </div>
                                        <div class="col-last odd-row-color class-summary class-summary-tab1">
                                            <div class="block">
                                                <span class="preview-label">Preview.</span>
                                            </div>
                                            <div class="block">
                                                A <em>symbol lookup </em> retrieves the address of a symbol in one or more libraries.            
                                            </div>
                                        </div>
                                        <div class="col-first even-row-color class-summary class-summary-tab1">
                                            <a href="UnionLayout.html" title="interface in java.lang.foreign" target="_parent">UnionLayout</a><sup><a href="UnionLayout.html#preview-java.lang.foreign.UnionLayout" target="_parent">PREVIEW</a></sup>
                                        </div>
                                        <div class="col-last even-row-color class-summary class-summary-tab1">
                                            <div class="block">
                                                <span class="preview-label">Preview.</span>
                                            </div>
                                            <div class="block">A group layout whose member layouts are laid out at the same starting offset.             </div>
                                        </div>
                                        <div class="col-first odd-row-color class-summary class-summary-tab1">
                                            <a href="ValueLayout.html" title="interface in java.lang.foreign" target="_parent">
                                                <div class="col-first even-row-color class-summary class-summary-tab1" changetype="diff-removed-tag">
                                                    <a href="VaList.html" title="interface in java.lang.foreign" target="_parent"><span class="diff-html-removed">VaList</span></a><sup><a href="VaList.html#preview-java.lang.foreign.VaList" target="_parent"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"></span></sup>
                                                </div>
                                                <div class="col-last even-row-color class-summary class-summary-tab1" changetype="diff-removed-tag">
                                                    <div class="block">
                                                        <span class="preview-label"><span class="diff-html-removed">Preview.</span></span>
                                                    </div>
                                                    <div class="block">
                                                        <span class="diff-html-removed">Helper</span> <span class="diff-html-removed">class</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">create</span> <span class="diff-html-removed">and</span> <span class="diff-html-removed">manipulate</span> <span class="diff-html-removed">variable</span> <span class="diff-html-removed">argument</span> <span class="diff-html-removed">lists,</span> <span class="diff-html-removed">similar</span> <span class="diff-html-removed">in</span> <span class="diff-html-removed">functionality</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">a</span> <span class="diff-html-removed">C</span> <code><span class="diff-html-removed">va_list</span></code><span class="diff-html-removed">.</span>               
                                                    </div>
                                                </div>
                                                <div class="col-first odd-row-color class-summary class-summary-tab1" changetype="diff-removed-tag">
                                                    <a href="VaList.Builder.html" title="interface in java.lang.foreign" target="_parent"><span class="diff-html-removed">VaList.Builder</span></a><sup><a href="VaList.Builder.html#preview-java.lang.foreign.VaList.Builder" target="_parent"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"></span></sup>
                                                </div>
                                                <div class="col-last odd-row-color class-summary class-summary-tab1" changetype="diff-removed-tag">
                                                    <div class="block">
                                                        <span class="preview-label"><span class="diff-html-removed">Preview.</span></span>
                                                    </div>
                                                    <div class="block">
                                                        <span class="diff-html-removed">A</span> <span class="diff-html-removed">builder</span> <span class="diff-html-removed">used</span> <span class="diff-html-removed">to</span> <span class="diff-html-removed">construct</span> <span class="diff-html-removed">a</span> <a href="VaList.html" title="interface in java.lang.foreign" target="_parent"><span class="diff-html-removed">variable</span> <span class="diff-html-removed">argument</span> <span class="diff-html-removed">list</span>  </a><sup><a href="VaList.html#preview-java.lang.foreign.VaList" target="_parent"><span class="diff-html-removed">PREVIEW</span></a><span class="diff-html-removed"></span></sup><span class="diff-html-removed">.</span>      
                                                    </div>
                                                </div>
                                                ValueLayout</a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout" target="_parent">PREVIEW</a></sup>
                                        </div>
                                        <div class="col-last odd-row-color class-summary class-summary-tab1">
                                            <div class="block">
                                                <span class="preview-label">Preview.</span>
                                            </div>
                                            <div class="block">A layout that models values of basic data types.        </div>
                                        </div>
                                        <div class="col-first even-row-color class-summary class-summary-tab1">
                                            <a href="ValueLayout.OfAddress.html" title="interface in java.lang.foreign" target="_parent">ValueLayout.OfAddress</a><sup><a href="ValueLayout.OfAddress.html#preview-java.lang.foreign.ValueLayout.OfAddress" target="_parent">PREVIEW</a></sup>
                                        </div>
                                        <div class="col-last even-row-color class-summary class-summary-tab1">
                                            <div class="block">
                                                <span class="preview-label">Preview.</span>
                                            </div>
                                            <div class="block">
                                                A value layout whose carrier is <code>MemorySegment.class</code>.      
                                            </div>
                                        </div>
                                        <div class="col-first odd-row-color class-summary class-summary-tab1">
                                            <a href="ValueLayout.OfBoolean.html" title="interface in java.lang.foreign" target="_parent">ValueLayout.OfBoolean</a><sup><a href="ValueLayout.OfBoolean.html#preview-java.lang.foreign.ValueLayout.OfBoolean" target="_parent">PREVIEW</a></sup>
                                        </div>
                                        <div class="col-last odd-row-color class-summary class-summary-tab1">
                                            <div class="block">
                                                <span class="preview-label">Preview.</span>
                                            </div>
                                            <div class="block">
                                                A value layout whose carrier is <code>boolean.class</code>.      
                                            </div>
                                        </div>
                                        <div class="col-first even-row-color class-summary class-summary-tab1">
                                            <a href="ValueLayout.OfByte.html" title="interface in java.lang.foreign" target="_parent">ValueLayout.OfByte</a><sup><a href="ValueLayout.OfByte.html#preview-java.lang.foreign.ValueLayout.OfByte" target="_parent">PREVIEW</a></sup>
                                        </div>
                                        <div class="col-last even-row-color class-summary class-summary-tab1">
                                            <div class="block">
                                                <span class="preview-label">Preview.</span>
                                            </div>
                                            <div class="block">
                                                A value layout whose carrier is <code>byte.class</code>.      
                                            </div>
                                        </div>
                                        <div class="col-first odd-row-color class-summary class-summary-tab1">
                                            <a href="ValueLayout.OfChar.html" title="interface in java.lang.foreign" target="_parent">ValueLayout.OfChar</a><sup><a href="ValueLayout.OfChar.html#preview-java.lang.foreign.ValueLayout.OfChar" target="_parent">PREVIEW</a></sup>
                                        </div>
                                        <div class="col-last odd-row-color class-summary class-summary-tab1">
                                            <div class="block">
                                                <span class="preview-label">Preview.</span>
                                            </div>
                                            <div class="block">
                                                A value layout whose carrier is <code>char.class</code>.      
                                            </div>
                                        </div>
                                        <div class="col-first even-row-color class-summary class-summary-tab1">
                                            <a href="ValueLayout.OfDouble.html" title="interface in java.lang.foreign" target="_parent">ValueLayout.OfDouble</a><sup><a href="ValueLayout.OfDouble.html#preview-java.lang.foreign.ValueLayout.OfDouble" target="_parent">PREVIEW</a></sup>
                                        </div>
                                        <div class="col-last even-row-color class-summary class-summary-tab1">
                                            <div class="block">
                                                <span class="preview-label">Preview.</span>
                                            </div>
                                            <div class="block">
                                                A value layout whose carrier is <code>double.class</code>.      
                                            </div>
                                        </div>
                                        <div class="col-first odd-row-color class-summary class-summary-tab1">
                                            <a href="ValueLayout.OfFloat.html" title="interface in java.lang.foreign" target="_parent">ValueLayout.OfFloat</a><sup><a href="ValueLayout.OfFloat.html#preview-java.lang.foreign.ValueLayout.OfFloat" target="_parent">PREVIEW</a></sup>
                                        </div>
                                        <div class="col-last odd-row-color class-summary class-summary-tab1">
                                            <div class="block">
                                                <span class="preview-label">Preview.</span>
                                            </div>
                                            <div class="block">
                                                A value layout whose carrier is <code>float.class</code>.      
                                            </div>
                                        </div>
                                        <div class="col-first even-row-color class-summary class-summary-tab1">
                                            <a href="ValueLayout.OfInt.html" title="interface in java.lang.foreign" target="_parent">ValueLayout.OfInt</a><sup><a href="ValueLayout.OfInt.html#preview-java.lang.foreign.ValueLayout.OfInt" target="_parent">PREVIEW</a></sup>
                                        </div>
                                        <div class="col-last even-row-color class-summary class-summary-tab1">
                                            <div class="block">
                                                <span class="preview-label">Preview.</span>
                                            </div>
                                            <div class="block">
                                                A value layout whose carrier is <code>int.class</code>.      
                                            </div>
                                        </div>
                                        <div class="col-first odd-row-color class-summary class-summary-tab1">
                                            <a href="ValueLayout.OfLong.html" title="interface in java.lang.foreign" target="_parent">ValueLayout.OfLong</a><sup><a href="ValueLayout.OfLong.html#preview-java.lang.foreign.ValueLayout.OfLong" target="_parent">PREVIEW</a></sup>
                                        </div>
                                        <div class="col-last odd-row-color class-summary class-summary-tab1">
                                            <div class="block">
                                                <span class="preview-label">Preview.</span>
                                            </div>
                                            <div class="block">
                                                A value layout whose carrier is <code>long.class</code>.      
                                            </div>
                                        </div>
                                        <div class="col-first even-row-color class-summary class-summary-tab1">
                                            <a href="ValueLayout.OfShort.html" title="interface in java.lang.foreign" target="_parent">ValueLayout.OfShort</a><sup><a href="ValueLayout.OfShort.html#preview-java.lang.foreign.ValueLayout.OfShort" target="_parent">PREVIEW</a></sup>
                                        </div>
                                        <div class="col-last even-row-color class-summary class-summary-tab1">
                                            <div class="block">
                                                <span class="preview-label">Preview.</span>
                                            </div>
                                            <div class="block">
                                                A value layout whose carrier is <code>short.class</code>.      
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </section>
                </main>
                <footer role="contentinfo">
                    <hr>
                    <p class="legal-copy">
                        <small><a href="https://bugreport.java.com/bugreport/" target="_parent">Report a bug or suggest an enhancement      </a>
                            <br>
                             For further API reference and developer documentation see the <a href="https://docs.oracle.com/pls/topic/lookup?ctx=javase21&amp;id=homepage" target="_parent">Java SE Documentation  </a>, which contains more detailed, developer-targeted descriptions with conceptual overviews, definitions of terms, workarounds, and working code examples. 
                            <br>
                             Java is a trademark or registered trademark of Oracle and/or its affiliates in the US and other countries.
                            <br>
                            <a href="../../../../../legal/copyright.html" target="_parent">Copyright</a> &copy; 1993, 2023, Oracle and/or its affiliates, 500 Oracle Parkway, Redwood Shores, CA 94065 USA.
                            <br>
                            All rights reserved. Use is subject to <a href="https://www.oracle.com/java/javase/terms/license/java21speclicense.html" target="_parent">license terms </a> and the <a href="https://www.oracle.com/technetwork/java/redist-137594.html" target="_parent">documentation redistribution policy  </a>. 
                            <br>
                            <strong>DRAFT 21-internal-LTS-2023-03-02-<span class="diff-html-removed">0913252</span><span class="diff-html-added">0908135</span>.per-ake.minborg.minborg-jdk </strong>                                                                        </small>
                    </p>
                </footer>
            </div>
        </div>
        <p style="text-align:center; font-size:10px;"></p>
    </body>
</html>
